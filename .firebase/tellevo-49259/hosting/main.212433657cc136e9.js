(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5504:(bn,ht,O)=>{"use strict";O.d(ht,{$:()=>Js,A:()=>fe,G:()=>Be,K:()=>Qr,L:()=>Vi,N:()=>Yn,P:()=>Ho,R:()=>ao,U:()=>Ut,V:()=>Zo,W:()=>Sa,X:()=>pa,Y:()=>ku,Z:()=>eo,_:()=>Co,a:()=>Ja,a0:()=>Bo,a1:()=>G,a2:()=>oe,a3:()=>Te,a4:()=>to,a5:()=>fo,a6:()=>na,a7:()=>Cc,a8:()=>fs,a9:()=>Dd,aA:()=>Gi,aB:()=>be,aC:()=>ze,aD:()=>Ld,aE:()=>Qe,aF:()=>fn,aG:()=>rn,aH:()=>Bu,aI:()=>Ur,aJ:()=>se,aN:()=>va,aQ:()=>Ui,aa:()=>Tc,ab:()=>Lu,ac:()=>Qa,ad:()=>ml,ae:()=>Sd,af:()=>ma,ag:()=>kl,ah:()=>bc,ak:()=>ko,al:()=>Cn,am:()=>xi,ap:()=>Ka,aq:()=>H,as:()=>wn,at:()=>io,au:()=>$t,av:()=>Mi,aw:()=>ni,ax:()=>tt,ay:()=>ki,az:()=>Nc,b:()=>di,c:()=>To,d:()=>Rs,e:()=>Fa,f:()=>Yh,g:()=>Nd,h:()=>Mc,i:()=>Vp,j:()=>Up,k:()=>Ko,l:()=>Ll,m:()=>Ea,o:()=>zp,p:()=>Le,r:()=>cu,s:()=>El,u:()=>Ki});var c=O(467),h=O(7852),L=O(1076),Se=O(8041),le=O(1635),he=O(1362);const Le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},st=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new L.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new Se.Vy("@firebase/auth");function Ke(C,...p){et.logLevel<=Se.$b.ERROR&&et.error(`Auth (${h.SDK_VERSION}): ${C}`,...p)}function tt(C,...p){throw Dt(C,...p)}function be(C,...p){return Dt(C,...p)}function ke(C,p,v){const w=Object.assign(Object.assign({},st()),{[p]:v});return new L.FA("auth","Firebase",w).create(p,{appName:C.name})}function it(C){return ke(C,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vt(C,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&tt(C,"argument-error"),ke(C,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(C,...p){if("string"!=typeof C){const v=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=C.name),C._errorFactory.create(v,...w)}return dt.create(C,...p)}function ze(C,p,...v){if(!C)throw Dt(p,...v)}function Ve(C){const p="INTERNAL ASSERTION FAILED: "+C;throw Ke(p),new Error(p)}function $t(C,p){C||Ve(p)}function Qt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function En(){return"http:"===Zt()||"https:"===Zt()}function Zt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Pe{constructor(p,v){this.shortDelay=p,this.longDelay=v,$t(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.jZ)()||(0,L.lV)()}get(){return function Nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(En()||(0,L.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function te(C,p){$t(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class ne{static initialize(p,v,w){this.fetchImpl=p,v&&(this.headersImpl=v),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new Pe(3e4,6e4);function ve(C,p){return C.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:C.tenantId}):p}function Me(C,p,v,w){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,c.A)(function*(C,p,v,w,W={}){return Xe(C,W,(0,c.A)(function*(){let Ie={},gt={};w&&("GET"===p?gt=w:Ie={body:JSON.stringify(w)});const Ht=(0,L.Am)(Object.assign({key:C.config.apiKey},gt)).slice(1),yn=yield C._getAdditionalHeaders();yn["Content-Type"]="application/json",C.languageCode&&(yn["X-Firebase-Locale"]=C.languageCode);const lr=Object.assign({method:p,headers:yn},Ie);return(0,L.c1)()||(lr.referrerPolicy="no-referrer"),ne.fetch()(In(C,C.config.apiHost,v,Ht),lr)}))})).apply(this,arguments)}function Xe(C,p,v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,c.A)(function*(C,p,v){C._canInitEmulator=!1;const w=Object.assign(Object.assign({},de),p);try{const W=new tr(C),Ie=yield Promise.race([v(),W.promise]);W.clearNetworkTimeout();const gt=yield Ie.json();if("needConfirmation"in gt)throw qn(C,"account-exists-with-different-credential",gt);if(Ie.ok&&!("errorMessage"in gt))return gt;{const Ht=Ie.ok?gt.errorMessage:gt.error.message,[yn,lr]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yn)throw qn(C,"credential-already-in-use",gt);if("EMAIL_EXISTS"===yn)throw qn(C,"email-already-in-use",gt);if("USER_DISABLED"===yn)throw qn(C,"user-disabled",gt);const gr=w[yn]||yn.toLowerCase().replace(/[_\s]+/g,"-");if(lr)throw ke(C,gr,lr);tt(C,gr)}}catch(W){if(W instanceof L.g)throw W;tt(C,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function we(C,p,v,w){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.A)(function*(C,p,v,w,W={}){const Ie=yield Me(C,p,v,w,W);return"mfaPendingCredential"in Ie&&tt(C,"multi-factor-auth-required",{_serverResponse:Ie}),Ie})).apply(this,arguments)}function In(C,p,v,w){const W=`${p}${v}?${w}`;return C.config.emulator?te(C.config,W):`${C.config.apiScheme}://${W}`}function Vn(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(C,p,v){const w={appName:C.name};v.email&&(w.email=v.email),v.phoneNumber&&(w.phoneNumber=v.phoneNumber);const W=be(C,p,w);return W.customData._tokenResponse=v,W}function Jn(C){return void 0!==C&&void 0!==C.getResponse}function nr(C){return void 0!==C&&void 0!==C.enterprise}class rr{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===p)return Vn(v.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Lt(){return(Lt=(0,c.A)(function*(C){return(yield Me(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ft(C,p){return on.apply(this,arguments)}function on(){return(on=(0,c.A)(function*(C,p){return Me(C,"GET","/v2/recaptchaConfig",ve(C,p))})).apply(this,arguments)}function yr(){return(yr=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function On(){return(On=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pn(C,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ir(C){if(C)try{const p=new Date(Number(C));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function mr(){return(mr=(0,c.A)(function*(C,p=!1){const v=(0,L.Ku)(C),w=yield v.getIdToken(p),W=Er(w);ze(W&&W.exp&&W.auth_time&&W.iat,v.auth,"internal-error");const Ie="object"==typeof W.firebase?W.firebase:void 0,gt=null==Ie?void 0:Ie.sign_in_provider;return{claims:W,token:w,authTime:Ir(Xr(W.auth_time)),issuedAtTime:Ir(Xr(W.iat)),expirationTime:Ir(Xr(W.exp)),signInProvider:gt||null,signInSecondFactor:(null==Ie?void 0:Ie.sign_in_second_factor)||null}})).apply(this,arguments)}function Xr(C){return 1e3*Number(C)}function Er(C){const[p,v,w]=C.split(".");if(void 0===p||void 0===v||void 0===w)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,L.u)(v);return W?JSON.parse(W):(Ke("Failed to decode base64 JWT payload"),null)}catch(W){return Ke("Caught error parsing JWT payload as JSON",null==W?void 0:W.toString()),null}}function Pr(C){const p=Er(C);return ze(p,"internal-error"),ze(typeof p.exp<"u","internal-error"),ze(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Ln(C,p){return si.apply(this,arguments)}function si(){return(si=(0,c.A)(function*(C,p,v=!1){if(v)return p;try{return yield p}catch(w){throw w instanceof L.g&&function Cr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(w)&&C.auth.currentUser===C&&(yield C.auth.signOut()),w}})).apply(this,arguments)}class Zr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const W=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield v.iteration()}),w)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&p.schedule(!0))}p.schedule()})()}}class $n{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(C){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.A)(function*(C){var p;const v=C.auth,w=yield C.getIdToken(),W=yield Ln(C,Pn(v,{idToken:w}));ze(null==W?void 0:W.users.length,v,"internal-error");const Ie=W.users[0];C._notifyReloadListener(Ie);const gt=null!==(p=Ie.providerUserInfo)&&void 0!==p&&p.length?kt(Ie.providerUserInfo):[],Ht=function nt(C,p){return[...C.filter(w=>!p.some(W=>W.providerId===w.providerId)),...p]}(C.providerData,gt),gr=!!C.isAnonymous&&!(C.email&&Ie.passwordHash||null!=Ht&&Ht.length),ti={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:Ht,metadata:new $n(Ie.createdAt,Ie.lastLoginAt),isAnonymous:gr};Object.assign(C,ti)})).apply(this,arguments)}function Tt(){return(Tt=(0,c.A)(function*(C){const p=(0,L.Ku)(C);yield Rn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function kt(C){return C.map(p=>{var{providerId:v}=p,w=(0,le.Tt)(p,["providerId"]);return{providerId:v,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ut(){return(ut=(0,c.A)(function*(C,p){const v=yield Xe(C,{},(0,c.A)(function*(){const w=(0,L.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:W,apiKey:Ie}=C.config,gt=In(C,W,"/v1/token",`key=${Ie}`),Ht=yield C._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",ne.fetch()(gt,{method:"POST",headers:Ht,body:w})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function Z(){return(Z=(0,c.A)(function*(C,p){return Me(C,"POST","/v2/accounts:revokeToken",ve(C,p))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ze(p.idToken,"internal-error"),ze(typeof p.idToken<"u","internal-error"),ze(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Pr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}updateFromIdToken(p){ze(0!==p.length,"internal-error");const v=Pr(p);this.updateTokensAndExpiration(p,null,v)}getToken(p,v=!1){var w=this;return(0,c.A)(function*(){return v||!w.accessToken||w.isExpired?(ze(w.refreshToken,p,"user-token-expired"),w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var w=this;return(0,c.A)(function*(){const{accessToken:W,refreshToken:Ie,expiresIn:gt}=yield function rt(C,p){return ut.apply(this,arguments)}(p,v);w.updateTokensAndExpiration(W,Ie,Number(gt))})()}updateTokensAndExpiration(p,v,w){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,v){const{refreshToken:w,accessToken:W,expirationTime:Ie}=v,gt=new P;return w&&(ze("string"==typeof w,"internal-error",{appName:p}),gt.refreshToken=w),W&&(ze("string"==typeof W,"internal-error",{appName:p}),gt.accessToken=W),Ie&&(ze("number"==typeof Ie,"internal-error",{appName:p}),gt.expirationTime=Ie),gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function F(C,p){ze("string"==typeof C||typeof C>"u","internal-error",{appName:p})}class ce{constructor(p){var{uid:v,auth:w,stsTokenManager:W}=p,Ie=(0,le.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=w,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new $n(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,c.A)(function*(){const w=yield Ln(v,v.stsTokenManager.getToken(v.auth,p));return ze(w,v.auth,"internal-error"),v.accessToken!==w&&(v.accessToken=w,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),w})()}getIdTokenResult(p){return function Kn(C){return mr.apply(this,arguments)}(this,p)}reload(){return function vr(C){return Tt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ze(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new ce(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var w=this;return(0,c.A)(function*(){let W=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),W=!0),v&&(yield Rn(w)),yield w.auth._persistUserIfCurrent(w),W&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(p.auth.app))return Promise.reject(it(p.auth));const v=yield p.getIdToken();return yield Ln(p,function Ot(C,p){return yr.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var w,W,Ie,gt,Ht,yn,lr,gr;const ti=null!==(w=v.displayName)&&void 0!==w?w:void 0,ua=null!==(W=v.email)&&void 0!==W?W:void 0,ol=null!==(Ie=v.phoneNumber)&&void 0!==Ie?Ie:void 0,sl=null!==(gt=v.photoURL)&&void 0!==gt?gt:void 0,Gl=null!==(Ht=v.tenantId)&&void 0!==Ht?Ht:void 0,ca=null!==(yn=v._redirectEventId)&&void 0!==yn?yn:void 0,Wl=null!==(lr=v.createdAt)&&void 0!==lr?lr:void 0,Wu=null!==(gr=v.lastLoginAt)&&void 0!==gr?gr:void 0,{uid:al,emailVerified:Hd,isAnonymous:Ku,providerData:bl,stsTokenManager:Gp}=v;ze(al&&Gp,p,"internal-error");const Wp=P.fromJSON(this.name,Gp);ze("string"==typeof al,p,"internal-error"),F(ti,p.name),F(ua,p.name),ze("boolean"==typeof Hd,p,"internal-error"),ze("boolean"==typeof Ku,p,"internal-error"),F(ol,p.name),F(sl,p.name),F(Gl,p.name),F(ca,p.name),F(Wl,p.name),F(Wu,p.name);const Hi=new ce({uid:al,auth:p,email:ua,emailVerified:Hd,displayName:ti,isAnonymous:Ku,photoURL:sl,phoneNumber:ol,tenantId:Gl,stsTokenManager:Wp,createdAt:Wl,lastLoginAt:Wu});return bl&&Array.isArray(bl)&&(Hi.providerData=bl.map(Vc=>Object.assign({},Vc))),ca&&(Hi._redirectEventId=ca),Hi}static _fromIdTokenResponse(p,v,w=!1){return(0,c.A)(function*(){const W=new P;W.updateFromServerResponse(v);const Ie=new ce({uid:v.localId,auth:p,stsTokenManager:W,isAnonymous:w});return yield Rn(Ie),Ie})()}static _fromGetAccountInfoResponse(p,v,w){return(0,c.A)(function*(){const W=v.users[0];ze(void 0!==W.localId,"internal-error");const Ie=void 0!==W.providerUserInfo?kt(W.providerUserInfo):[],gt=!(W.email&&W.passwordHash||null!=Ie&&Ie.length),Ht=new P;Ht.updateFromIdToken(w);const yn=new ce({uid:W.localId,auth:p,stsTokenManager:Ht,isAnonymous:gt}),lr={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:Ie,metadata:new $n(W.createdAt,W.lastLoginAt),isAnonymous:!(W.email&&W.passwordHash||null!=Ie&&Ie.length)};return Object.assign(yn,lr),yn})()}}const ae=new Map;function Qe(C){$t(C instanceof Function,"Expected a class definition");let p=ae.get(C);return p?($t(p instanceof C,"Instance stored in cache mismatched with class"),p):(p=new C,ae.set(C,p),p)}const Ut=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(v,w){var W=this;return(0,c.A)(function*(){W.storage[v]=w})()}_get(v){var w=this;return(0,c.A)(function*(){const W=w.storage[v];return void 0===W?null:W})()}_remove(v){var w=this;return(0,c.A)(function*(){delete w.storage[v]})()}_addListener(v,w){}_removeListener(v,w){}}return C.type="NONE",C})();function fn(C,p,v){return`firebase:${C}:${p}:${v}`}class un{constructor(p,v,w){this.persistence=p,this.auth=v,this.userKey=w;const{config:W,name:Ie}=this.auth;this.fullUserKey=fn(this.userKey,W.apiKey,Ie),this.fullPersistenceKey=fn("persistence",W.apiKey,Ie),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?ce._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,c.A)(function*(){if(v.persistence===p)return;const w=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,w?v.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,w="authUser"){return(0,c.A)(function*(){if(!v.length)return new un(Qe(Ut),p,w);const W=(yield Promise.all(v.map(function(){var lr=(0,c.A)(function*(gr){if(yield gr._isAvailable())return gr});return function(gr){return lr.apply(this,arguments)}}()))).filter(lr=>lr);let Ie=W[0]||Qe(Ut);const gt=fn(w,p.config.apiKey,p.name);let Ht=null;for(const lr of v)try{const gr=yield lr._get(gt);if(gr){const ti=ce._fromJSON(p,gr);lr!==Ie&&(Ht=ti),Ie=lr;break}}catch{}const yn=W.filter(lr=>lr._shouldAllowMigration);return Ie._shouldAllowMigration&&yn.length?(Ie=yn[0],Ht&&(yield Ie._set(gt,Ht.toJSON())),yield Promise.all(v.map(function(){var lr=(0,c.A)(function*(gr){if(gr!==Ie)try{yield gr._remove(gt)}catch{}});return function(gr){return lr.apply(this,arguments)}}())),new un(Ie,p,w)):new un(Ie,p,w)})()}}function vn(C){const p=C.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Gn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ln(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ai(p))return"Blackberry";if(Ci(p))return"Webos";if(dr(p))return"Safari";if((p.includes("chrome/")||Dr(p))&&!p.includes("edge/"))return"Chrome";if(ni(p))return"Android";{const w=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function ln(C=(0,L.ZQ)()){return/firefox\//i.test(C)}function dr(C=(0,L.ZQ)()){const p=C.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Dr(C=(0,L.ZQ)()){return/crios\//i.test(C)}function Gn(C=(0,L.ZQ)()){return/iemobile/i.test(C)}function ni(C=(0,L.ZQ)()){return/android/i.test(C)}function Ai(C=(0,L.ZQ)()){return/blackberry/i.test(C)}function Ci(C=(0,L.ZQ)()){return/webos/i.test(C)}function Mi(C=(0,L.ZQ)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Gi(C=(0,L.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function K(C=(0,L.ZQ)()){return Mi(C)||ni(C)||Ci(C)||Ai(C)||/windows phone/i.test(C)||Gn(C)}function Ae(C,p=[]){let v;switch(C){case"Browser":v=vn((0,L.ZQ)());break;case"Worker":v=`${vn((0,L.ZQ)())}-${C}`;break;default:v=C}const w=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${h.SDK_VERSION}/${w}`}class J{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const w=Ie=>new Promise((gt,Ht)=>{try{gt(p(Ie))}catch(yn){Ht(yn)}});w.onAbort=v,this.queue.push(w);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,c.A)(function*(){if(v.auth.currentUser===p)return;const w=[];try{for(const W of v.queue)yield W(p),W.onAbort&&w.push(W.onAbort)}catch(W){w.reverse();for(const Ie of w)try{Ie()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==W?void 0:W.message})}})()}}function xe(){return(xe=(0,c.A)(function*(C,p={}){return Me(C,"GET","/v2/passwordPolicy",ve(C,p))})).apply(this,arguments)}class Kt{constructor(p){var v,w,W,Ie;const gt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=gt.minPasswordLength)&&void 0!==v?v:6,gt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=gt.maxPasswordLength),void 0!==gt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=gt.containsLowercaseCharacter),void 0!==gt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=gt.containsUppercaseCharacter),void 0!==gt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=gt.containsNumericCharacter),void 0!==gt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=gt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(w=p.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(Ie=p.forceUpgradeOnSignin)&&void 0!==Ie&&Ie,this.schemaVersion=p.schemaVersion}validatePassword(p){var v,w,W,Ie,gt,Ht;const yn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,yn),this.validatePasswordCharacterOptions(p,yn),yn.isValid&&(yn.isValid=null===(v=yn.meetsMinPasswordLength)||void 0===v||v),yn.isValid&&(yn.isValid=null===(w=yn.meetsMaxPasswordLength)||void 0===w||w),yn.isValid&&(yn.isValid=null===(W=yn.containsLowercaseLetter)||void 0===W||W),yn.isValid&&(yn.isValid=null===(Ie=yn.containsUppercaseLetter)||void 0===Ie||Ie),yn.isValid&&(yn.isValid=null===(gt=yn.containsNumericCharacter)||void 0===gt||gt),yn.isValid&&(yn.isValid=null===(Ht=yn.containsNonAlphanumericCharacter)||void 0===Ht||Ht),yn}validatePasswordLengthOptions(p,v){const w=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;w&&(v.meetsMinPasswordLength=p.length>=w),W&&(v.meetsMaxPasswordLength=p.length<=W)}validatePasswordCharacterOptions(p,v){let w;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let W=0;W<p.length;W++)w=p.charAt(W),this.updatePasswordCharacterOptionsStatuses(v,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(p,v,w,W,Ie){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Ie))}}class mn{constructor(p,v,w,W){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=w,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new J(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(p,v){var w=this;return v&&(this._popupRedirectResolver=Qe(v)),this._initializationPromise=this.queue((0,c.A)(function*(){var W,Ie;if(!w._deleted&&(w.persistenceManager=yield un.create(w,p),!w._deleted)){if(null!==(W=w._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(v),w.lastNotifiedUid=(null===(Ie=w.currentUser)||void 0===Ie?void 0:Ie.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(p){var v=this;return(0,c.A)(function*(){try{const w=yield Pn(v,{idToken:p}),W=yield ce._fromGetAccountInfoResponse(v,w,p);yield v.directlySetCurrentUser(W)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var v=this;return(0,c.A)(function*(){var w;if((0,h._isFirebaseServerApp)(v.app)){const Ht=v.app.settings.authIdToken;return Ht?new Promise(yn=>{setTimeout(()=>v.initializeCurrentUserFromIdToken(Ht).then(yn,yn))}):v.directlySetCurrentUser(null)}const W=yield v.assertedPersistence.getCurrentUser();let Ie=W,gt=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Ht=null===(w=v.redirectUser)||void 0===w?void 0:w._redirectEventId,yn=null==Ie?void 0:Ie._redirectEventId,lr=yield v.tryRedirectSignIn(p);(!Ht||Ht===yn)&&null!=lr&&lr.user&&(Ie=lr.user,gt=!0)}if(!Ie)return v.directlySetCurrentUser(null);if(!Ie._redirectEventId){if(gt)try{yield v.beforeStateQueue.runMiddleware(Ie)}catch(Ht){Ie=W,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Ht))}return Ie?v.reloadAndSetCurrentUserOrClear(Ie):v.directlySetCurrentUser(null)}return ze(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===Ie._redirectEventId?v.directlySetCurrentUser(Ie):v.reloadAndSetCurrentUserOrClear(Ie)})()}tryRedirectSignIn(p){var v=this;return(0,c.A)(function*(){let w=null;try{w=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,c.A)(function*(){try{yield Rn(p)}catch(w){if("auth/network-request-failed"!==(null==w?void 0:w.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function _t(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(v.app))return Promise.reject(it(v));const w=p?(0,L.Ku)(p):null;return w&&ze(w.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(w&&w._clone(v))})()}_updateCurrentUser(p,v=!1){var w=this;return(0,c.A)(function*(){if(!w._deleted)return p&&ze(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),v||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.A)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,h._isFirebaseServerApp)(p.app)?Promise.reject(it(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var v=this;return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,c.A)(function*(){yield v.assertedPersistence.setPersistence(Qe(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var v=this;return(0,c.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const w=v._getPasswordPolicyInternal();return w.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const v=yield function ee(C){return xe.apply(this,arguments)}(p),w=new Kt(v);null===p.tenantId?p._projectPasswordPolicy=w:p._tenantPasswordPolicies[p.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.FA("auth","Firebase",p())}onAuthStateChanged(p,v,w){return this.registerStateListener(this.authStateSubscription,p,v,w)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,w){return this.registerStateListener(this.idTokenSubscription,p,v,w)}authStateReady(){return new Promise((p,v)=>{if(this.currentUser)p();else{const w=this.onAuthStateChanged(()=>{w(),p()},v)}})}revokeAccessToken(p){var v=this;return(0,c.A)(function*(){if(v.currentUser){const w=yield v.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:w};null!=v.tenantId&&(W.tenantId=v.tenantId),yield function sn(C,p){return Z.apply(this,arguments)}(v,W)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var w=this;return(0,c.A)(function*(){const W=yield w.getOrInitRedirectPersistenceManager(v);return null===p?W.removeCurrentUser():W.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,c.A)(function*(){if(!v.redirectPersistenceManager){const w=p&&Qe(p)||v._popupRedirectResolver;ze(w,v,"argument-error"),v.redirectPersistenceManager=yield un.create(v,[Qe(w._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,c.A)(function*(){var w,W;return v._isInitialized&&(yield v.queue((0,c.A)(function*(){}))),(null===(w=v._currentUser)||void 0===w?void 0:w._redirectEventId)===p?v._currentUser:(null===(W=v.redirectUser)||void 0===W?void 0:W._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,c.A)(function*(){if(p===v.currentUser)return v.queue((0,c.A)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,w,W){if(this._deleted)return()=>{};const Ie="function"==typeof v?v:v.next.bind(v);let gt=!1;const Ht=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(Ht,this,"internal-error"),Ht.then(()=>{gt||Ie(this.currentUser)}),"function"==typeof v){const yn=p.addObserver(v,w,W);return()=>{gt=!0,yn()}}{const yn=p.addObserver(v);return()=>{gt=!0,yn()}}}directlySetCurrentUser(p){var v=this;return(0,c.A)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var v;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const W=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();W&&(w["X-Firebase-Client"]=W);const Ie=yield p._getAppCheckToken();return Ie&&(w["X-Firebase-AppCheck"]=Ie),w})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var v;const w=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=w&&w.error&&function ft(C,...p){et.logLevel<=Se.$b.WARN&&et.warn(`Auth (${h.SDK_VERSION}): ${C}`,...p)}(`Error while retrieving App Check token: ${w.error}`),null==w?void 0:w.token})()}}function se(C){return(0,L.Ku)(C)}class Ne{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.tD)(v=>this.observer=v)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ot={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nt(C){return ot.loadJS(C)}function cr(C){return`__${C}${Math.floor(1e6*Math.random())}`}class vi{constructor(p){this.type="recaptcha-enterprise",this.auth=se(p)}verify(p="verify",v=!1){var w=this;return(0,c.A)(function*(){function Ie(){return Ie=(0,c.A)(function*(Ht){if(!v){if(null==Ht.tenantId&&null!=Ht._agentRecaptchaConfig)return Ht._agentRecaptchaConfig.siteKey;if(null!=Ht.tenantId&&void 0!==Ht._tenantRecaptchaConfigs[Ht.tenantId])return Ht._tenantRecaptchaConfigs[Ht.tenantId].siteKey}return new Promise(function(){var yn=(0,c.A)(function*(lr,gr){Ft(Ht,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ti=>{if(void 0!==ti.recaptchaKey){const ua=new rr(ti);return null==Ht.tenantId?Ht._agentRecaptchaConfig=ua:Ht._tenantRecaptchaConfigs[Ht.tenantId]=ua,lr(ua.siteKey)}gr(new Error("recaptcha Enterprise site key undefined"))}).catch(ti=>{gr(ti)})});return function(lr,gr){return yn.apply(this,arguments)}}())}),Ie.apply(this,arguments)}function gt(Ht,yn,lr){const gr=window.grecaptcha;nr(gr)?gr.enterprise.ready(()=>{gr.enterprise.execute(Ht,{action:p}).then(ti=>{yn(ti)}).catch(()=>{yn("NO_RECAPTCHA")})}):lr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ht,yn)=>{(function W(Ht){return Ie.apply(this,arguments)})(w.auth).then(lr=>{if(!v&&nr(window.grecaptcha))gt(lr,Ht,yn);else{if(typeof window>"u")return void yn(new Error("RecaptchaVerifier is only supported in browser"));let gr=function Mn(){return ot.recaptchaEnterpriseScript}();0!==gr.length&&(gr+=lr),Nt(gr).then(()=>{gt(lr,Ht,yn)}).catch(ti=>{yn(ti)})}}).catch(lr=>{yn(lr)})})})()}}function Ri(C,p,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.A)(function*(C,p,v,w=!1){const W=new vi(C);let Ie;try{Ie=yield W.verify(v)}catch{Ie=yield W.verify(v,!0)}const gt=Object.assign({},p);return Object.assign(gt,w?{captchaResp:Ie}:{captchaResponse:Ie}),Object.assign(gt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(gt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),gt})).apply(this,arguments)}function ri(C,p,v,w){return li.apply(this,arguments)}function li(){return li=(0,c.A)(function*(C,p,v,w){var W;if(null!==(W=C._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ie=yield Ri(C,p,v,"getOobCode"===v);return w(C,Ie)}return w(C,p).catch(function(){var Ie=(0,c.A)(function*(gt){if("auth/missing-recaptcha-token"===gt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ht=yield Ri(C,p,v,"getOobCode"===v);return w(C,Ht)}return Promise.reject(gt)});return function(gt){return Ie.apply(this,arguments)}}())}),li.apply(this,arguments)}function Qr(C,p,v){const w=se(C);ze(w._canInitEmulator,w,"emulator-config-failed"),ze(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const W=!(null==v||!v.disableWarnings),Ie=er(p),{host:gt,port:Ht}=function Tr(C){const p=er(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(p.length));if(!v)return{host:"",port:null};const w=v[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(w);if(W){const Ie=W[1];return{host:Ie,port:Is(w.substr(Ie.length+1))}}{const[Ie,gt]=w.split(":");return{host:Ie,port:Is(gt)}}}(p);w.config.emulator={url:`${Ie}//${gt}${null===Ht?"":`:${Ht}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:gt,port:Ht,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Jo(){function C(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function er(C){const p=C.indexOf(":");return p<0?"":C.substr(0,p+1)}function Is(C){if(!C)return null;const p=Number(C);return isNaN(p)?null:p}class Vi{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return Ve("not implemented")}_getIdTokenResponse(p){return Ve("not implemented")}_linkToIdToken(p,v){return Ve("not implemented")}_getReauthenticationResolver(p){return Ve("not implemented")}}function xo(C,p){return No.apply(this,arguments)}function No(){return(No=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:resetPassword",ve(C,p))})).apply(this,arguments)}function Fr(){return(Fr=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function As(C,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function ls(){return(ls=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:update",ve(C,p))})).apply(this,arguments)}function Cs(C,p){return us.apply(this,arguments)}function us(){return(us=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithPassword",ve(C,p))})).apply(this,arguments)}function wo(C,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:sendOobCode",ve(C,p))})).apply(this,arguments)}function x(){return(x=(0,c.A)(function*(C,p){return wo(C,p)})).apply(this,arguments)}function X(C,p){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.A)(function*(C,p){return wo(C,p)})).apply(this,arguments)}function y(C,p){return M.apply(this,arguments)}function M(){return(M=(0,c.A)(function*(C,p){return wo(C,p)})).apply(this,arguments)}function Fe(){return(Fe=(0,c.A)(function*(C,p){return wo(C,p)})).apply(this,arguments)}function at(){return(at=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithEmailLink",ve(C,p))})).apply(this,arguments)}function wt(){return(wt=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithEmailLink",ve(C,p))})).apply(this,arguments)}class zt extends Vi{constructor(p,v,w,W=null){super("password",w),this._email=p,this._password=v,this._tenantId=W}static _fromEmailAndPassword(p,v){return new zt(p,v,"password")}static _fromEmailAndCode(p,v,w=null){return new zt(p,v,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,c.A)(function*(){switch(v.signInMethod){case"password":return ri(p,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Cs);case"emailLink":return function ct(C,p){return at.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:tt(p,"internal-error")}})()}_linkToIdToken(p,v){var w=this;return(0,c.A)(function*(){switch(w.signInMethod){case"password":return ri(p,{idToken:v,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",As);case"emailLink":return function en(C,p){return wt.apply(this,arguments)}(p,{idToken:v,email:w._email,oobCode:w._password});default:tt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function an(C,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithIdp",ve(C,p))})).apply(this,arguments)}class Yn extends Vi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new Yn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):tt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:W}=v,Ie=(0,le.Tt)(v,["providerId","signInMethod"]);if(!w||!W)return null;const gt=new Yn(w,W);return gt.idToken=Ie.idToken||void 0,gt.accessToken=Ie.accessToken||void 0,gt.secret=Ie.secret,gt.nonce=Ie.nonce,gt.pendingToken=Ie.pendingToken||null,gt}_getIdTokenResponse(p){return an(p,this.buildRequest())}_linkToIdToken(p,v){const w=this.buildRequest();return w.idToken=v,an(p,w)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,an(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,L.Am)(v)}return p}}function Vr(){return(Vr=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:sendVerificationCode",ve(C,p))})).apply(this,arguments)}function wi(){return(wi=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithPhoneNumber",ve(C,p))})).apply(this,arguments)}function Ei(){return(Ei=(0,c.A)(function*(C,p){const v=yield we(C,"POST","/v1/accounts:signInWithPhoneNumber",ve(C,p));if(v.temporaryProof)throw qn(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const $o={USER_NOT_FOUND:"user-not-found"};function co(){return(co=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithPhoneNumber",ve(C,Object.assign(Object.assign({},p),{operation:"REAUTH"})),$o)})).apply(this,arguments)}class ho extends Vi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new ho({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new ho({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function _i(C,p){return wi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function hi(C,p){return Ei.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Do(C,p){return co.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:w,verificationCode:W}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:w,code:W}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:w,phoneNumber:W,temporaryProof:Ie}=p;return w||v||W||Ie?new ho({verificationId:v,verificationCode:w,phoneNumber:W,temporaryProof:Ie}):null}}class cs{constructor(p){var v,w,W,Ie,gt,Ht;const yn=(0,L.I9)((0,L.hp)(p)),lr=null!==(v=yn.apiKey)&&void 0!==v?v:null,gr=null!==(w=yn.oobCode)&&void 0!==w?w:null,ti=function Ts(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=yn.mode)&&void 0!==W?W:null);ze(lr&&gr&&ti,"argument-error"),this.apiKey=lr,this.operation=ti,this.code=gr,this.continueUrl=null!==(Ie=yn.continueUrl)&&void 0!==Ie?Ie:null,this.languageCode=null!==(gt=yn.languageCode)&&void 0!==gt?gt:null,this.tenantId=null!==(Ht=yn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(p){const v=function Da(C){const p=(0,L.I9)((0,L.hp)(C)).link,v=p?(0,L.I9)((0,L.hp)(p)).deep_link_id:null,w=(0,L.I9)((0,L.hp)(C)).deep_link_id;return(w?(0,L.I9)((0,L.hp)(w)).link:null)||w||v||p||C}(p);try{return new cs(v)}catch{return null}}}let Zo=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,w){return zt._fromEmailAndPassword(v,w)}static credentialWithLink(v,w){const W=cs.parseLink(w);return ze(W,"argument-error"),zt._fromEmailAndCode(v,W.code,W.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class es{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fa extends es{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class eo extends fa{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return ze("providerId"in v&&"signInMethod"in v,"argument-error"),Yn._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ze(p.idToken||p.accessToken,"argument-error"),Yn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return eo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return eo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:w,oauthTokenSecret:W,pendingToken:Ie,nonce:gt,providerId:Ht}=p;if(!w&&!W&&!v&&!Ie||!Ht)return null;try{return new eo(Ht)._credential({idToken:v,accessToken:w,nonce:gt,pendingToken:Ie})}catch{return null}}}let Sa=(()=>{class C extends fa{constructor(){super("facebook.com")}static credential(v){return Yn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),pa=(()=>{class C extends fa{constructor(){super("google.com"),this.addScope("profile")}static credential(v,w){return Yn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:w})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:w,oauthAccessToken:W}=v;if(!w&&!W)return null;try{return C.credential(w,W)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ku=(()=>{class C extends fa{constructor(){super("github.com")}static credential(v){return Yn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ui extends Vi{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return an(p,this.buildRequest())}_linkToIdToken(p,v){const w=this.buildRequest();return w.idToken=v,an(p,w)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,an(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:W,pendingToken:Ie}=v;return w&&W&&Ie&&w===W?new Ui(w,Ie):null}static _create(p,v){return new Ui(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Co extends es{constructor(p){ze(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Co.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Co.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=Ui.fromJSON(p);return ze(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:w}=p;if(!v||!w)return null;try{return Ui._create(w,v)}catch{return null}}}let Js=(()=>{class C extends fa{constructor(){super("twitter.com")}static credential(v,w){return Yn._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:w})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:w,oauthTokenSecret:W}=v;if(!w||!W)return null;try{return C.credential(w,W)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Zs(C,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signUp",ve(C,p))})).apply(this,arguments)}class vo{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,w,W=!1){return(0,c.A)(function*(){const Ie=yield ce._fromIdTokenResponse(p,w,W),gt=Oo(w);return new vo({user:Ie,providerId:gt,_tokenResponse:w,operationType:v})})()}static _forOperation(p,v,w){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(w,!0);const W=Oo(w);return new vo({user:p,providerId:W,_tokenResponse:w,operationType:v})})()}}function Oo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Bo(C){return su.apply(this,arguments)}function su(){return(su=(0,c.A)(function*(C){var p;if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const v=se(C);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new vo({user:v.currentUser,providerId:null,operationType:"signIn"});const w=yield Zs(v,{returnSecureToken:!0}),W=yield vo._fromIdTokenResponse(v,"signIn",w,!0);return yield v._updateCurrentUser(W.user),W})).apply(this,arguments)}class Pa extends L.g{constructor(p,v,w,W){var Ie;super(v.code,v.message),this.operationType=w,this.user=W,Object.setPrototypeOf(this,Pa.prototype),this.customData={appName:p.name,tenantId:null!==(Ie=p.tenantId)&&void 0!==Ie?Ie:void 0,_serverResponse:v.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,v,w,W){return new Pa(p,v,w,W)}}function Ol(C,p,v,w){return("reauthenticate"===p?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(Ie=>{throw"auth/multi-factor-auth-required"===Ie.code?Pa._fromErrorAndOperation(C,Ie,p,w):Ie})}function Ma(C){return new Set(C.map(({providerId:p})=>p).filter(p=>!!p))}function Ka(C,p){return ea.apply(this,arguments)}function ea(){return ea=(0,c.A)(function*(C,p){const v=(0,L.Ku)(C);yield ds(!0,v,p);const{providerUserInfo:w}=yield function fr(C,p){return On.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),W=Ma(w||[]);return v.providerData=v.providerData.filter(Ie=>W.has(Ie.providerId)),W.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),ea.apply(this,arguments)}function qa(C,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.A)(function*(C,p,v=!1){const w=yield Ln(C,p._linkToIdToken(C.auth,yield C.getIdToken()),v);return vo._forOperation(C,"link",w)})).apply(this,arguments)}function ds(C,p,v){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.A)(function*(C,p,v){yield Rn(p);const W=!1===C?"provider-already-linked":"no-such-provider";ze(Ma(p.providerData).has(v)===C,p.auth,W)})).apply(this,arguments)}function Ac(C,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,c.A)(function*(C,p,v=!1){const{auth:w}=C;if((0,h._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const W="reauthenticate";try{const Ie=yield Ln(C,Ol(w,W,p,C),v);ze(Ie.idToken,w,"internal-error");const gt=Er(Ie.idToken);ze(gt,w,"internal-error");const{sub:Ht}=gt;return ze(C.uid===Ht,w,"user-mismatch"),vo._forOperation(C,W,Ie)}catch(Ie){throw"auth/user-not-found"===(null==Ie?void 0:Ie.code)&&tt(w,"user-mismatch"),Ie}})).apply(this,arguments)}function au(C,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.A)(function*(C,p,v=!1){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const w="signIn",W=yield Ol(C,w,p),Ie=yield vo._fromIdTokenResponse(C,w,W);return v||(yield C._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}function G(C,p){return N.apply(this,arguments)}function N(){return(N=(0,c.A)(function*(C,p){return au(se(C),p)})).apply(this,arguments)}function oe(C,p){return j.apply(this,arguments)}function j(){return(j=(0,c.A)(function*(C,p){const v=(0,L.Ku)(C);return yield ds(!1,v,p.providerId),qa(v,p)})).apply(this,arguments)}function Te(C,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,c.A)(function*(C,p){return Ac((0,L.Ku)(C),p)})).apply(this,arguments)}function Di(){return(Di=(0,c.A)(function*(C,p){return we(C,"POST","/v1/accounts:signInWithCustomToken",ve(C,p))})).apply(this,arguments)}function to(C,p){return no.apply(this,arguments)}function no(){return no=(0,c.A)(function*(C,p){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const v=se(C),w=yield function Ar(C,p){return Di.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),W=yield vo._fromIdTokenResponse(v,"signIn",w);return yield v._updateCurrentUser(W.user),W}),no.apply(this,arguments)}class hs{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?ta._fromServerResponse(p,v):"totpInfo"in v?$s._fromServerResponse(p,v):tt(p,"internal-error")}}class ta extends hs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new ta(v)}}class $s extends hs{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new $s(v)}}function Xa(C,p,v){var w;ze((null===(w=v.url)||void 0===w?void 0:w.length)>0,C,"invalid-continue-uri"),ze(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ze(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(ze(v.android.packageName.length>0,C,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function gl(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.A)(function*(C){const p=se(C);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function fo(C,p,v){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.A)(function*(C,p,v){const w=se(C),W={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};v&&Xa(w,W,v),yield ri(w,W,"getOobCode",X)})).apply(this,arguments)}function na(C,p,v){return _o.apply(this,arguments)}function _o(){return _o=(0,c.A)(function*(C,p,v){yield xo((0,L.Ku)(C),{oobCode:p,newPassword:v}).catch(function(){var w=(0,c.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&gl(C),W});return function(W){return w.apply(this,arguments)}}())}),_o.apply(this,arguments)}function Cc(C,p){return xa.apply(this,arguments)}function xa(){return xa=(0,c.A)(function*(C,p){yield function Zi(C,p){return ls.apply(this,arguments)}((0,L.Ku)(C),{oobCode:p})}),xa.apply(this,arguments)}function fs(C,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.A)(function*(C,p){const v=(0,L.Ku)(C),w=yield xo(v,{oobCode:p}),W=w.requestType;switch(ze(W,v,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ze(w.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ze(w.mfaInfo,v,"internal-error");default:ze(w.email,v,"internal-error")}let Ie=null;return w.mfaInfo&&(Ie=hs._fromServerResponse(se(v),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:Ie},operation:W}})).apply(this,arguments)}function Dd(C,p){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,c.A)(function*(C,p){const{data:v}=yield fs((0,L.Ku)(C),p);return v.email})).apply(this,arguments)}function Tc(C,p,v){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.A)(function*(C,p,v){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const w=se(C),gt=yield ri(w,{returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zs).catch(yn=>{throw"auth/password-does-not-meet-requirements"===yn.code&&gl(C),yn}),Ht=yield vo._fromIdTokenResponse(w,"signIn",gt);return yield w._updateCurrentUser(Ht.user),Ht})).apply(this,arguments)}function Lu(C,p,v){return(0,h._isFirebaseServerApp)(C.app)?Promise.reject(it(C)):G((0,L.Ku)(C),Zo.credential(p,v)).catch(function(){var w=(0,c.A)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&gl(C),W});return function(W){return w.apply(this,arguments)}}())}function Qa(C,p,v){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.A)(function*(C,p,v){const w=se(C),W={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function Ie(gt,Ht){ze(Ht.handleCodeInApp,w,"argument-error"),Ht&&Xa(w,gt,Ht)})(W,v),yield ri(w,W,"getOobCode",y)})).apply(this,arguments)}function ml(C,p){const v=cs.parseLink(p);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Sd(C,p,v){return js.apply(this,arguments)}function js(){return(js=(0,c.A)(function*(C,p,v){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const w=(0,L.Ku)(C),W=Zo.credentialWithLink(p,v||Qt());return ze(W._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),G(w,W)})).apply(this,arguments)}function ka(){return(ka=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:createAuthUri",ve(C,p))})).apply(this,arguments)}function ma(C,p){return vl.apply(this,arguments)}function vl(){return vl=(0,c.A)(function*(C,p){const w={identifier:p,continueUri:En()?Qt():"http://localhost"},{signinMethods:W}=yield function lu(C,p){return ka.apply(this,arguments)}((0,L.Ku)(C),w);return W||[]}),vl.apply(this,arguments)}function kl(C,p){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,c.A)(function*(C,p){const v=(0,L.Ku)(C),W={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};p&&Xa(v.auth,W,p);const{email:Ie}=yield function Us(C,p){return x.apply(this,arguments)}(v.auth,W);Ie!==C.email&&(yield C.reload())}),Ya.apply(this,arguments)}function bc(C,p,v){return $i.apply(this,arguments)}function $i(){return $i=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C),Ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:p};v&&Xa(w.auth,Ie,v);const{email:gt}=yield function Q(C,p){return Fe.apply(this,arguments)}(w.auth,Ie);gt!==C.email&&(yield C.reload())}),$i.apply(this,arguments)}function ro(){return(ro=(0,c.A)(function*(C,p){return Me(C,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ko(C,p){return _l.apply(this,arguments)}function _l(){return _l=(0,c.A)(function*(C,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const w=(0,L.Ku)(C),Ie={idToken:yield w.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},gt=yield Ln(w,function ia(C,p){return ro.apply(this,arguments)}(w.auth,Ie));w.displayName=gt.displayName||null,w.photoURL=gt.photoUrl||null;const Ht=w.providerData.find(({providerId:yn})=>"password"===yn);Ht&&(Ht.displayName=w.displayName,Ht.photoURL=w.photoURL),yield w._updateTokensIfNecessary(gt)}),_l.apply(this,arguments)}function Cn(C,p){const v=(0,L.Ku)(C);return(0,h._isFirebaseServerApp)(v.auth.app)?Promise.reject(it(v.auth)):So(v,p,null)}function xi(C,p){return So((0,L.Ku)(C),null,p)}function So(C,p,v){return oa.apply(this,arguments)}function oa(){return oa=(0,c.A)(function*(C,p,v){const{auth:w}=C,Ie={idToken:yield C.getIdToken(),returnSecureToken:!0};p&&(Ie.email=p),v&&(Ie.password=v);const gt=yield Ln(C,function Es(C,p){return Fr.apply(this,arguments)}(w,Ie));yield C._updateTokensIfNecessary(gt,!0)}),oa.apply(this,arguments)}class ar{constructor(p,v,w={}){this.isNewUser=p,this.providerId=v,this.profile=w}}class yl extends ar{constructor(p,v,w,W){super(p,v,w),this.username=W}}class Un extends ar{constructor(p,v){super(p,"facebook.com",v)}}class Gt extends yl{constructor(p,v){super(p,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class _n extends ar{constructor(p,v){super(p,"google.com",v)}}class T extends yl{constructor(p,v,w){super(p,"twitter.com",v,w)}}function H(C){const{user:p,_tokenResponse:v}=C;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ir(C){var p,v;if(!C)return null;const{providerId:w}=C,W=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},Ie=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!w&&null!=C&&C.idToken){const gt=null===(v=null===(p=Er(C.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(gt)return new ar(Ie,"anonymous"!==gt&&"custom"!==gt?gt:null)}if(!w)return null;switch(w){case"facebook.com":return new Un(Ie,W);case"github.com":return new Gt(Ie,W);case"google.com":return new _n(Ie,W);case"twitter.com":return new T(Ie,W,C.screenName||null);case"custom":case"anonymous":return new ar(Ie,null);default:return new ar(Ie,w,W)}}(v)}class wr{constructor(p,v,w){this.type=p,this.credential=v,this.user=w}static _fromIdtoken(p,v){return new wr("enroll",p,v)}static _fromMfaPendingCredential(p){return new wr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,w;if(null!=p&&p.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return wr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return wr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class kn{constructor(p,v,w){this.session=p,this.hints=v,this.signInResolver=w}static _fromError(p,v){const w=se(p),W=v.customData._serverResponse,Ie=(W.mfaInfo||[]).map(Ht=>hs._fromServerResponse(w,Ht));ze(W.mfaPendingCredential,w,"internal-error");const gt=wr._fromMfaPendingCredential(W.mfaPendingCredential);return new kn(gt,Ie,function(){var Ht=(0,c.A)(function*(yn){const lr=yield yn._process(w,gt);delete W.mfaInfo,delete W.mfaPendingCredential;const gr=Object.assign(Object.assign({},W),{idToken:lr.idToken,refreshToken:lr.refreshToken});switch(v.operationType){case"signIn":const ti=yield vo._fromIdTokenResponse(w,v.operationType,gr);return yield w._updateCurrentUser(ti.user),ti;case"reauthenticate":return ze(v.user,w,"internal-error"),vo._forOperation(v.user,v.operationType,gr);default:tt(w,"internal-error")}});return function(yn){return Ht.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,c.A)(function*(){return v.signInResolver(p)})()}}function wn(C,p){var v;const w=(0,L.Ku)(C),W=p;return ze(p.customData.operationType,w,"argument-error"),ze(null===(v=W.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,w,"argument-error"),kn._fromError(w,W)}class ps{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(w=>hs._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ps(p)}getSession(){var p=this;return(0,c.A)(function*(){return wr._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,v){var w=this;return(0,c.A)(function*(){const W=p,Ie=yield w.getSession(),gt=yield Ln(w.user,W._process(w.user.auth,Ie,v));return yield w.user._updateTokensIfNecessary(gt),w.user.reload()})()}unenroll(p){var v=this;return(0,c.A)(function*(){const w="string"==typeof p?p:p.uid,W=yield v.user.getIdToken();try{const Ie=yield Ln(v.user,function Wi(C,p){return Me(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(C,p))}(v.user.auth,{idToken:W,mfaEnrollmentId:w}));v.enrolledFactors=v.enrolledFactors.filter(({uid:gt})=>gt!==w),yield v.user._updateTokensIfNecessary(Ie),yield v.user.reload()}catch(Ie){throw Ie}})()}}const pi=new WeakMap;function io(C){const p=(0,L.Ku)(C);return pi.has(p)||pi.set(p,ps._fromUser(p)),pi.get(p)}const yo="__sak";class Lr{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(yo,"1"),this.storage.removeItem(yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const di=(()=>{class C extends Lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,w)=>this.onStorageEvent(v,w),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const w of Object.keys(this.listeners)){const W=this.storage.getItem(w),Ie=this.localCache[w];W!==Ie&&v(w,Ie,W)}}onStorageEvent(v,w=!1){if(!v.key)return void this.forAllChangedKeys((Ht,yn,lr)=>{this.notifyListeners(Ht,lr)});const W=v.key;w?this.detachListener():this.stopPolling();const Ie=()=>{const Ht=this.storage.getItem(W);!w&&this.localCache[W]===Ht||this.notifyListeners(W,Ht)},gt=this.storage.getItem(W);!function ie(){return(0,L.lT)()&&10===document.documentMode}()||gt===v.newValue||v.newValue===v.oldValue?Ie():setTimeout(Ie,10)}notifyListeners(v,w){this.localCache[v]=w;const W=this.listeners[v];if(W)for(const Ie of Array.from(W))Ie(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,w,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:w,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(w)}_removeListener(v,w){this.listeners[v]&&(this.listeners[v].delete(w),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,w){var W=()=>super._set,Ie=this;return(0,c.A)(function*(){yield W().call(Ie,v,w),Ie.localCache[v]=JSON.stringify(w)})()}_get(v){var w=()=>super._get,W=this;return(0,c.A)(function*(){const Ie=yield w().call(W,v);return W.localCache[v]=JSON.stringify(Ie),Ie})()}_remove(v){var w=()=>super._remove,W=this;return(0,c.A)(function*(){yield w().call(W,v),delete W.localCache[v]})()}}return C.type="LOCAL",C})(),Ja=(()=>{class C extends Lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,w){}_removeListener(v,w){}}return C.type="SESSION",C})();let gs=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const w=this.receivers.find(Ie=>Ie.isListeningto(v));if(w)return w;const W=new C(v);return this.receivers.push(W),W}isListeningto(v){return this.eventTarget===v}handleEvent(v){var w=this;return(0,c.A)(function*(){const W=v,{eventId:Ie,eventType:gt,data:Ht}=W.data,yn=w.handlersMap[gt];if(null==yn||!yn.size)return;W.ports[0].postMessage({status:"ack",eventId:Ie,eventType:gt});const lr=Array.from(yn).map(function(){var ti=(0,c.A)(function*(ua){return ua(W.origin,Ht)});return function(ua){return ti.apply(this,arguments)}}()),gr=yield function zs(C){return Promise.all(C.map(function(){var p=(0,c.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(w){return{fulfilled:!1,reason:w}}});return function(v){return p.apply(this,arguments)}}()))}(lr);W.ports[0].postMessage({status:"done",eventId:Ie,eventType:gt,response:gr})})()}_subscribe(v,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(w)}_unsubscribe(v,w){this.handlersMap[v]&&w&&this.handlersMap[v].delete(w),(!w||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function va(C="",p=10){let v="";for(let w=0;w<p;w++)v+=Math.floor(10*Math.random());return C+v}class Pt{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,w=50){var W=this;return(0,c.A)(function*(){const Ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ie)throw new Error("connection_unavailable");let gt,Ht;return new Promise((yn,lr)=>{const gr=va("",20);Ie.port1.start();const ti=setTimeout(()=>{lr(new Error("unsupported_event"))},w);Ht={messageChannel:Ie,onMessage(ua){const ol=ua;if(ol.data.eventId===gr)switch(ol.data.status){case"ack":clearTimeout(ti),gt=setTimeout(()=>{lr(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),yn(ol.data.response);break;default:clearTimeout(ti),clearTimeout(gt),lr(new Error("invalid_response"))}}},W.handlers.add(Ht),Ie.port1.addEventListener("message",Ht.onMessage),W.target.postMessage({eventType:p,eventId:gr,data:v},[Ie.port2])}).finally(()=>{Ht&&W.removeMessageHandler(Ht)})})()}}function Oi(){return window}function hr(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function _a(){return(_a=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bs="firebaseLocalStorageDb",Za="firebaseLocalStorage",po="fbase_key";class Eo{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ro(C,p){return C.transaction([Za],p?"readwrite":"readonly").objectStore(Za)}function ya(){const C=indexedDB.open(bs,1);return new Promise((p,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const w=C.result;try{w.createObjectStore(Za,{keyPath:po})}catch(W){v(W)}}),C.addEventListener("success",(0,c.A)(function*(){const w=C.result;w.objectStoreNames.contains(Za)?p(w):(w.close(),yield function aa(){const C=indexedDB.deleteDatabase(bs);return new Eo(C).toPromise()}(),p(yield ya()))}))})}function ws(C,p,v){return so.apply(this,arguments)}function so(){return(so=(0,c.A)(function*(C,p,v){const w=Ro(C,!0).put({[po]:p,value:v});return new Eo(w).toPromise()})).apply(this,arguments)}function uu(){return(uu=(0,c.A)(function*(C,p){const v=Ro(C,!1).get(p),w=yield new Eo(v).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ds(C,p){const v=Ro(C,!0).delete(p);return new Eo(v).toPromise()}const Vp=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.A)(function*(){return v.db||(v.db=yield ya()),v.db})()}_withRetries(v){var w=this;return(0,c.A)(function*(){let W=0;for(;;)try{const Ie=yield w._openDb();return yield v(Ie)}catch(Ie){if(W++>3)throw Ie;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.A)(function*(){return hr()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.A)(function*(){v.receiver=gs._getInstance(function Dc(){return hr()?self:null}()),v.receiver._subscribe("keyChanged",function(){var w=(0,c.A)(function*(W,Ie){return{keyProcessed:(yield v._poll()).includes(Ie.key)}});return function(W,Ie){return w.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var w=(0,c.A)(function*(W,Ie){return["keyChanged"]});return function(W,Ie){return w.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.A)(function*(){var w,W;if(v.activeServiceWorker=yield function wc(){return _a.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Pt(v.activeServiceWorker);const Ie=yield v.sender._send("ping",{},800);Ie&&null!==(w=Ie[0])&&void 0!==w&&w.fulfilled&&null!==(W=Ie[0])&&void 0!==W&&W.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var w=this;return(0,c.A)(function*(){if(w.sender&&w.activeServiceWorker&&function jo(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:v},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const v=yield ya();return yield ws(v,yo,"1"),yield Ds(v,yo),!0}catch{}return!1})()}_withPendingWrite(v){var w=this;return(0,c.A)(function*(){w.pendingWrites++;try{yield v()}finally{w.pendingWrites--}})()}_set(v,w){var W=this;return(0,c.A)(function*(){return W._withPendingWrite((0,c.A)(function*(){return yield W._withRetries(Ie=>ws(Ie,v,w)),W.localCache[v]=w,W.notifyServiceWorker(v)}))})()}_get(v){var w=this;return(0,c.A)(function*(){const W=yield w._withRetries(Ie=>function Rd(C,p){return uu.apply(this,arguments)}(Ie,v));return w.localCache[v]=W,W})()}_remove(v){var w=this;return(0,c.A)(function*(){return w._withPendingWrite((0,c.A)(function*(){return yield w._withRetries(W=>Ds(W,v)),delete w.localCache[v],w.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.A)(function*(){const w=yield v._withRetries(gt=>{const Ht=Ro(gt,!1).getAll();return new Eo(Ht).toPromise()});if(!w)return[];if(0!==v.pendingWrites)return[];const W=[],Ie=new Set;if(0!==w.length)for(const{fbase_key:gt,value:Ht}of w)Ie.add(gt),JSON.stringify(v.localCache[gt])!==JSON.stringify(Ht)&&(v.notifyListeners(gt,Ht),W.push(gt));for(const gt of Object.keys(v.localCache))v.localCache[gt]&&!Ie.has(gt)&&(v.notifyListeners(gt,null),W.push(gt));return W})()}notifyListeners(v,w){this.localCache[v]=w;const W=this.listeners[v];if(W)for(const Ie of Array.from(W))Ie(w)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(w)}_removeListener(v,w){this.listeners[v]&&(this.listeners[v].delete(w),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),D=1e12;class U{constructor(p){this.auth=p,this.counter=D,this._widgets=new Map}render(p,v){const w=this.counter;return this._widgets.set(w,new pe(p,this.auth.name,v||{})),this.counter++,w}reset(p){var v;const w=p||D;null===(v=this._widgets.get(w))||void 0===v||v.delete(),this._widgets.delete(w)}getResponse(p){var v;return(null===(v=this._widgets.get(p||D))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,c.A)(function*(){var w;return null===(w=v._widgets.get(p||D))||void 0===w||w.execute(),""})()}}class pe{constructor(p,v,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof p?document.getElementById(p):p;ze(W,"argument-error",{appName:v}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ee(C){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<C;w++)p.push(v.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bt=cr("rcb"),cn=new Pe(3e4,6e4);class Mt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Oi().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return ze(function Hn(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&Jn(Oi().grecaptcha)?Promise.resolve(Oi().grecaptcha):new Promise((w,W)=>{const Ie=Oi().setTimeout(()=>{W(be(p,"network-request-failed"))},cn.get());Oi()[bt]=()=>{Oi().clearTimeout(Ie),delete Oi()[bt];const Ht=Oi().grecaptcha;if(!Ht||!Jn(Ht))return void W(be(p,"internal-error"));const yn=Ht.render;Ht.render=(lr,gr)=>{const ti=yn(lr,gr);return this.counter++,ti},this.hostLanguage=v,w(Ht)},Nt(`${function dn(){return ot.recaptchaV2Script}()}?${(0,L.Am)({onload:bt,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(Ie),W(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=Oi().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Nr{load(p){return(0,c.A)(function*(){return new U(p)})()}clearedOneInstance(){}}const gi="recaptcha",jr={theme:"light",type:"image"};class ao{constructor(p,v,w=Object.assign({},jr)){this.parameters=w,this.type=gi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=se(p),this.isInvisible="invisible"===this.parameters.size,ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof v?document.getElementById(v):v;ze(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Nr:new Mt,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const v=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(v)||new Promise(Ie=>{const gt=Ht=>{Ht&&(p.tokenChangeListeners.delete(gt),Ie(Ht))};p.tokenChangeListeners.add(gt),p.isInvisible&&w.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ze(!this.parameters.sitekey,this.auth,"argument-error"),ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ze(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(w=>w(v)),"function"==typeof p)p(v);else if("string"==typeof p){const w=Oi()[p];"function"==typeof w&&w(v)}}}assertNotDestroyed(){ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const w=document.createElement("div");v.appendChild(w),v=w}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){ze(En()&&!hr(),p.auth,"internal-error"),yield function ns(){let C=null;return new Promise(p=>{"complete"!==document.readyState?(C=()=>p(),window.addEventListener("load",C)):p()}).catch(p=>{throw C&&window.removeEventListener("load",C),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function tn(C){return Lt.apply(this,arguments)}(p.auth);ze(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Po{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=ho._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function El(C,p,v){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.A)(function*(C,p,v){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const w=se(C),W=yield el(w,p,(0,L.Ku)(v));return new Po(W,Ie=>G(w,Ie))})).apply(this,arguments)}function Ll(C,p,v){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C);yield ds(!1,w,"phone");const W=yield el(w.auth,p,(0,L.Ku)(v));return new Po(W,Ie=>oe(w,Ie))})).apply(this,arguments)}function cu(C,p,v){return la.apply(this,arguments)}function la(){return(la=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C);if((0,h._isFirebaseServerApp)(w.auth.app))return Promise.reject(it(w.auth));const W=yield el(w.auth,p,(0,L.Ku)(v));return new Po(W,Ie=>Te(w,Ie))})).apply(this,arguments)}function el(C,p,v){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,c.A)(function*(C,p,v){var w;const W=yield v.verify();try{let Ie;if(ze("string"==typeof W,C,"argument-error"),ze(v.type===gi,C,"argument-error"),Ie="string"==typeof p?{phoneNumber:p}:p,"session"in Ie){const gt=Ie.session;if("phoneNumber"in Ie)return ze("enroll"===gt.type,C,"internal-error"),(yield function Sn(C,p){return Me(C,"POST","/v2/accounts/mfaEnrollment:start",ve(C,p))}(C,{idToken:gt.credential,phoneEnrollmentInfo:{phoneNumber:Ie.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ze("signin"===gt.type,C,"internal-error");const Ht=(null===(w=Ie.multiFactorHint)||void 0===w?void 0:w.uid)||Ie.multiFactorUid;return ze(Ht,C,"missing-multi-factor-info"),(yield function Km(C,p){return Me(C,"POST","/v2/accounts/mfaSignIn:start",ve(C,p))}(C,{mfaPendingCredential:gt.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gt}=yield function pr(C,p){return Vr.apply(this,arguments)}(C,{phoneNumber:Ie.phoneNumber,recaptchaToken:W});return gt}}finally{v._reset()}}),Vu.apply(this,arguments)}function Ki(C,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,c.A)(function*(C,p){const v=(0,L.Ku)(C);if((0,h._isFirebaseServerApp)(v.auth.app))return Promise.reject(it(v.auth));yield qa(v,p)})).apply(this,arguments)}let Ho=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=se(v)}verifyPhoneNumber(v,w){return el(this.auth,v,(0,L.Ku)(w))}static credential(v,w){return ho._fromVerification(v,w)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:w,temporaryProof:W}=v;return w&&W?ho._fromTokenResponse(w,W):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function yi(C,p){return p?Qe(p):(ze(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class mi extends Vi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return an(p,this._buildIdpRequest())}_linkToIdToken(p,v){return an(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return an(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function Vl(C){return au(C.auth,new mi(C),C.bypassAuthState)}function zo(C){const{auth:p,user:v}=C;return ze(v,p,"internal-error"),Ac(v,new mi(C),C.bypassAuthState)}function ms(C){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,c.A)(function*(C){const{auth:p,user:v}=C;return ze(v,p,"internal-error"),qa(v,new mi(C),C.bypassAuthState)})).apply(this,arguments)}class ji{constructor(p,v,w,W,Ie=!1){this.auth=p,this.resolver=w,this.user=W,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,c.A)(function*(w,W){p.pendingPromise={resolve:w,reject:W};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Ie){p.reject(Ie)}});return function(w,W){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,c.A)(function*(){const{urlResponse:w,sessionId:W,postBody:Ie,tenantId:gt,error:Ht,type:yn}=p;if(Ht)return void v.reject(Ht);const lr={auth:v.auth,requestUri:w,sessionId:W,tenantId:gt||void 0,postBody:Ie||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(yn)(lr))}catch(gr){v.reject(gr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Vl;case"linkViaPopup":case"linkViaRedirect":return ms;case"reauthViaPopup":case"reauthViaRedirect":return zo;default:tt(this.auth,"internal-error")}}resolve(p){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const du=new Pe(2e3,1e4);function To(C,p,v){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.A)(function*(C,p,v){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(be(C,"operation-not-supported-in-this-environment"));const w=se(C);vt(C,p,es);const W=yi(w,v);return new xd(w,"signInViaPopup",p,W).executeNotNull()})).apply(this,arguments)}function Fa(C,p,v){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C);if((0,h._isFirebaseServerApp)(w.auth.app))return Promise.reject(be(w.auth,"operation-not-supported-in-this-environment"));vt(w.auth,p,es);const W=yi(w.auth,v);return new xd(w.auth,"reauthViaPopup",p,W,w).executeNotNull()})).apply(this,arguments)}function Rs(C,p,v){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C);vt(w.auth,p,es);const W=yi(w.auth,v);return new xd(w.auth,"linkViaPopup",p,W,w).executeNotNull()})).apply(this,arguments)}let xd=(()=>{class C extends ji{constructor(v,w,W,Ie,gt){super(v,w,Ie,gt),this.provider=W,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.A)(function*(){const w=yield v.execute();return ze(w,v.auth,"internal-error"),w})()}onExecution(){var v=this;return(0,c.A)(function*(){$t(1===v.filter.length,"Popup operations only handle one event");const w=va();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],w),v.authWindow.associatedEvent=w,v.resolver._originValidation(v.auth).catch(W=>{v.reject(W)}),v.resolver._isIframeWebStorageSupported(v.auth,W=>{W||v.reject(be(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var w,W;this.pollId=null!==(W=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,du.get())};v()}}return C.currentPopupAction=null,C})();const Al="pendingRedirect",Ps=new Map;class $u extends ji{constructor(p,v,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,c.A)(function*(){let w=Ps.get(v.auth._key());if(!w){try{const Ie=(yield function La(C,p){return Ms.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;w=()=>Promise.resolve(Ie)}catch(W){w=()=>Promise.reject(W)}Ps.set(v.auth._key(),w)}return v.bypassAuthState||Ps.set(v.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,w=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return v().call(w,p);if("unknown"!==p.type){if(p.eventId){const W=yield w.auth._redirectUserForId(p.eventId);if(W)return w.user=W,v().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Ms(){return(Ms=(0,c.A)(function*(C,p){const v=Rc(p),w=Tl(C);if(!(yield w._isAvailable()))return!1;const W="true"===(yield w._get(v));return yield w._remove(v),W})).apply(this,arguments)}function Cl(C,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.A)(function*(C,p){return Tl(C)._set(Rc(p),"true")})).apply(this,arguments)}function Ur(){Ps.clear()}function Bu(C,p){Ps.set(C._key(),p)}function Tl(C){return Qe(C._redirectPersistence)}function Rc(C){return fn(Al,C.config.apiKey,C.name)}function Yh(C,p,v){return function hu(C,p,v){return Pc.apply(this,arguments)}(C,p,v)}function Pc(){return(Pc=(0,c.A)(function*(C,p,v){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const w=se(C);vt(C,p,es),yield w._initializationPromise;const W=yi(w,v);return yield Cl(W,w),W._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Mc(C,p,v){return function Jh(C,p,v){return tl.apply(this,arguments)}(C,p,v)}function tl(){return(tl=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C);if(vt(w.auth,p,es),(0,h._isFirebaseServerApp)(w.auth.app))return Promise.reject(it(w.auth));yield w.auth._initializationPromise;const W=yi(w.auth,v);yield Cl(W,w.auth);const Ie=yield Fd(w);return W._openRedirect(w.auth,p,"reauthViaRedirect",Ie)})).apply(this,arguments)}function Nd(C,p,v){return function Od(C,p,v){return fu.apply(this,arguments)}(C,p,v)}function fu(){return(fu=(0,c.A)(function*(C,p,v){const w=(0,L.Ku)(C);vt(w.auth,p,es),yield w.auth._initializationPromise;const W=yi(w.auth,v);yield ds(!1,w,p.providerId),yield Cl(W,w.auth);const Ie=yield Fd(w);return W._openRedirect(w.auth,p,"linkViaRedirect",Ie)})).apply(this,arguments)}function Up(C,p){return kd.apply(this,arguments)}function kd(){return(kd=(0,c.A)(function*(C,p){return yield se(C)._initializationPromise,rn(C,p,!1)})).apply(this,arguments)}function rn(C,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.A)(function*(C,p,v=!1){if((0,h._isFirebaseServerApp)(C.app))return Promise.reject(it(C));const w=se(C),W=yi(w,p),gt=yield new $u(w,W,v).execute();return gt&&!v&&(delete gt.user._redirectEventId,yield w._persistUserIfCurrent(gt.user),yield w._setRedirectUser(null,p)),gt})).apply(this,arguments)}function Fd(C){return xc.apply(this,arguments)}function xc(){return(xc=(0,c.A)(function*(C){const p=va(`${C.uid}:::`);return C._redirectEventId=p,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),p})).apply(this,arguments)}class Ld{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(v=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Vd(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fo(C);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var w;if(p.error&&!Fo(p)){const W=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";v.onError(be(this.auth,W))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const w=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pi(p))}saveEventToCache(p){this.cachedEventUids.add(Pi(p)),this.lastProcessedEventTime=Date.now()}}function Pi(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(p=>p).join("-")}function Fo({type:C,error:p}){return"unknown"===C&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Nc(C){return $l.apply(this,arguments)}function $l(){return($l=(0,c.A)(function*(C,p={}){return Me(C,"GET","/v1/projects",p)})).apply(this,arguments)}const Zy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xm=/^https?/;function Si(){return(Si=(0,c.A)(function*(C){if(C.config.emulator)return;const{authorizedDomains:p}=yield Nc(C);for(const v of p)try{if(pu(v))return}catch{}tt(C,"unauthorized-domain")})).apply(this,arguments)}function pu(C){const p=Qt(),{protocol:v,hostname:w}=new URL(p);if(C.startsWith("chrome-extension://")){const gt=new URL(C);return""===gt.hostname&&""===w?"chrome-extension:"===v&&C.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&gt.hostname===w}if(!Xm.test(v))return!1;if(Zy.test(C))return w===C;const W=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(w)}const is=new Pe(3e4,6e4);function Ia(){const C=Oi().___jsl;if(null!=C&&C.H)for(const p of Object.keys(C.H))if(C.H[p].r=C.H[p].r||[],C.H[p].L=C.H[p].L||[],C.H[p].r=[...C.H[p].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let vs=null;const $p=new Pe(5e3,15e3),ef="__/auth/iframe",Qm="emulator/auth/iframe",Ym={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ud(C){const p=C.config;ze(p.authDomain,C,"auth-domain-config-required");const v=p.emulator?te(p,Qm):`https://${C.config.authDomain}/${ef}`,w={apiKey:p.apiKey,appName:C.name,v:h.SDK_VERSION},W=tf.get(C.config.apiHost);W&&(w.eid=W);const Ie=C._getFrameworks();return Ie.length&&(w.fw=Ie.join(",")),`${v}?${(0,L.Am)(w).slice(1)}`}function gu(){return gu=(0,c.A)(function*(C){const p=yield function nl(C){return vs=vs||function Zh(C){return new Promise((p,v)=>{var w,W,Ie;function gt(){Ia(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ia(),v(be(C,"network-request-failed"))},timeout:is.get()})}if(null!==(W=null===(w=Oi().gapi)||void 0===w?void 0:w.iframes)&&void 0!==W&&W.Iframe)p(gapi.iframes.getContext());else{if(null===(Ie=Oi().gapi)||void 0===Ie||!Ie.load){const Ht=cr("iframefcb");return Oi()[Ht]=()=>{gapi.load?gt():v(be(C,"network-request-failed"))},Nt(`${function An(){return ot.gapiScript}()}?onload=${Ht}`).catch(yn=>v(yn))}gt()}}).catch(p=>{throw vs=null,p})}(C),vs}(C),v=Oi().gapi;return ze(v,C,"internal-error"),p.open({where:document.body,url:Ud(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ym,dontclear:!0},w=>new Promise(function(){var W=(0,c.A)(function*(Ie,gt){yield w.restyle({setHideOnLeave:!1});const Ht=be(C,"network-request-failed"),yn=Oi().setTimeout(()=>{gt(Ht)},$p.get());function lr(){Oi().clearTimeout(yn),Ie(w)}w.ping(lr).then(lr,()=>{gt(Ht)})});return function(Ie,gt){return W.apply(this,arguments)}}()))}),gu.apply(this,arguments)}const Jm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jp="__/auth/handler",Wo="emulator/auth/handler",xs=encodeURIComponent("fac");function ki(C,p,v,w,W,Ie){return jl.apply(this,arguments)}function jl(){return(jl=(0,c.A)(function*(C,p,v,w,W,Ie){ze(C.config.authDomain,C,"auth-domain-config-required"),ze(C.config.apiKey,C,"invalid-api-key");const gt={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:w,v:h.SDK_VERSION,eventId:W};if(p instanceof es){p.setDefaultLanguage(C.languageCode),gt.providerId=p.providerId||"",(0,L.Im)(p.getCustomParameters())||(gt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[gr,ti]of Object.entries(Ie||{}))gt[gr]=ti}if(p instanceof fa){const gr=p.getScopes().filter(ti=>""!==ti);gr.length>0&&(gt.scopes=gr.join(","))}C.tenantId&&(gt.tid=C.tenantId);const Ht=gt;for(const gr of Object.keys(Ht))void 0===Ht[gr]&&delete Ht[gr];const yn=yield C._getAppCheckToken(),lr=yn?`#${xs}=${encodeURIComponent(yn)}`:"";return`${function Hp({config:C}){return C.emulator?te(C,Wo):`https://${C.authDomain}/${jp}`}(C)}?${(0,L.Am)(Ht).slice(1)}${lr}`})).apply(this,arguments)}const kc="webStorageSupport",Ko=class Hu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ja,this._completeRedirectFn=rn,this._overrideRedirectResult=Bu}_openPopup(p,v,w,W){var Ie=this;return(0,c.A)(function*(){var gt;$t(null===(gt=Ie.eventManagers[p._key()])||void 0===gt?void 0:gt.manager,"_initialize() not called before _openPopup()");const Ht=yield ki(p,v,w,Qt(),W);return function Oc(C,p,v,w=500,W=600){const Ie=Math.max((window.screen.availHeight-W)/2,0).toString(),gt=Math.max((window.screen.availWidth-w)/2,0).toString();let Ht="";const yn=Object.assign(Object.assign({},Jm),{width:w.toString(),height:W.toString(),top:Ie,left:gt}),lr=(0,L.ZQ)().toLowerCase();v&&(Ht=Dr(lr)?"_blank":v),ln(lr)&&(p=p||"http://localhost",yn.scrollbars="yes");const gr=Object.entries(yn).reduce((ua,[ol,sl])=>`${ua}${ol}=${sl},`,"");if(function Sr(C=(0,L.ZQ)()){var p;return Mi(C)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(lr)&&"_self"!==Ht)return function ju(C,p){const v=document.createElement("a");v.href=C,v.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(w)}(p||"",Ht),new mu(null);const ti=window.open(p||"",Ht,gr);ze(ti,C,"popup-blocked");try{ti.focus()}catch{}return new mu(ti)}(p,Ht,va())})()}_openRedirect(p,v,w,W){var Ie=this;return(0,c.A)(function*(){return yield Ie._originValidation(p),function Io(C){Oi().location.href=C}(yield ki(p,v,w,Qt(),W)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:W,promise:Ie}=this.eventManagers[v];return W?Promise.resolve(W):($t(Ie,"If manager is not set, promise should be"),Ie)}const w=this.initAndGetManager(p);return this.eventManagers[v]={promise:w},w.catch(()=>{delete this.eventManagers[v]}),w}initAndGetManager(p){var v=this;return(0,c.A)(function*(){const w=yield function nf(C){return gu.apply(this,arguments)}(p),W=new Ld(p);return w.register("authEvent",Ie=>(ze(null==Ie?void 0:Ie.authEvent,p,"invalid-auth-event"),{status:W.onEvent(Ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:W},v.iframes[p._key()]=w,W})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(kc,{type:kc},W=>{var Ie;const gt=null===(Ie=null==W?void 0:W[0])||void 0===Ie?void 0:Ie[kc];void 0!==gt&&v(!!gt),tt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function fi(C){return Si.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return K()||dr()||Mi()}};class Bd{constructor(p){this.factorId=p}_process(p,v,w){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,w);case"signin":return this._finalizeSignIn(p,v.credential);default:return Ve("unexpected MultiFactorSessionType")}}}class Hl extends Bd{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Hl(p)}_finalizeEnroll(p,v,w){return function Bi(C,p){return Me(C,"POST","/v2/accounts/mfaEnrollment:finalize",ve(C,p))}(p,{idToken:v,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function qm(C,p){return Me(C,"POST","/v2/accounts/mfaSignIn:finalize",ve(C,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ea=(()=>{class C{constructor(){}static assertion(v){return Hl._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var zl="@firebase/auth";class af{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,c.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(w=>{p((null==w?void 0:w.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ws=(0,L.XA)("authIdTokenMaxAge")||300;let Lc=null;const Gu=C=>function(){var p=(0,c.A)(function*(v){const w=v&&(yield v.getIdTokenResult()),W=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(W&&W>Ws)return;const Ie=null==w?void 0:w.token;Lc!==Ie&&(Lc=Ie,yield fetch(C,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))});return function(v){return p.apply(this,arguments)}}();function zp(C=(0,h.getApp)()){const p=(0,h._getProvider)(C,"auth");if(p.isInitialized())return p.getImmediate();const v=function bi(C,p){const v=(0,h._getProvider)(C,"auth");if(v.isInitialized()){const W=v.getImmediate(),Ie=v.getOptions();if((0,L.bD)(Ie,null!=p?p:{}))return W;tt(W,"already-initialized")}return v.initialize({options:p})}(C,{popupRedirectResolver:Ko,persistence:[Vp,di,Ja]}),w=(0,L.XA)("authTokenSyncURL");if(w&&"boolean"==typeof isSecureContext&&isSecureContext){const Ie=new URL(w,location.origin);if(location.origin===Ie.origin){const gt=Gu(Ie.toString());(function Tn(C,p,v){(0,L.Ku)(C).beforeAuthStateChanged(p,v)})(v,gt,()=>gt(v.currentUser)),function qt(C,p,v,w){(0,L.Ku)(C).onIdTokenChanged(p,v,w)}(v,Ht=>gt(Ht))}}const W=(0,L.Tj)("auth");return W&&Qr(v,`http://${W}`),v}(function yt(C){ot=C})({loadJS:C=>new Promise((p,v)=>{const w=document.createElement("script");w.setAttribute("src",C),w.onload=p,w.onerror=W=>{const Ie=be("internal-error");Ie.customData=W,v(Ie)},w.type="text/javascript",w.charset="UTF-8",function il(){var C,p;return null!==(p=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==p?p:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gs(C){(0,h._registerComponent)(new he.uA("auth",(p,{options:v})=>{const w=p.getProvider("app").getImmediate(),W=p.getProvider("heartbeat"),Ie=p.getProvider("app-check-internal"),{apiKey:gt,authDomain:Ht}=w.options;ze(gt&&!gt.includes(":"),"invalid-api-key",{appName:w.name});const yn={apiKey:gt,authDomain:Ht,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ae(C)},lr=new mn(w,W,Ie,yn);return function Wr(C,p){const v=(null==p?void 0:p.persistence)||[],w=(Array.isArray(v)?v:[v]).map(Qe);null!=p&&p.errorMap&&C._updateErrorMap(p.errorMap),C._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(lr,v),lr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,w)=>{p.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new he.uA("auth-internal",p=>{const v=se(p.getProvider("auth").getImmediate());return new af(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(zl,"1.7.9",function Zm(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(C)),(0,h.registerVersion)(zl,"1.7.9","esm2017")}("Browser")},1076:(bn,ht,O)=>{"use strict";O.d(ht,{Am:()=>fr,Bd:()=>Ve,FA:()=>Xe,Fy:()=>it,I9:()=>On,Im:()=>Lt,Ku:()=>sn,Ll:()=>ze,T9:()=>tt,Tj:()=>ft,Uj:()=>Ge,XA:()=>be,ZQ:()=>vt,bD:()=>on,c1:()=>Qt,cY:()=>ke,eX:()=>me,g:()=>Ye,gR:()=>rr,hp:()=>Pn,jZ:()=>Dt,lT:()=>_t,lV:()=>Zt,mS:()=>Be,nr:()=>ne,p7:()=>$t,sr:()=>En,tD:()=>Ir,u:()=>Ce,yU:()=>Ke,zW:()=>de,zw:()=>$e});const Se=function(Z){const P=[];let F=0;for(let ce=0;ce<Z.length;ce++){let ae=Z.charCodeAt(ce);ae<128?P[F++]=ae:ae<2048?(P[F++]=ae>>6|192,P[F++]=63&ae|128):55296==(64512&ae)&&ce+1<Z.length&&56320==(64512&Z.charCodeAt(ce+1))?(ae=65536+((1023&ae)<<10)+(1023&Z.charCodeAt(++ce)),P[F++]=ae>>18|240,P[F++]=ae>>12&63|128,P[F++]=ae>>6&63|128,P[F++]=63&ae|128):(P[F++]=ae>>12|224,P[F++]=ae>>6&63|128,P[F++]=63&ae|128)}return P},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,P){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let ae=0;ae<Z.length;ae+=3){const Qe=Z[ae],Et=ae+1<Z.length,Ut=Et?Z[ae+1]:0,fn=ae+2<Z.length,un=fn?Z[ae+2]:0;let dr=(15&Ut)<<2|un>>6,Dr=63&un;fn||(Dr=64,Et||(dr=64)),ce.push(F[Qe>>2],F[(3&Qe)<<4|Ut>>4],F[dr],F[Dr])}return ce.join("")},encodeString(Z,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(Z):this.encodeByteArray(Se(Z),P)},decodeString(Z,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(Z):function(Z){const P=[];let F=0,ce=0;for(;F<Z.length;){const ae=Z[F++];if(ae<128)P[ce++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Qe=Z[F++];P[ce++]=String.fromCharCode((31&ae)<<6|63&Qe)}else if(ae>239&&ae<365){const fn=((7&ae)<<18|(63&Z[F++])<<12|(63&Z[F++])<<6|63&Z[F++])-65536;P[ce++]=String.fromCharCode(55296+(fn>>10)),P[ce++]=String.fromCharCode(56320+(1023&fn))}else{const Qe=Z[F++],Et=Z[F++];P[ce++]=String.fromCharCode((15&ae)<<12|(63&Qe)<<6|63&Et)}}return P.join("")}(this.decodeStringToByteArray(Z,P))},decodeStringToByteArray(Z,P){this.init_();const F=P?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let ae=0;ae<Z.length;){const Qe=F[Z.charAt(ae++)],Ut=ae<Z.length?F[Z.charAt(ae)]:0;++ae;const un=ae<Z.length?F[Z.charAt(ae)]:64;++ae;const ln=ae<Z.length?F[Z.charAt(ae)]:64;if(++ae,null==Qe||null==Ut||null==un||null==ln)throw new ye;ce.push(Qe<<2|Ut>>4),64!==un&&(ce.push(Ut<<4&240|un>>2),64!==ln&&ce.push(un<<6&192|ln))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(Z){return function(Z){const P=Se(Z);return he.encodeByteArray(P,!0)}(Z).replace(/\./g,"")},Ce=function(Z){try{return he.decodeString(Z,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function $e(Z,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return P}for(const F in P)!P.hasOwnProperty(F)||!He(F)||(Z[F]=$e(Z[F],P[F]));return Z}function He(Z){return"__proto__"!==Z}function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const et=()=>{try{return Be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=Z&&Ce(Z[1]);return P&&JSON.parse(P)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},ft=Z=>{var P,F;return null===(F=null===(P=et())||void 0===P?void 0:P.emulatorHosts)||void 0===F?void 0:F[Z]},Ke=Z=>{const P=ft(Z);if(!P)return;const F=P.lastIndexOf(":");if(F<=0||F+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const ce=parseInt(P.substring(F+1),10);return"["===P[0]?[P.substring(1,F-1),ce]:[P.substring(0,F),ce]},tt=()=>{var Z;return null===(Z=et())||void 0===Z?void 0:Z.config},be=Z=>{var P;return null===(P=et())||void 0===P?void 0:P[`_${Z}`]};class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,F)=>{this.resolve=P,this.reject=F})}wrapCallback(P){return(F,ce)=>{F?this.reject(F):this.resolve(ce),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(F):P(F,ce))}}}function it(Z,P){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=P||"demo-project",ae=Z.iat||0,Qe=Z.sub||Z.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:ae,exp:ae+3600,auth_time:ae,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(Et)),""].join(".")}function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function ze(){var Z;const P=null===(Z=et())||void 0===Z?void 0:Z.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return typeof window<"u"||$t()}function $t(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Qt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function En(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const Z=vt();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ne(){return!ze()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((Z,P)=>{try{let F=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(ce);ae.onsuccess=()=>{ae.result.close(),F||self.indexedDB.deleteDatabase(ce),Z(!0)},ae.onupgradeneeded=()=>{F=!1},ae.onerror=()=>{var Qe;P((null===(Qe=ae.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(F){P(F)}})}class Ye extends Error{constructor(P,F,ce){super(F),this.code=P,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(P,F,ce){this.service=P,this.serviceName=F,this.errors=ce}create(P,...F){const ce=F[0]||{},ae=`${this.service}/${P}`,Qe=this.errors[P],Et=Qe?function Rt(Z,P){return Z.replace(we,(F,ce)=>{const ae=P[ce];return null!=ae?String(ae):`<${ce}?>`})}(Qe,ce):"Error";return new Ye(ae,`${this.serviceName}: ${Et} (${ae}).`,ce)}}const we=/\{\$([^}]+)}/g;function rr(Z,P){return Object.prototype.hasOwnProperty.call(Z,P)}function Lt(Z){for(const P in Z)if(Object.prototype.hasOwnProperty.call(Z,P))return!1;return!0}function on(Z,P){if(Z===P)return!0;const F=Object.keys(Z),ce=Object.keys(P);for(const ae of F){if(!ce.includes(ae))return!1;const Qe=Z[ae],Et=P[ae];if(Ot(Qe)&&Ot(Et)){if(!on(Qe,Et))return!1}else if(Qe!==Et)return!1}for(const ae of ce)if(!F.includes(ae))return!1;return!0}function Ot(Z){return null!==Z&&"object"==typeof Z}function fr(Z){const P=[];for(const[F,ce]of Object.entries(Z))Array.isArray(ce)?ce.forEach(ae=>{P.push(encodeURIComponent(F)+"="+encodeURIComponent(ae))}):P.push(encodeURIComponent(F)+"="+encodeURIComponent(ce));return P.length?"&"+P.join("&"):""}function On(Z){const P={};return Z.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[ae,Qe]=ce.split("=");P[decodeURIComponent(ae)]=decodeURIComponent(Qe)}}),P}function Pn(Z){const P=Z.indexOf("?");if(!P)return"";const F=Z.indexOf("#",P);return Z.substring(P,F>0?F:void 0)}function Ir(Z,P){const F=new Qn(Z,P);return F.subscribe.bind(F)}class Qn{constructor(P,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{P(this)}).catch(ce=>{this.error(ce)})}next(P){this.forEachObserver(F=>{F.next(P)})}error(P){this.forEachObserver(F=>{F.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,F,ce){let ae;if(void 0===P&&void 0===F&&void 0===ce)throw new Error("Missing Observer.");ae=function mr(Z,P){if("object"!=typeof Z||null===Z)return!1;for(const F of P)if(F in Z&&"function"==typeof Z[F])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:F,complete:ce},void 0===ae.next&&(ae.next=Xr),void 0===ae.error&&(ae.error=Xr),void 0===ae.complete&&(ae.complete=Xr);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch{}}),this.observers.push(ae),Qe}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,P)}sendOne(P,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{F(this.observers[P])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xr(){}function sn(Z){return Z&&Z._delegate?Z._delegate:Z}},4442:(bn,ht,O)=>{"use strict";O.d(ht,{L:()=>le,a:()=>he,b:()=>ye,c:()=>Le,d:()=>Ge,g:()=>_t}),O(5531);const le="ionViewWillEnter",he="ionViewDidEnter",ye="ionViewWillLeave",Le="ionViewDidLeave",Ge="ionViewWillUnload",_t=Pe=>Pe.classList.contains("ion-page")?Pe:Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Pe},5531:(bn,ht,O)=>{"use strict";O.d(ht,{a:()=>Ce,c:()=>h,g:()=>Ge});class c{constructor(){this.m=new Map}reset(Pe){this.m=new Map(Object.entries(Pe))}get(Pe,te){const ne=this.m.get(Pe);return void 0!==ne?ne:te}getBoolean(Pe,te=!1){const ne=this.m.get(Pe);return void 0===ne?te:"string"==typeof ne?"true"===ne:!!ne}getNumber(Pe,te){const ne=parseFloat(this.m.get(Pe));return isNaN(ne)?void 0!==te?te:NaN:ne}set(Pe,te){this.m.set(Pe,te)}}const h=new c,Ge=_t=>fe(_t),Ce=(_t,Pe)=>("string"==typeof _t&&(Pe=_t,_t=void 0),Ge(_t).includes(Pe)),fe=(_t=window)=>{if(typeof _t>"u")return[];_t.Ionic=_t.Ionic||{};let Pe=_t.Ionic.platforms;return null==Pe&&(Pe=_t.Ionic.platforms=$e(_t),Pe.forEach(te=>_t.document.documentElement.classList.add(`plt-${te}`))),Pe},$e=_t=>{const Pe=h.get("platform");return Object.keys(Qt).filter(te=>{const ne=null==Pe?void 0:Pe[te];return"function"==typeof ne?ne(_t):Qt[te](_t)})},Be=_t=>!!(Ve(_t,/iPad/i)||Ve(_t,/Macintosh/i)&&tt(_t)),lt=_t=>Ve(_t,/android|sink/i),tt=_t=>$t(_t,"(any-pointer:coarse)"),ke=_t=>it(_t)||vt(_t),it=_t=>!!(_t.cordova||_t.phonegap||_t.PhoneGap),vt=_t=>{const Pe=_t.Capacitor;return!(null==Pe||!Pe.isNative)},Ve=(_t,Pe)=>Pe.test(_t.navigator.userAgent),$t=(_t,Pe)=>{var te;return null===(te=_t.matchMedia)||void 0===te?void 0:te.call(_t,Pe).matches},Qt={ipad:Be,iphone:_t=>Ve(_t,/iPhone/i),ios:_t=>Ve(_t,/iPhone|iPod/i)||Be(_t),android:lt,phablet:_t=>{const Pe=_t.innerWidth,te=_t.innerHeight,ne=Math.min(Pe,te),de=Math.max(Pe,te);return ne>390&&ne<520&&de>620&&de<800},tablet:_t=>{const Pe=_t.innerWidth,te=_t.innerHeight,ne=Math.min(Pe,te),de=Math.max(Pe,te);return Be(_t)||(_t=>lt(_t)&&!Ve(_t,/mobile/i))(_t)||ne>460&&ne<820&&de>780&&de<1400},cordova:it,capacitor:vt,electron:_t=>Ve(_t,/electron/i),pwa:_t=>{var Pe;return!!(null!==(Pe=_t.matchMedia)&&void 0!==Pe&&Pe.call(_t,"(display-mode: standalone)").matches||_t.navigator.standalone)},mobile:tt,mobileweb:_t=>tt(_t)&&!ke(_t),desktop:_t=>!tt(_t),hybrid:ke}},9986:(bn,ht,O)=>{"use strict";O.d(ht,{c:()=>he});var c=O(8476);let h;const Se=(ye,Le,Ge)=>{const Ce=Le.startsWith("animation")?(ye=>(void 0===h&&(h=void 0===ye.style.animationName&&void 0!==ye.style.webkitAnimationName?"-webkit-":""),h))(ye):"";ye.style.setProperty(Ce+Le,Ge)},le=(ye=[],Le)=>{if(void 0!==Le){const Ge=Array.isArray(Le)?Le:[Le];return[...ye,...Ge]}return ye},he=ye=>{let Le,Ge,Ce,fe,$e,He,et,Dt,ze,Ve,Zt,Be=[],st=[],dt=[],lt=!1,ft={},Ke=[],tt=[],be={},ke=0,it=!1,vt=!1,$t=!0,Qt=!1,En=!0,Nn=!1;const _t=ye,Pe=[],te=[],ne=[],de=[],me=[],ve=[],Me=[],Ye=[],Xe=[],Rt=[],we=[],jt="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,In="function"==typeof Element&&"function"==typeof Element.prototype.animate&&jt,Vn=()=>we,rr=(ee,xe)=>{const It=xe.findIndex(Kt=>Kt.c===ee);It>-1&&xe.splice(It,1)},Lt=(ee,xe)=>((null!=xe&&xe.oneTimeCallback?te:Pe).push({c:ee,o:xe}),Zt),on=()=>{In&&(we.forEach(ee=>{ee.cancel()}),we.length=0)},Ot=()=>{ve.forEach(ee=>{null!=ee&&ee.parentNode&&ee.parentNode.removeChild(ee)}),ve.length=0},Ln=()=>void 0!==$e?$e:et?et.getFill():"both",si=()=>void 0!==Dt?Dt:void 0!==He?He:et?et.getDirection():"normal",Cr=()=>it?"linear":void 0!==Ce?Ce:et?et.getEasing():"linear",Zr=()=>vt?0:void 0!==ze?ze:void 0!==Ge?Ge:et?et.getDuration():0,$n=()=>void 0!==fe?fe:et?et.getIterations():1,Rn=()=>void 0!==Ve?Ve:void 0!==Le?Le:et?et.getDelay():0,Et=()=>{0!==ke&&(ke--,0===ke&&((()=>{Xe.forEach(mn=>mn()),Rt.forEach(mn=>mn());const ee=$t?1:0,xe=Ke,It=tt,Kt=be;de.forEach(mn=>{const se=mn.classList;xe.forEach(Ne=>se.add(Ne)),It.forEach(Ne=>se.remove(Ne));for(const Ne in Kt)Kt.hasOwnProperty(Ne)&&Se(mn,Ne,Kt[Ne])}),ze=void 0,Dt=void 0,Ve=void 0,Pe.forEach(mn=>mn.c(ee,Zt)),te.forEach(mn=>mn.c(ee,Zt)),te.length=0,En=!0,$t&&(Qt=!0),$t=!0})(),et&&et.animationFinish()))},fn=()=>{(()=>{Me.forEach(Kt=>Kt()),Ye.forEach(Kt=>Kt());const ee=st,xe=dt,It=ft;de.forEach(Kt=>{const mn=Kt.classList;ee.forEach(se=>mn.add(se)),xe.forEach(se=>mn.remove(se));for(const se in It)It.hasOwnProperty(se)&&Se(Kt,se,It[se])})})(),Be.length>0&&In&&(de.forEach(ee=>{const xe=ee.animate(Be,{id:_t,delay:Rn(),duration:Zr(),easing:Cr(),iterations:$n(),fill:Ln(),direction:si()});xe.pause(),we.push(xe)}),we.length>0&&(we[0].onfinish=()=>{Et()})),lt=!0},un=ee=>{ee=Math.min(Math.max(ee,0),.9999),In&&we.forEach(xe=>{xe.currentTime=xe.effect.getComputedTiming().delay+Zr()*ee,xe.pause()})},vn=ee=>{we.forEach(xe=>{xe.effect.updateTiming({delay:Rn(),duration:Zr(),easing:Cr(),iterations:$n(),fill:Ln(),direction:si()})}),void 0!==ee&&un(ee)},ln=(ee=!1,xe=!0,It)=>(ee&&me.forEach(Kt=>{Kt.update(ee,xe,It)}),In&&vn(It),Zt),ni=()=>{lt&&(In?we.forEach(ee=>{ee.pause()}):de.forEach(ee=>{Se(ee,"animation-play-state","paused")}),Nn=!0)},Sr=ee=>new Promise(xe=>{null!=ee&&ee.sync&&(vt=!0,Lt(()=>vt=!1,{oneTimeCallback:!0})),lt||fn(),Qt&&(In&&(un(0),vn()),Qt=!1),En&&(ke=me.length+1,En=!1);const It=()=>{rr(Kt,te),xe()},Kt=()=>{rr(It,ne),xe()};Lt(Kt,{oneTimeCallback:!0}),(ee=>{ne.push({c:ee,o:{oneTimeCallback:!0}})})(It),me.forEach(mn=>{mn.play()}),In?(we.forEach(ee=>{ee.play()}),(0===Be.length||0===de.length)&&Et()):Et(),Nn=!1}),K=(ee,xe)=>{const It=Be[0];return void 0===It||void 0!==It.offset&&0!==It.offset?Be=[{offset:0,[ee]:xe},...Be]:It[ee]=xe,Zt};return Zt={parentAnimation:et,elements:de,childAnimations:me,id:_t,animationFinish:Et,from:K,to:(ee,xe)=>{const It=Be[Be.length-1];return void 0===It||void 0!==It.offset&&1!==It.offset?Be=[...Be,{offset:1,[ee]:xe}]:It[ee]=xe,Zt},fromTo:(ee,xe,It)=>K(ee,xe).to(ee,It),parent:ee=>(et=ee,Zt),play:Sr,pause:()=>(me.forEach(ee=>{ee.pause()}),ni(),Zt),stop:()=>{me.forEach(ee=>{ee.stop()}),lt&&(on(),lt=!1),it=!1,vt=!1,En=!0,Dt=void 0,ze=void 0,Ve=void 0,ke=0,Qt=!1,$t=!0,Nn=!1,ne.forEach(ee=>ee.c(0,Zt)),ne.length=0},destroy:ee=>(me.forEach(xe=>{xe.destroy(ee)}),(ee=>{on(),ee&&Ot()})(ee),de.length=0,me.length=0,Be.length=0,Pe.length=0,te.length=0,lt=!1,En=!0,Zt),keyframes:ee=>{const xe=Be!==ee;return Be=ee,xe&&(ee=>{In&&Vn().forEach(xe=>{const It=xe.effect;if(It.setKeyframes)It.setKeyframes(ee);else{const Kt=new KeyframeEffect(It.target,ee,It.getTiming());xe.effect=Kt}})})(Be),Zt},addAnimation:ee=>{if(null!=ee)if(Array.isArray(ee))for(const xe of ee)xe.parent(Zt),me.push(xe);else ee.parent(Zt),me.push(ee);return Zt},addElement:ee=>{if(null!=ee)if(1===ee.nodeType)de.push(ee);else if(ee.length>=0)for(let xe=0;xe<ee.length;xe++)de.push(ee[xe]);else console.error("Invalid addElement value");return Zt},update:ln,fill:ee=>($e=ee,ln(!0),Zt),direction:ee=>(He=ee,ln(!0),Zt),iterations:ee=>(fe=ee,ln(!0),Zt),duration:ee=>(!In&&0===ee&&(ee=1),Ge=ee,ln(!0),Zt),easing:ee=>(Ce=ee,ln(!0),Zt),delay:ee=>(Le=ee,ln(!0),Zt),getWebAnimations:Vn,getKeyframes:()=>Be,getFill:Ln,getDirection:si,getDelay:Rn,getIterations:$n,getEasing:Cr,getDuration:Zr,afterAddRead:ee=>(Xe.push(ee),Zt),afterAddWrite:ee=>(Rt.push(ee),Zt),afterClearStyles:(ee=[])=>{for(const xe of ee)be[xe]="";return Zt},afterStyles:(ee={})=>(be=ee,Zt),afterRemoveClass:ee=>(tt=le(tt,ee),Zt),afterAddClass:ee=>(Ke=le(Ke,ee),Zt),beforeAddRead:ee=>(Me.push(ee),Zt),beforeAddWrite:ee=>(Ye.push(ee),Zt),beforeClearStyles:(ee=[])=>{for(const xe of ee)ft[xe]="";return Zt},beforeStyles:(ee={})=>(ft=ee,Zt),beforeRemoveClass:ee=>(dt=le(dt,ee),Zt),beforeAddClass:ee=>(st=le(st,ee),Zt),onFinish:Lt,isRunning:()=>0!==ke&&!Nn,progressStart:(ee=!1,xe)=>(me.forEach(It=>{It.progressStart(ee,xe)}),ni(),it=ee,lt||fn(),ln(!1,!0,xe),Zt),progressStep:ee=>(me.forEach(xe=>{xe.progressStep(ee)}),un(ee),Zt),progressEnd:(ee,xe,It)=>(it=!1,me.forEach(Kt=>{Kt.progressEnd(ee,xe,It)}),void 0!==It&&(ze=It),Qt=!1,$t=!0,0===ee?(Dt="reverse"===si()?"normal":"reverse","reverse"===Dt&&($t=!1),In?(ln(),un(1-xe)):(Ve=(1-xe)*Zr()*-1,ln(!1,!1))):1===ee&&(In?(ln(),un(xe)):(Ve=xe*Zr()*-1,ln(!1,!1))),void 0!==ee&&!et&&Sr(),Zt)}}},464:(bn,ht,O)=>{"use strict";O.d(ht,{E:()=>Ce,a:()=>c,s:()=>Le});const c=fe=>{try{if(fe instanceof ye)return fe.value;if(!Se()||"string"!=typeof fe||""===fe)return fe;if(fe.includes("onload="))return"";const $e=document.createDocumentFragment(),He=document.createElement("div");$e.appendChild(He),He.innerHTML=fe,he.forEach(lt=>{const et=$e.querySelectorAll(lt);for(let ft=et.length-1;ft>=0;ft--){const Ke=et[ft];Ke.parentNode?Ke.parentNode.removeChild(Ke):$e.removeChild(Ke);const tt=L(Ke);for(let be=0;be<tt.length;be++)h(tt[be])}});const Be=L($e);for(let lt=0;lt<Be.length;lt++)h(Be[lt]);const st=document.createElement("div");st.appendChild($e);const dt=st.querySelector("div");return null!==dt?dt.innerHTML:st.innerHTML}catch($e){return console.error($e),""}},h=fe=>{if(fe.nodeType&&1!==fe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(fe.attributes instanceof NamedNodeMap))return void fe.remove();for(let He=fe.attributes.length-1;He>=0;He--){const Be=fe.attributes.item(He),st=Be.name;if(!le.includes(st.toLowerCase())){fe.removeAttribute(st);continue}const dt=Be.value,lt=fe[st];(null!=dt&&dt.toLowerCase().includes("javascript:")||null!=lt&&lt.toLowerCase().includes("javascript:"))&&fe.removeAttribute(st)}const $e=L(fe);for(let He=0;He<$e.length;He++)h($e[He])},L=fe=>null!=fe.children?fe.children:fe.childNodes,Se=()=>{var fe;const $e=window,He=null===(fe=null==$e?void 0:$e.Ionic)||void 0===fe?void 0:fe.config;return!He||(He.get?He.get("sanitizerEnabled",!0):!0===He.sanitizerEnabled||void 0===He.sanitizerEnabled)},le=["class","id","href","src","name","slot"],he=["script","style","iframe","meta","link","object","embed"];class ye{constructor($e){this.value=$e}}const Le=fe=>{const $e=window,He=$e.Ionic;if(!He||!He.config||"Object"===He.config.constructor.name)return $e.Ionic=$e.Ionic||{},$e.Ionic.config=Object.assign(Object.assign({},$e.Ionic.config),fe),$e.Ionic.config},Ce=!1},3351:(bn,ht,O)=>{"use strict";O.d(ht,{g:()=>c});const c=(he,ye,Le,Ge,Ce)=>L(he[1],ye[1],Le[1],Ge[1],Ce).map(fe=>h(he[0],ye[0],Le[0],Ge[0],fe)),h=(he,ye,Le,Ge,Ce)=>Ce*(3*ye*Math.pow(Ce-1,2)+Ce*(-3*Le*Ce+3*Le+Ge*Ce))-he*Math.pow(Ce-1,3),L=(he,ye,Le,Ge,Ce)=>le((Ge-=Ce)-3*(Le-=Ce)+3*(ye-=Ce)-(he-=Ce),3*Le-6*ye+3*he,3*ye-3*he,he).filter($e=>$e>=0&&$e<=1),le=(he,ye,Le,Ge)=>{if(0===he)return((he,ye,Le)=>{const Ge=ye*ye-4*he*Le;return Ge<0?[]:[(-ye+Math.sqrt(Ge))/(2*he),(-ye-Math.sqrt(Ge))/(2*he)]})(ye,Le,Ge);const Ce=(3*(Le/=he)-(ye/=he)*ye)/3,fe=(2*ye*ye*ye-9*ye*Le+27*(Ge/=he))/27;if(0===Ce)return[Math.pow(-fe,1/3)];if(0===fe)return[Math.sqrt(-Ce),-Math.sqrt(-Ce)];const $e=Math.pow(fe/2,2)+Math.pow(Ce/3,3);if(0===$e)return[Math.pow(fe/2,.5)-ye/3];if($e>0)return[Math.pow(-fe/2+Math.sqrt($e),1/3)-Math.pow(fe/2+Math.sqrt($e),1/3)-ye/3];const He=Math.sqrt(Math.pow(-Ce/3,3)),Be=Math.acos(-fe/(2*Math.sqrt(Math.pow(-Ce/3,3)))),st=2*Math.pow(He,1/3);return[st*Math.cos(Be/3)-ye/3,st*Math.cos((Be+2*Math.PI)/3)-ye/3,st*Math.cos((Be+4*Math.PI)/3)-ye/3]}},8621:(bn,ht,O)=>{"use strict";O.d(ht,{C:()=>le,a:()=>L,d:()=>Se});var c=O(467),h=O(4920);const L=function(){var he=(0,c.A)(function*(ye,Le,Ge,Ce,fe,$e){var He;if(ye)return ye.attachViewToDom(Le,Ge,fe,Ce);if(!($e||"string"==typeof Ge||Ge instanceof HTMLElement))throw new Error("framework delegate is missing");const Be="string"==typeof Ge?null===(He=Le.ownerDocument)||void 0===He?void 0:He.createElement(Ge):Ge;return Ce&&Ce.forEach(st=>Be.classList.add(st)),fe&&Object.assign(Be,fe),Le.appendChild(Be),yield new Promise(st=>(0,h.c)(Be,st)),Be});return function(Le,Ge,Ce,fe,$e,He){return he.apply(this,arguments)}}(),Se=(he,ye)=>{if(ye){if(he)return he.removeViewFromDom(ye.parentElement,ye);ye.remove()}return Promise.resolve()},le=()=>{let he,ye;return{attachViewToDom:function(){var Ce=(0,c.A)(function*(fe,$e,He={},Be=[]){var st,dt;let lt;if(he=fe,$e){const ft="string"==typeof $e?null===(st=he.ownerDocument)||void 0===st?void 0:st.createElement($e):$e;Be.forEach(Ke=>ft.classList.add(Ke)),Object.assign(ft,He),he.appendChild(ft),lt=ft,yield new Promise(Ke=>(0,h.c)(ft,Ke))}else if(he.children.length>0&&("ION-MODAL"===he.tagName||"ION-POPOVER"===he.tagName)&&!(lt=he.children[0]).classList.contains("ion-delegate-host")){const Ke=null===(dt=he.ownerDocument)||void 0===dt?void 0:dt.createElement("div");Ke.classList.add("ion-delegate-host"),Be.forEach(tt=>Ke.classList.add(tt)),Ke.append(...he.children),he.appendChild(Ke),lt=Ke}const et=document.querySelector("ion-app")||document.body;return ye=document.createComment("ionic teleport"),he.parentNode.insertBefore(ye,he),et.appendChild(he),null!=lt?lt:he});return function($e,He){return Ce.apply(this,arguments)}}(),removeViewFromDom:()=>(he&&ye&&(ye.parentNode.insertBefore(he,ye),ye.remove()),Promise.resolve())}}},1970:(bn,ht,O)=>{"use strict";O.d(ht,{B:()=>Se,G:()=>le});class h{constructor(ye,Le,Ge,Ce,fe){this.id=Le,this.name=Ge,this.disableScroll=fe,this.priority=1e6*Ce+Le,this.ctrl=ye}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ye=this.ctrl.capture(this.name,this.id,this.priority);return ye&&this.disableScroll&&this.ctrl.disableScroll(this.id),ye}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(ye,Le,Ge,Ce){this.id=Le,this.disable=Ge,this.disableScroll=Ce,this.ctrl=ye}block(){if(this.ctrl){if(this.disable)for(const ye of this.disable)this.ctrl.disableGesture(ye,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ye of this.disable)this.ctrl.enableGesture(ye,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Se="backdrop-no-scroll",le=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ye){var Le;return new h(this,this.newID(),ye.name,null!==(Le=ye.priority)&&void 0!==Le?Le:0,!!ye.disableScroll)}createBlocker(ye={}){return new L(this,this.newID(),ye.disable,!!ye.disableScroll)}start(ye,Le,Ge){return this.canStart(ye)?(this.requestedStart.set(Le,Ge),!0):(this.requestedStart.delete(Le),!1)}capture(ye,Le,Ge){if(!this.start(ye,Le,Ge))return!1;const Ce=this.requestedStart;let fe=-1e4;if(Ce.forEach($e=>{fe=Math.max(fe,$e)}),fe===Ge){this.capturedId=Le,Ce.clear();const $e=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ye}});return document.dispatchEvent($e),!0}return Ce.delete(Le),!1}release(ye){this.requestedStart.delete(ye),this.capturedId===ye&&(this.capturedId=void 0)}disableGesture(ye,Le){let Ge=this.disabledGestures.get(ye);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(ye,Ge)),Ge.add(Le)}enableGesture(ye,Le){const Ge=this.disabledGestures.get(ye);void 0!==Ge&&Ge.delete(Le)}disableScroll(ye){this.disabledScroll.add(ye),1===this.disabledScroll.size&&document.body.classList.add(Se)}enableScroll(ye){this.disabledScroll.delete(ye),0===this.disabledScroll.size&&document.body.classList.remove(Se)}canStart(ye){return!(void 0!==this.capturedId||this.isDisabled(ye))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ye){const Le=this.disabledGestures.get(ye);return!!(Le&&Le.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(bn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>Ge,OVERLAY_BACK_BUTTON_PRIORITY:()=>Le,blockHardwareBackButton:()=>he,shouldUseCloseWatcher:()=>le,startHardwareBackButton:()=>ye});var c=O(467),h=O(8476),L=O(9483);O(4261);const le=()=>L.c.get("experimentalCloseWatcher",!1)&&void 0!==h.w&&"CloseWatcher"in h.w,he=()=>{document.addEventListener("backbutton",()=>{})},ye=()=>{const Ce=document;let fe=!1;const $e=()=>{if(fe)return;let He=0,Be=[];const st=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(et,ft){Be.push({priority:et,handler:ft,id:He++})}}});Ce.dispatchEvent(st);const dt=function(){var et=(0,c.A)(function*(ft){try{if(null!=ft&&ft.handler){const Ke=ft.handler(lt);null!=Ke&&(yield Ke)}}catch(Ke){console.error(Ke)}});return function(Ke){return et.apply(this,arguments)}}(),lt=()=>{if(Be.length>0){let et={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Be.forEach(ft=>{ft.priority>=et.priority&&(et=ft)}),fe=!0,Be=Be.filter(ft=>ft.id!==et.id),dt(et).then(()=>fe=!1)}};lt()};if(le()){let He;const Be=()=>{null==He||He.destroy(),He=new h.w.CloseWatcher,He.onclose=()=>{$e(),Be()}};Be()}else Ce.addEventListener("backbutton",$e)},Le=100,Ge=99},4920:(bn,ht,O)=>{"use strict";O.d(ht,{a:()=>Le,b:()=>Ge,c:()=>L,d:()=>Be,e:()=>ft,f:()=>He,g:()=>Ce,h:()=>le,i:()=>ye,j:()=>st,k:()=>Se,l:()=>$e,m:()=>dt,n:()=>et,o:()=>Ke,p:()=>lt,r:()=>fe,s:()=>tt,t:()=>c});const c=(be,ke=0)=>new Promise(it=>{h(be,ke,it)}),h=(be,ke=0,it)=>{let vt,Dt;const ze={passive:!0},$t=()=>{vt&&vt()},Qt=En=>{(void 0===En||be===En.target)&&($t(),it(En))};return be&&(be.addEventListener("webkitTransitionEnd",Qt,ze),be.addEventListener("transitionend",Qt,ze),Dt=setTimeout(Qt,ke+500),vt=()=>{void 0!==Dt&&(clearTimeout(Dt),Dt=void 0),be.removeEventListener("webkitTransitionEnd",Qt,ze),be.removeEventListener("transitionend",Qt,ze)}),$t},L=(be,ke)=>{be.componentOnReady?be.componentOnReady().then(it=>ke(it)):fe(()=>ke(be))},Se=be=>void 0!==be.componentOnReady,le=(be,ke=[])=>{const it={};return ke.forEach(vt=>{be.hasAttribute(vt)&&(null!==be.getAttribute(vt)&&(it[vt]=be.getAttribute(vt)),be.removeAttribute(vt))}),it},he=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ye=(be,ke)=>{let it=he;return ke&&ke.length>0&&(it=it.filter(vt=>!ke.includes(vt))),le(be,it)},Le=(be,ke,it,vt)=>{var Dt;if(typeof window<"u"){const ze=window,Ve=null===(Dt=null==ze?void 0:ze.Ionic)||void 0===Dt?void 0:Dt.config;if(Ve){const $t=Ve.get("_ael");if($t)return $t(be,ke,it,vt);if(Ve._ael)return Ve._ael(be,ke,it,vt)}}return be.addEventListener(ke,it,vt)},Ge=(be,ke,it,vt)=>{var Dt;if(typeof window<"u"){const ze=window,Ve=null===(Dt=null==ze?void 0:ze.Ionic)||void 0===Dt?void 0:Dt.config;if(Ve){const $t=Ve.get("_rel");if($t)return $t(be,ke,it,vt);if(Ve._rel)return Ve._rel(be,ke,it,vt)}}return be.removeEventListener(ke,it,vt)},Ce=(be,ke=be)=>be.shadowRoot||ke,fe=be=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(be):"function"==typeof requestAnimationFrame?requestAnimationFrame(be):setTimeout(be),$e=be=>!!be.shadowRoot&&!!be.attachShadow,He=be=>{if(be.focus(),be.classList.contains("ion-focusable")){const ke=be.closest("ion-app");ke&&ke.setFocus([be])}},Be=(be,ke,it,vt,Dt)=>{if(be||$e(ke)){let ze=ke.querySelector("input.aux-input");ze||(ze=ke.ownerDocument.createElement("input"),ze.type="hidden",ze.classList.add("aux-input"),ke.appendChild(ze)),ze.disabled=Dt,ze.name=it,ze.value=vt||""}},st=(be,ke,it)=>Math.max(be,Math.min(ke,it)),dt=(be,ke)=>{if(!be){const it="ASSERT: "+ke;throw console.error(it),new Error(it)}},lt=be=>{if(be){const ke=be.changedTouches;if(ke&&ke.length>0){const it=ke[0];return{x:it.clientX,y:it.clientY}}if(void 0!==be.pageX)return{x:be.pageX,y:be.pageY}}return{x:0,y:0}},et=be=>{const ke="rtl"===document.dir;switch(be){case"start":return ke;case"end":return!ke;default:throw new Error(`"${be}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ft=(be,ke)=>{const it=be._original||be;return{_original:be,emit:Ke(it.emit.bind(it),ke)}},Ke=(be,ke=0)=>{let it;return(...vt)=>{clearTimeout(it),it=setTimeout(be,ke,...vt)}},tt=(be,ke)=>{if(null!=be||(be={}),null!=ke||(ke={}),be===ke)return!0;const it=Object.keys(be);if(it.length!==Object.keys(ke).length)return!1;for(const vt of it)if(!(vt in ke)||be[vt]!==ke[vt])return!1;return!0}},4261:(bn,ht,O)=>{"use strict";O.d(ht,{B:()=>he,a:()=>En,b:()=>wo,c:()=>Ln,d:()=>$n,e:()=>Xe,f:()=>Pn,g:()=>si,h:()=>fr,i:()=>Zr,j:()=>cr,k:()=>we,r:()=>Ge,w:()=>Rt});var c=O(467);var Se=Object.defineProperty,he={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ye=new WeakMap,Le=y=>ye.get(y),Ge=(y,M)=>ye.set(M.$lazyInstance$=y,M),fe=(y,M)=>M in y,$e=(y,M)=>(0,console.error)(y,M),He=new Map,st=new Map,dt=[],tt="s-id",vt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Dt="http://www.w3.org/1999/xlink",ze=typeof window<"u"?window:{},Ve=ze.document||{head:{}},Qt={$flags$:0,$resourcesUrl$:"",jmp:y=>y(),raf:y=>requestAnimationFrame(y),ael:(y,M,Q,Fe)=>y.addEventListener(M,Q,Fe),rel:(y,M,Q,Fe)=>y.removeEventListener(M,Q,Fe),ce:(y,M)=>new CustomEvent(y,M)},En=y=>{Object.assign(Qt,y)},Nn=(()=>{let y=!1;try{Ve.addEventListener("e",null,Object.defineProperty({},"passive",{get(){y=!0}}))}catch{}return y})(),Pe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),te=!1,ne=[],de=[],me=(y,M)=>Q=>{y.push(Q),te||(te=!0,M&&4&Qt.$flags$?Ye(Me):Qt.raf(Me))},ve=y=>{for(let M=0;M<y.length;M++)try{y[M](performance.now())}catch(Q){$e(Q)}y.length=0},Me=()=>{ve(ne),ve(de),(te=ne.length>0)&&Qt.raf(Me)},Ye=y=>Promise.resolve(void 0).then(y),Xe=me(ne,!1),Rt=me(de,!0),we=y=>{const M=new URL(y,Qt.$resourcesUrl$);return M.origin!==ze.location.origin?M.href:M.pathname},jt={},qn=y=>"object"==(y=typeof y)||"function"===y;function Jn(y){var M,Q,Fe;return null!=(Fe=null==(Q=null==(M=y.head)?void 0:M.querySelector('meta[name="csp-nonce"]'))?void 0:Q.getAttribute("content"))?Fe:void 0}((y,M)=>{for(var Q in M)Se(y,Q,{get:M[Q],enumerable:!0})})({},{err:()=>tn,map:()=>Lt,ok:()=>rr,unwrap:()=>Ft,unwrapErr:()=>on});var rr=y=>({isOk:!0,isErr:!1,value:y}),tn=y=>({isOk:!1,isErr:!0,value:y});function Lt(y,M){if(y.isOk){const Q=M(y.value);return Q instanceof Promise?Q.then(Fe=>rr(Fe)):rr(Q)}if(y.isErr)return tn(y.value);throw"should never get here"}var Ft=y=>{if(y.isOk)return y.value;throw y.value},on=y=>{if(y.isErr)return y.value;throw y.value},fr=(y,M,...Q)=>{let Fe=null,ct=null,at=null,en=!1,wt=!1;const zt=[],an=Wn=>{for(let Yn=0;Yn<Wn.length;Yn++)Fe=Wn[Yn],Array.isArray(Fe)?an(Fe):null!=Fe&&"boolean"!=typeof Fe&&((en="function"!=typeof y&&!qn(Fe))&&(Fe=String(Fe)),en&&wt?zt[zt.length-1].$text$+=Fe:zt.push(en?On(null,Fe):Fe),wt=en)};if(an(Q),M){M.key&&(ct=M.key),M.name&&(at=M.name);{const Wn=M.className||M.class;Wn&&(M.class="object"!=typeof Wn?Wn:Object.keys(Wn).filter(Yn=>Wn[Yn]).join(" "))}}if("function"==typeof y)return y(null===M?{}:M,zt,Ir);const Fn=On(y,null);return Fn.$attrs$=M,zt.length>0&&(Fn.$children$=zt),Fn.$key$=ct,Fn.$name$=at,Fn},On=(y,M)=>({$flags$:0,$tag$:y,$text$:M,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Pn={},Ir={forEach:(y,M)=>y.map(Qn).forEach(M),map:(y,M)=>y.map(Qn).map(M).map(Kn)},Qn=y=>({vattrs:y.$attrs$,vchildren:y.$children$,vkey:y.$key$,vname:y.$name$,vtag:y.$tag$,vtext:y.$text$}),Kn=y=>{if("function"==typeof y.vtag){const Q={...y.vattrs};return y.vkey&&(Q.key=y.vkey),y.vname&&(Q.name=y.vname),fr(y.vtag,Q,...y.vchildren||[])}const M=On(y.vtag,y.vtext);return M.$attrs$=y.vattrs,M.$children$=y.vchildren,M.$key$=y.vkey,M.$name$=y.vname,M},Xr=(y,M,Q,Fe,ct,at,en)=>{let wt,zt,an,Fn;if(1===at.nodeType){if(wt=at.getAttribute("c-id"),wt&&(zt=wt.split("."),(zt[0]===en||"0"===zt[0])&&(an={$flags$:0,$hostId$:zt[0],$nodeId$:zt[1],$depth$:zt[2],$index$:zt[3],$tag$:at.tagName.toLowerCase(),$elm$:at,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},M.push(an),at.removeAttribute("c-id"),y.$children$||(y.$children$=[]),y.$children$[an.$index$]=an,y=an,Fe&&"0"===an.$depth$&&(Fe[an.$index$]=an.$elm$))),at.shadowRoot)for(Fn=at.shadowRoot.childNodes.length-1;Fn>=0;Fn--)Xr(y,M,Q,Fe,ct,at.shadowRoot.childNodes[Fn],en);for(Fn=at.childNodes.length-1;Fn>=0;Fn--)Xr(y,M,Q,Fe,ct,at.childNodes[Fn],en)}else if(8===at.nodeType)zt=at.nodeValue.split("."),(zt[1]===en||"0"===zt[1])&&(wt=zt[0],an={$flags$:0,$hostId$:zt[1],$nodeId$:zt[2],$depth$:zt[3],$index$:zt[4],$elm$:at,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wt?(an.$elm$=at.nextSibling,an.$elm$&&3===an.$elm$.nodeType&&(an.$text$=an.$elm$.textContent,M.push(an),at.remove(),y.$children$||(y.$children$=[]),y.$children$[an.$index$]=an,Fe&&"0"===an.$depth$&&(Fe[an.$index$]=an.$elm$))):an.$hostId$===en&&("s"===wt?(an.$tag$="slot",at["s-sn"]=zt[5]?an.$name$=zt[5]:"",at["s-sr"]=!0,Fe&&(an.$elm$=Ve.createElement(an.$tag$),an.$name$&&an.$elm$.setAttribute("name",an.$name$),at.parentNode.insertBefore(an.$elm$,at),at.remove(),"0"===an.$depth$&&(Fe[an.$index$]=an.$elm$)),Q.push(an),y.$children$||(y.$children$=[]),y.$children$[an.$index$]=an):"r"===wt&&(Fe?at.remove():(ct["s-cr"]=at,at["s-cn"]=!0))));else if(y&&"style"===y.$tag$){const Wn=On(null,at.textContent);Wn.$elm$=at,Wn.$index$="0",y.$children$=[Wn]}},Er=(y,M)=>{if(1===y.nodeType){let Q=0;if(y.shadowRoot)for(;Q<y.shadowRoot.childNodes.length;Q++)Er(y.shadowRoot.childNodes[Q],M);for(Q=0;Q<y.childNodes.length;Q++)Er(y.childNodes[Q],M)}else if(8===y.nodeType){const Q=y.nodeValue.split(".");"o"===Q[0]&&(M.set(Q[1]+"."+Q[2],y),y.nodeValue="",y["s-en"]=Q[3])}},Ln=y=>dt.push(y),si=y=>Le(y).$modeName$,Zr=y=>Le(y).$hostElement$,$n=(y,M,Q)=>{const Fe=Zr(y);return{emit:ct=>Rn(Fe,M,{bubbles:!!(4&Q),composed:!!(2&Q),cancelable:!!(1&Q),detail:ct})}},Rn=(y,M,Q)=>{const Fe=Qt.ce(M,Q);return y.dispatchEvent(Fe),Fe},Or=new WeakMap,Tt=(y,M,Q)=>{var Fe;const ct=kt(M,Q),at=st.get(ct);if(y=11===y.nodeType?y:Ve,at)if("string"==typeof at){let wt,en=Or.get(y=y.head||y);if(en||Or.set(y,en=new Set),!en.has(ct)){if(y.host&&(wt=y.querySelector(`[sty-id="${ct}"]`)))wt.innerHTML=at;else{wt=Ve.createElement("style"),wt.innerHTML=at;const zt=null!=(Fe=Qt.$nonce$)?Fe:Jn(Ve);null!=zt&&wt.setAttribute("nonce",zt),(!(1&M.$flags$)||1&M.$flags$&&"HEAD"!==y.nodeName)&&y.insertBefore(wt,y.querySelector("link"))}4&M.$flags$&&(wt.innerHTML+=vt),en&&en.add(ct)}}else y.adoptedStyleSheets.includes(at)||(y.adoptedStyleSheets=[...y.adoptedStyleSheets,at]);return ct},kt=(y,M)=>"sc-"+(M&&32&y.$flags$?y.$tagName$+"-"+M:y.$tagName$),rt=(y,M,Q,Fe,ct,at)=>{if(Q!==Fe){let en=fe(y,M),wt=M.toLowerCase();if("class"===M){const zt=y.classList,an=sn(Q),Fn=sn(Fe);zt.remove(...an.filter(Wn=>Wn&&!Fn.includes(Wn))),zt.add(...Fn.filter(Wn=>Wn&&!an.includes(Wn)))}else if("style"===M){for(const zt in Q)(!Fe||null==Fe[zt])&&(zt.includes("-")?y.style.removeProperty(zt):y.style[zt]="");for(const zt in Fe)(!Q||Fe[zt]!==Q[zt])&&(zt.includes("-")?y.style.setProperty(zt,Fe[zt]):y.style[zt]=Fe[zt])}else if("key"!==M)if("ref"===M)Fe&&Fe(y);else if(en||"o"!==M[0]||"n"!==M[1]){const zt=qn(Fe);if((en||zt&&null!==Fe)&&!ct)try{if(y.tagName.includes("-"))y[M]=Fe;else{const Fn=null==Fe?"":Fe;"list"===M?en=!1:(null==Q||y[M]!=Fn)&&(y[M]=Fn)}}catch{}let an=!1;wt!==(wt=wt.replace(/^xlink\:?/,""))&&(M=wt,an=!0),null==Fe||!1===Fe?(!1!==Fe||""===y.getAttribute(M))&&(an?y.removeAttributeNS(Dt,M):y.removeAttribute(M)):(!en||4&at||ct)&&!zt&&(Fe=!0===Fe?"":Fe,an?y.setAttributeNS(Dt,M,Fe):y.setAttribute(M,Fe))}else if(M="-"===M[2]?M.slice(3):fe(ze,wt)?wt.slice(2):wt[2]+M.slice(3),Q||Fe){const zt=M.endsWith(Z);M=M.replace(P,""),Q&&Qt.rel(y,M,Q,zt),Fe&&Qt.ael(y,M,Fe,zt)}}},ut=/\s/,sn=y=>y?y.split(ut):[],Z="Capture",P=new RegExp(Z+"$"),F=(y,M,Q)=>{const Fe=11===M.$elm$.nodeType&&M.$elm$.host?M.$elm$.host:M.$elm$,ct=y&&y.$attrs$||jt,at=M.$attrs$||jt;for(const en of ce(Object.keys(ct)))en in at||rt(Fe,en,ct[en],void 0,Q,M.$flags$);for(const en of ce(Object.keys(at)))rt(Fe,en,ct[en],at[en],Q,M.$flags$)};function ce(y){return y.includes("ref")?[...y.filter(M=>"ref"!==M),"ref"]:y}var ae,Qe,Et,Ut=!1,fn=!1,un=!1,vn=!1,ln=(y,M,Q,Fe)=>{var ct;const at=M.$children$[Q];let wt,zt,an,en=0;if(Ut||(un=!0,"slot"===at.$tag$&&(ae&&Fe.classList.add(ae+"-s"),at.$flags$|=at.$children$?2:1)),null!==at.$text$)wt=at.$elm$=Ve.createTextNode(at.$text$);else if(1&at.$flags$)wt=at.$elm$=Ve.createTextNode("");else{if(vn||(vn="svg"===at.$tag$),wt=at.$elm$=Ve.createElementNS(vn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ut&&2&at.$flags$?"slot-fb":at.$tag$),vn&&"foreignObject"===at.$tag$&&(vn=!1),F(null,at,vn),!!wt.getRootNode().querySelector("body")&&(y=>null!=y)(ae)&&wt["s-si"]!==ae&&wt.classList.add(wt["s-si"]=ae),Kt(wt,Fe),at.$children$)for(en=0;en<at.$children$.length;++en)zt=ln(y,at,en,wt),zt&&wt.appendChild(zt);"svg"===at.$tag$?vn=!1:"foreignObject"===wt.tagName&&(vn=!0)}return wt["s-hn"]=Et,3&at.$flags$&&(wt["s-sr"]=!0,wt["s-cr"]=Qe,wt["s-sn"]=at.$name$||"",wt["s-rf"]=null==(ct=at.$attrs$)?void 0:ct.ref,an=y&&y.$children$&&y.$children$[Q],an&&an.$tag$===at.$tag$&&y.$elm$&&dr(y.$elm$)),wt},dr=y=>{Qt.$flags$|=1;const M=y.closest(Et.toLowerCase());if(null!=M){const Q=Array.from(M.childNodes).find(ct=>ct["s-cr"]),Fe=Array.from(y.childNodes);for(const ct of Q?Fe.reverse():Fe)null!=ct["s-sh"]&&(xe(M,ct,null!=Q?Q:null),ct["s-sh"]=void 0,un=!0)}Qt.$flags$&=-2},Dr=(y,M)=>{Qt.$flags$|=1;const Q=Array.from(y.childNodes);if(y["s-sr"]){let Fe=y;for(;Fe=Fe.nextSibling;)Fe&&Fe["s-sn"]===y["s-sn"]&&Fe["s-sh"]===Et&&Q.push(Fe)}for(let Fe=Q.length-1;Fe>=0;Fe--){const ct=Q[Fe];ct["s-hn"]!==Et&&ct["s-ol"]&&(xe(Gi(ct),ct,Mi(ct)),ct["s-ol"].remove(),ct["s-ol"]=void 0,ct["s-sh"]=void 0,un=!0),M&&Dr(ct,M)}Qt.$flags$&=-2},Gn=(y,M,Q,Fe,ct,at)=>{let wt,en=y["s-cr"]&&y["s-cr"].parentNode||y;for(en.shadowRoot&&en.tagName===Et&&(en=en.shadowRoot);ct<=at;++ct)Fe[ct]&&(wt=ln(null,Q,ct,y),wt&&(Fe[ct].$elm$=wt,xe(en,wt,Mi(M))))},ni=(y,M,Q)=>{for(let Fe=M;Fe<=Q;++Fe){const ct=y[Fe];if(ct){const at=ct.$elm$;ee(ct),at&&(fn=!0,at["s-ol"]?at["s-ol"].remove():Dr(at,!0),at.remove())}}},Ci=(y,M,Q=!1)=>!(y.$tag$!==M.$tag$||("slot"===y.$tag$?"$nodeId$"in y&&Q&&8!==y.$elm$.nodeType||y.$name$!==M.$name$:!Q&&y.$key$!==M.$key$)),Mi=y=>y&&y["s-ol"]||y,Gi=y=>(y["s-ol"]?y["s-ol"]:y).parentNode,Sr=(y,M,Q=!1)=>{const Fe=M.$elm$=y.$elm$,ct=y.$children$,at=M.$children$,en=M.$tag$,wt=M.$text$;let zt;null===wt?(vn="svg"===en||"foreignObject"!==en&&vn,"slot"!==en||Ut?F(y,M,vn):y.$name$!==M.$name$&&(M.$elm$["s-sn"]=M.$name$||"",dr(M.$elm$.parentElement)),null!==ct&&null!==at?((y,M,Q,Fe,ct=!1)=>{let _i,wi,at=0,en=0,wt=0,zt=0,an=M.length-1,Fn=M[0],Wn=M[an],Yn=Fe.length-1,pr=Fe[0],Vr=Fe[Yn];for(;at<=an&&en<=Yn;)if(null==Fn)Fn=M[++at];else if(null==Wn)Wn=M[--an];else if(null==pr)pr=Fe[++en];else if(null==Vr)Vr=Fe[--Yn];else if(Ci(Fn,pr,ct))Sr(Fn,pr,ct),Fn=M[++at],pr=Fe[++en];else if(Ci(Wn,Vr,ct))Sr(Wn,Vr,ct),Wn=M[--an],Vr=Fe[--Yn];else if(Ci(Fn,Vr,ct))("slot"===Fn.$tag$||"slot"===Vr.$tag$)&&Dr(Fn.$elm$.parentNode,!1),Sr(Fn,Vr,ct),xe(y,Fn.$elm$,Wn.$elm$.nextSibling),Fn=M[++at],Vr=Fe[--Yn];else if(Ci(Wn,pr,ct))("slot"===Fn.$tag$||"slot"===Vr.$tag$)&&Dr(Wn.$elm$.parentNode,!1),Sr(Wn,pr,ct),xe(y,Wn.$elm$,Fn.$elm$),Wn=M[--an],pr=Fe[++en];else{for(wt=-1,zt=at;zt<=an;++zt)if(M[zt]&&null!==M[zt].$key$&&M[zt].$key$===pr.$key$){wt=zt;break}wt>=0?(wi=M[wt],wi.$tag$!==pr.$tag$?_i=ln(M&&M[en],Q,wt,y):(Sr(wi,pr,ct),M[wt]=void 0,_i=wi.$elm$),pr=Fe[++en]):(_i=ln(M&&M[en],Q,en,y),pr=Fe[++en]),_i&&xe(Gi(Fn.$elm$),_i,Mi(Fn.$elm$))}at>an?Gn(y,null==Fe[Yn+1]?null:Fe[Yn+1].$elm$,Q,Fe,en,Yn):en>Yn&&ni(M,at,an)})(Fe,ct,M,at,Q):null!==at?(null!==y.$text$&&(Fe.textContent=""),Gn(Fe,null,M,at,0,at.length-1)):!Q&&null!==ct&&ni(ct,0,ct.length-1),vn&&"svg"===en&&(vn=!1)):(zt=Fe["s-cr"])?zt.parentNode.textContent=wt:y.$text$!==wt&&(Fe.data=wt)},ie=y=>{const M=y.childNodes;for(const Q of M)if(1===Q.nodeType){if(Q["s-sr"]){const Fe=Q["s-sn"];Q.hidden=!1;for(const ct of M)if(ct!==Q)if(ct["s-hn"]!==Q["s-hn"]||""!==Fe){if(1===ct.nodeType&&(Fe===ct.getAttribute("slot")||Fe===ct["s-sn"])||3===ct.nodeType&&Fe===ct["s-sn"]){Q.hidden=!0;break}}else if(1===ct.nodeType||3===ct.nodeType&&""!==ct.textContent.trim()){Q.hidden=!0;break}}ie(Q)}},K=[],Ae=y=>{let M,Q,Fe;for(const ct of y.childNodes){if(ct["s-sr"]&&(M=ct["s-cr"])&&M.parentNode){Q=M.parentNode.childNodes;const at=ct["s-sn"];for(Fe=Q.length-1;Fe>=0;Fe--)if(M=Q[Fe],!(M["s-cn"]||M["s-nr"]||M["s-hn"]===ct["s-hn"]||M["s-sh"]&&M["s-sh"]===ct["s-hn"]))if(J(M,at)){let en=K.find(wt=>wt.$nodeToRelocate$===M);fn=!0,M["s-sn"]=M["s-sn"]||at,en?(en.$nodeToRelocate$["s-sh"]=ct["s-hn"],en.$slotRefNode$=ct):(M["s-sh"]=ct["s-hn"],K.push({$slotRefNode$:ct,$nodeToRelocate$:M})),M["s-sr"]&&K.map(wt=>{J(wt.$nodeToRelocate$,M["s-sn"])&&(en=K.find(zt=>zt.$nodeToRelocate$===M),en&&!wt.$slotRefNode$&&(wt.$slotRefNode$=en.$slotRefNode$))})}else K.some(en=>en.$nodeToRelocate$===M)||K.push({$nodeToRelocate$:M})}1===ct.nodeType&&Ae(ct)}},J=(y,M)=>1===y.nodeType?null===y.getAttribute("slot")&&""===M||y.getAttribute("slot")===M:y["s-sn"]===M||""===M,ee=y=>{y.$attrs$&&y.$attrs$.ref&&y.$attrs$.ref(null),y.$children$&&y.$children$.map(ee)},xe=(y,M,Q)=>{const Fe=null==y?void 0:y.insertBefore(M,Q);return Kt(M,y),Fe},It=y=>{const M=[];return y&&M.push(...y["s-scs"]||[],y["s-si"],y["s-sc"],...It(y.parentElement)),M},Kt=(y,M,Q=!1)=>{var Fe;if(y&&M&&1===y.nodeType){const ct=new Set(It(M).filter(Boolean));if(ct.size&&(null==(Fe=y.classList)||Fe.add(...y["s-scs"]=[...ct]),y["s-ol"]||Q))for(const at of Array.from(y.childNodes))Kt(at,y,!0)}},se=(y,M)=>{M&&!y.$onRenderResolve$&&M["s-p"]&&M["s-p"].push(new Promise(Q=>y.$onRenderResolve$=Q))},Ne=(y,M)=>{if(y.$flags$|=16,!(4&y.$flags$))return se(y,y.$ancestorComponent$),Rt(()=>ot(y,M));y.$flags$|=512},ot=(y,M)=>{const ct=y.$lazyInstance$;if(!ct)throw new Error(`Can't render component <${y.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let at;return M&&(y.$flags$|=256,y.$queuedListeners$&&(y.$queuedListeners$.map(([en,wt])=>xr(ct,en,wt)),y.$queuedListeners$=void 0),at=xr(ct,"componentWillLoad")),at=yt(at,()=>xr(ct,"componentWillRender")),yt(at,()=>dn(y,ct,M))},yt=(y,M)=>Nt(y)?y.then(M).catch(Q=>{console.error(Q),M()}):M(),Nt=y=>y instanceof Promise||y&&y.then&&"function"==typeof y.then,dn=function(){var y=(0,c.A)(function*(M,Q,Fe){var ct;const at=M.$hostElement$,wt=at["s-rc"];Fe&&(y=>{const M=y.$cmpMeta$,Q=y.$hostElement$,Fe=M.$flags$,at=Tt(Q.shadowRoot?Q.shadowRoot:Q.getRootNode(),M,y.$modeName$);10&Fe&&2&Fe&&(Q["s-sc"]=at,Q.classList.add(at+"-h"),2&Fe&&Q.classList.add(at+"-s"))})(M);Mn(M,Q,at,Fe),wt&&(wt.map(an=>an()),at["s-rc"]=void 0);{const an=null!=(ct=at["s-p"])?ct:[],Fn=()=>An(M);0===an.length?Fn():(Promise.all(an).then(Fn),M.$flags$|=4,an.length=0)}});return function(Q,Fe,ct){return y.apply(this,arguments)}}(),Mn=(y,M,Q,Fe)=>{try{M=M.render&&M.render(),y.$flags$&=-17,y.$flags$|=2,((y,M,Q=!1)=>{var Fe,ct,at,en,wt;const zt=y.$hostElement$,an=y.$cmpMeta$,Fn=y.$vnode$||On(null,null),Wn=(y=>y&&y.$tag$===Pn)(M)?M:fr(null,null,M);if(Et=zt.tagName,an.$attrsToReflect$&&(Wn.$attrs$=Wn.$attrs$||{},an.$attrsToReflect$.map(([Yn,pr])=>Wn.$attrs$[pr]=zt[Yn])),Q&&Wn.$attrs$)for(const Yn of Object.keys(Wn.$attrs$))zt.hasAttribute(Yn)&&!["key","ref","style","class"].includes(Yn)&&(Wn.$attrs$[Yn]=zt[Yn]);if(Wn.$tag$=null,Wn.$flags$|=4,y.$vnode$=Wn,Wn.$elm$=Fn.$elm$=zt.shadowRoot||zt,ae=zt["s-sc"],Ut=!!(1&an.$flags$),Qe=zt["s-cr"],fn=!1,Sr(Fn,Wn,Q),Qt.$flags$|=1,un){Ae(Wn.$elm$);for(const Yn of K){const pr=Yn.$nodeToRelocate$;if(!pr["s-ol"]){const Vr=Ve.createTextNode("");Vr["s-nr"]=pr,xe(pr.parentNode,pr["s-ol"]=Vr,pr)}}for(const Yn of K){const pr=Yn.$nodeToRelocate$,Vr=Yn.$slotRefNode$;if(Vr){const _i=Vr.parentNode;let wi=Vr.nextSibling;if(wi&&1===wi.nodeType){let hi=null==(Fe=pr["s-ol"])?void 0:Fe.previousSibling;for(;hi;){let Ei=null!=(ct=hi["s-nr"])?ct:null;if(Ei&&Ei["s-sn"]===pr["s-sn"]&&_i===Ei.parentNode){for(Ei=Ei.nextSibling;Ei===pr||null!=Ei&&Ei["s-sr"];)Ei=null==Ei?void 0:Ei.nextSibling;if(!Ei||!Ei["s-nr"]){wi=Ei;break}}hi=hi.previousSibling}}(!wi&&_i!==pr.parentNode||pr.nextSibling!==wi)&&pr!==wi&&(xe(_i,pr,wi),1===pr.nodeType&&(pr.hidden=null!=(at=pr["s-ih"])&&at)),pr&&"function"==typeof Vr["s-rf"]&&Vr["s-rf"](pr)}else 1===pr.nodeType&&(Q&&(pr["s-ih"]=null!=(en=pr.hidden)&&en),pr.hidden=!0)}}if(fn&&ie(Wn.$elm$),Qt.$flags$&=-2,K.length=0,2&an.$flags$)for(const Yn of Wn.$elm$.childNodes)Yn["s-hn"]!==Et&&!Yn["s-sh"]&&(Q&&null==Yn["s-ih"]&&(Yn["s-ih"]=null!=(wt=Yn.hidden)&&wt),Yn.hidden=!0);Qe=void 0})(y,M,Fe)}catch(ct){$e(ct,y.$hostElement$)}return null},An=y=>{const Q=y.$hostElement$,ct=y.$lazyInstance$,at=y.$ancestorComponent$;xr(ct,"componentDidRender"),64&y.$flags$?xr(ct,"componentDidUpdate"):(y.$flags$|=64,vi(Q),xr(ct,"componentDidLoad"),y.$onReadyResolve$(Q),at||sr()),y.$onInstanceResolve$(Q),y.$onRenderResolve$&&(y.$onRenderResolve$(),y.$onRenderResolve$=void 0),512&y.$flags$&&Ye(()=>Ne(y,!1)),y.$flags$&=-517},cr=y=>{{const M=Le(y),Q=M.$hostElement$.isConnected;return Q&&2==(18&M.$flags$)&&Ne(M,!1),Q}},sr=y=>{vi(Ve.documentElement),Ye(()=>Rn(ze,"appload",{detail:{namespace:"ionic"}}))},xr=(y,M,Q)=>{if(y&&y[M])try{return y[M](Q)}catch(Fe){$e(Fe)}},vi=y=>y.classList.add("hydrated"),ri=(y,M,Q)=>{var Fe,ct;const at=y.prototype;if(M.$members$||M.$watchers$||y.watchers){y.watchers&&!M.$watchers$&&(M.$watchers$=y.watchers);const en=Object.entries(null!=(Fe=M.$members$)?Fe:{});if(en.map(([wt,[zt]])=>{31&zt||2&Q&&32&zt?Object.defineProperty(at,wt,{get(){return((y,M)=>Le(this).$instanceValues$.get(M))(0,wt)},set(an){((y,M,Q,Fe)=>{const ct=Le(y);if(!ct)throw new Error(`Couldn't find host element for "${Fe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const at=ct.$hostElement$,en=ct.$instanceValues$.get(M),wt=ct.$flags$,zt=ct.$lazyInstance$;Q=((y,M)=>null==y||qn(y)?y:4&M?"false"!==y&&(""===y||!!y):2&M?parseFloat(y):1&M?String(y):y)(Q,Fe.$members$[M][0]);const an=Number.isNaN(en)&&Number.isNaN(Q);if((!(8&wt)||void 0===en)&&Q!==en&&!an&&(ct.$instanceValues$.set(M,Q),zt)){if(Fe.$watchers$&&128&wt){const Wn=Fe.$watchers$[M];Wn&&Wn.map(Yn=>{try{zt[Yn](Q,en,M)}catch(pr){$e(pr,at)}})}2==(18&wt)&&Ne(ct,!1)}})(this,wt,an,M)},configurable:!0,enumerable:!0}):1&Q&&64&zt&&Object.defineProperty(at,wt,{value(...an){var Fn;const Wn=Le(this);return null==(Fn=null==Wn?void 0:Wn.$onInstancePromise$)?void 0:Fn.then(()=>{var Yn;return null==(Yn=Wn.$lazyInstance$)?void 0:Yn[wt](...an)})}})}),1&Q){const wt=new Map;at.attributeChangedCallback=function(zt,an,Fn){Qt.jmp(()=>{var Wn;const Yn=wt.get(zt);if(this.hasOwnProperty(Yn))Fn=this[Yn],delete this[Yn];else{if(at.hasOwnProperty(Yn)&&"number"==typeof this[Yn]&&this[Yn]==Fn)return;if(null==Yn){const pr=Le(this),Vr=null==pr?void 0:pr.$flags$;if(Vr&&!(8&Vr)&&128&Vr&&Fn!==an){const _i=pr.$lazyInstance$,wi=null==(Wn=M.$watchers$)?void 0:Wn[zt];null==wi||wi.forEach(hi=>{null!=_i[hi]&&_i[hi].call(_i,Fn,an,zt)})}return}}this[Yn]=(null!==Fn||"boolean"!=typeof this[Yn])&&Fn})},y.observedAttributes=Array.from(new Set([...Object.keys(null!=(ct=M.$watchers$)?ct:{}),...en.filter(([zt,an])=>15&an[0]).map(([zt,an])=>{var Fn;const Wn=an[1]||zt;return wt.set(Wn,zt),512&an[0]&&(null==(Fn=M.$attrsToReflect$)||Fn.push([zt,Wn])),Wn})]))}}return y},li=function(){var y=(0,c.A)(function*(M,Q,Fe,ct){let at;if(!(32&Q.$flags$)){if(Q.$flags$|=32,Fe.$lazyBundleId$){const an=(y=>{const Fe=y.$tagName$.replace(/-/g,"_"),ct=y.$lazyBundleId$;if(!ct)return;const at=He.get(ct);return at?at[Fe]:O(8996)(`./${ct}.entry.js`).then(en=>(He.set(ct,en),en[Fe]),$e)})(Fe);if(an&&"then"in an){const Wn=()=>{};at=yield an,Wn()}else at=an;if(!at)throw new Error(`Constructor for "${Fe.$tagName$}#${Q.$modeName$}" was not found`);at.isProxied||(Fe.$watchers$=at.watchers,ri(at,Fe,2),at.isProxied=!0);const Fn=()=>{};Q.$flags$|=8;try{new at(Q)}catch(Wn){$e(Wn)}Q.$flags$&=-9,Q.$flags$|=128,Fn(),$r(Q.$lazyInstance$)}else at=M.constructor,customElements.whenDefined(M.localName).then(()=>Q.$flags$|=128);if(at&&at.style){let an;"string"==typeof at.style?an=at.style:"string"!=typeof at.style&&(Q.$modeName$=(y=>dt.map(M=>M(y)).find(M=>!!M))(M),Q.$modeName$&&(an=at.style[Q.$modeName$]));const Fn=kt(Fe,Q.$modeName$);if(!st.has(Fn)){const Wn=()=>{};((y,M,Q)=>{let Fe=st.get(y);Pe&&Q?(Fe=Fe||new CSSStyleSheet,"string"==typeof Fe?Fe=M:Fe.replaceSync(M)):Fe=M,st.set(y,Fe)})(Fn,an,!!(1&Fe.$flags$)),Wn()}}}const en=Q.$ancestorComponent$,wt=()=>Ne(Q,!0);en&&en["s-rc"]?en["s-rc"].push(wt):wt()});return function(Q,Fe,ct,at){return y.apply(this,arguments)}}(),$r=y=>{xr(y,"connectedCallback")},bi=y=>{const M=y["s-cr"]=Ve.createComment("");M["s-cn"]=!0,xe(y,M,y.firstChild)},Wr=y=>{xr(y,"disconnectedCallback")},Qr=function(){var y=(0,c.A)(function*(M){if(!(1&Qt.$flags$)){const Q=Le(M);Q.$rmListeners$&&(Q.$rmListeners$.map(Fe=>Fe()),Q.$rmListeners$=void 0),null!=Q&&Q.$lazyInstance$?Wr(Q.$lazyInstance$):null!=Q&&Q.$onReadyPromise$&&Q.$onReadyPromise$.then(()=>Wr(Q.$lazyInstance$))}});return function(Q){return y.apply(this,arguments)}}(),Tr=y=>{const M=y.cloneNode;y.cloneNode=function(Q){const Fe=this,ct=Fe.shadowRoot&&true,at=M.call(Fe,!!ct&&Q);if(!ct&&Q){let wt,zt,en=0;const an=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;en<Fe.childNodes.length;en++)wt=Fe.childNodes[en]["s-nr"],zt=an.every(Fn=>!Fe.childNodes[en][Fn]),wt&&(at.__appendChild?at.__appendChild(wt.cloneNode(!0)):at.appendChild(wt.cloneNode(!0))),zt&&at.appendChild(Fe.childNodes[en].cloneNode(!0))}return at}},Is=y=>{y.__appendChild=y.appendChild,y.appendChild=function(M){const Q=M["s-sn"]=ls(M),Fe=Cs(this.childNodes,Q,this.tagName);if(Fe){const ct=us(Fe,Q),at=ct[ct.length-1],en=xe(at.parentNode,M,at.nextSibling);return ie(this),en}return this.__appendChild(M)}},Jo=y=>{y.__removeChild=y.removeChild,y.removeChild=function(M){if(M&&typeof M["s-sn"]<"u"){const Q=Cs(this.childNodes,M["s-sn"],this.tagName);if(Q){const ct=us(Q,M["s-sn"]).find(at=>at===M);if(ct)return ct.remove(),void ie(this)}}return this.__removeChild(M)}},Vi=y=>{const M=y.prepend;y.prepend=function(...Q){Q.forEach(Fe=>{"string"==typeof Fe&&(Fe=this.ownerDocument.createTextNode(Fe));const ct=Fe["s-sn"]=ls(Fe),at=Cs(this.childNodes,ct,this.tagName);if(at){const en=document.createTextNode("");en["s-nr"]=Fe,at["s-cr"].parentNode.__appendChild(en),Fe["s-ol"]=en;const zt=us(at,ct)[0];return xe(zt.parentNode,Fe,zt.nextSibling)}return 1===Fe.nodeType&&Fe.getAttribute("slot")&&(Fe.hidden=!0),M.call(this,Fe)})}},xo=y=>{y.append=function(...M){M.forEach(Q=>{"string"==typeof Q&&(Q=this.ownerDocument.createTextNode(Q)),this.appendChild(Q)})}},No=y=>{const M=y.insertAdjacentHTML;y.insertAdjacentHTML=function(Q,Fe){if("afterbegin"!==Q&&"beforeend"!==Q)return M.call(this,Q,Fe);const ct=this.ownerDocument.createElement("_");let at;if(ct.innerHTML=Fe,"afterbegin"===Q)for(;at=ct.firstChild;)this.prepend(at);else if("beforeend"===Q)for(;at=ct.firstChild;)this.append(at)}},Es=y=>{y.insertAdjacentText=function(M,Q){this.insertAdjacentHTML(M,Q)}},Fr=y=>{const M=y.insertAdjacentElement;y.insertAdjacentElement=function(Q,Fe){return"afterbegin"!==Q&&"beforeend"!==Q?M.call(this,Q,Fe):"afterbegin"===Q?(this.prepend(Fe),Fe):("beforeend"===Q&&this.append(Fe),Fe)}},As=y=>{const M=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(y,"__textContent",M),Object.defineProperty(y,"textContent",{get(){return" "+Zi(this.childNodes).map(ct=>{var at,en;const wt=[];let zt=ct.nextSibling;for(;zt&&zt["s-sn"]===ct["s-sn"];)(3===zt.nodeType||1===zt.nodeType)&&wt.push(null!=(en=null==(at=zt.textContent)?void 0:at.trim())?en:""),zt=zt.nextSibling;return wt.filter(an=>""!==an).join(" ")}).filter(ct=>""!==ct).join(" ")+" "},set(Q){Zi(this.childNodes).forEach(ct=>{let at=ct.nextSibling;for(;at&&at["s-sn"]===ct["s-sn"];){const en=at;at=at.nextSibling,en.remove()}if(""===ct["s-sn"]){const en=this.ownerDocument.createTextNode(Q);en["s-sn"]="",xe(ct.parentElement,en,ct.nextSibling)}else ct.remove()})}})},Uo=(y,M)=>{class Q extends Array{item(ct){return this[ct]}}if(8&M.$flags$){const Fe=y.__lookupGetter__("childNodes");Object.defineProperty(y,"children",{get(){return this.childNodes.map(ct=>1===ct.nodeType)}}),Object.defineProperty(y,"childElementCount",{get:()=>y.children.length}),Object.defineProperty(y,"childNodes",{get(){const ct=Fe.call(this);if(!(1&Qt.$flags$)&&2&Le(this).$flags$){const at=new Q;for(let en=0;en<ct.length;en++){const wt=ct[en]["s-nr"];wt&&at.push(wt)}return at}return Q.from(ct)}})}},Zi=y=>{const M=[];for(const Q of Array.from(y))Q["s-sr"]&&M.push(Q),M.push(...Zi(Q.childNodes));return M},ls=y=>y["s-sn"]||1===y.nodeType&&y.getAttribute("slot")||"",Cs=(y,M,Q)=>{let ct,Fe=0;for(;Fe<y.length;Fe++)if(ct=y[Fe],ct["s-sr"]&&ct["s-sn"]===M&&ct["s-hn"]===Q||(ct=Cs(ct.childNodes,M,Q),ct))return ct;return null},us=(y,M)=>{const Q=[y];for(;(y=y.nextSibling)&&y["s-sn"]===M;)Q.push(y);return Q},wo=(y,M={})=>{var Q;const ct=[],at=M.exclude||[],en=ze.customElements,wt=Ve.head,zt=wt.querySelector("meta[charset]"),an=Ve.createElement("style"),Fn=[];let Wn,Yn=!0;Object.assign(Qt,M),Qt.$resourcesUrl$=new URL(M.resourcesUrl||"./",Ve.baseURI).href,Qt.$flags$|=2;let pr=!1;if(y.map(Vr=>{Vr[1].map(_i=>{var wi;const hi={$flags$:_i[0],$tagName$:_i[1],$members$:_i[2],$listeners$:_i[3]};4&hi.$flags$&&(pr=!0),hi.$members$=_i[2],hi.$listeners$=_i[3],hi.$attrsToReflect$=[],hi.$watchers$=null!=(wi=_i[4])?wi:{};const Ei=hi.$tagName$,$o=class extends HTMLElement{constructor(Do){if(super(Do),this.hasRegisteredEventListeners=!1,((y,M)=>{const Q={$flags$:0,$hostElement$:y,$cmpMeta$:M,$instanceValues$:new Map};Q.$onInstancePromise$=new Promise(Fe=>Q.$onInstanceResolve$=Fe),Q.$onReadyPromise$=new Promise(Fe=>Q.$onReadyResolve$=Fe),y["s-p"]=[],y["s-rc"]=[],ye.set(y,Q)})(Do=this,hi),1&hi.$flags$)if(Do.shadowRoot){if("open"!==Do.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${hi.$tagName$}! Mode is set to ${Do.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Do.attachShadow({mode:"open",delegatesFocus:!!(16&hi.$flags$)})}connectedCallback(){const Do=Le(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Fi(this,Do,hi.$listeners$)),Wn&&(clearTimeout(Wn),Wn=null),Yn?Fn.push(this):Qt.jmp(()=>(y=>{if(!(1&Qt.$flags$)){const M=Le(y),Q=M.$cmpMeta$,Fe=()=>{};if(1&M.$flags$)Fi(y,M,Q.$listeners$),null!=M&&M.$lazyInstance$?$r(M.$lazyInstance$):null!=M&&M.$onReadyPromise$&&M.$onReadyPromise$.then(()=>$r(M.$lazyInstance$));else{let ct;if(M.$flags$|=1,ct=y.getAttribute(tt),ct){if(1&Q.$flags$){const at=Tt(y.shadowRoot,Q,y.getAttribute("s-mode"));y.classList.remove(at+"-h",at+"-s")}((y,M,Q,Fe)=>{const at=y.shadowRoot,en=[],zt=at?[]:null,an=Fe.$vnode$=On(M,null);Qt.$orgLocNodes$||Er(Ve.body,Qt.$orgLocNodes$=new Map),y[tt]=Q,y.removeAttribute(tt),Xr(an,en,[],zt,y,y,Q),en.map(Fn=>{const Wn=Fn.$hostId$+"."+Fn.$nodeId$,Yn=Qt.$orgLocNodes$.get(Wn),pr=Fn.$elm$;Yn&&""===Yn["s-en"]&&Yn.parentNode.insertBefore(pr,Yn.nextSibling),at||(pr["s-hn"]=M,Yn&&(pr["s-ol"]=Yn,pr["s-ol"]["s-nr"]=pr)),Qt.$orgLocNodes$.delete(Wn)}),at&&zt.map(Fn=>{Fn&&at.appendChild(Fn)})})(y,Q.$tagName$,ct,M)}ct||12&Q.$flags$&&bi(y);{let at=y;for(;at=at.parentNode||at.host;)if(1===at.nodeType&&at.hasAttribute("s-id")&&at["s-p"]||at["s-p"]){se(M,M.$ancestorComponent$=at);break}}Q.$members$&&Object.entries(Q.$members$).map(([at,[en]])=>{if(31&en&&y.hasOwnProperty(at)){const wt=y[at];delete y[at],y[at]=wt}}),li(y,M,Q)}Fe()}})(this))}disconnectedCallback(){Qt.jmp(()=>Qr(this))}componentOnReady(){return Le(this).$onReadyPromise$}};2&hi.$flags$&&((y,M)=>{Tr(y),Is(y),xo(y),Vi(y),Fr(y),No(y),Es(y),As(y),Uo(y,M),Jo(y)})($o.prototype,hi),hi.$lazyBundleId$=Vr[0],!at.includes(Ei)&&!en.get(Ei)&&(ct.push(Ei),en.define(Ei,ri($o,hi,1)))})}),ct.length>0&&(pr&&(an.textContent+=vt),an.textContent+=ct.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",an.innerHTML.length)){an.setAttribute("data-styles","");const Vr=null!=(Q=Qt.$nonce$)?Q:Jn(Ve);null!=Vr&&an.setAttribute("nonce",Vr),wt.insertBefore(an,zt?zt.nextSibling:wt.firstChild)}Yn=!1,Fn.length?Fn.map(Vr=>Vr.connectedCallback()):Qt.jmp(()=>Wn=setTimeout(sr,30))},Fi=(y,M,Q,Fe)=>{Q&&Q.map(([ct,at,en])=>{const wt=x(y,ct),zt=Us(M,en),an=X(ct);Qt.ael(wt,at,zt,an),(M.$rmListeners$=M.$rmListeners$||[]).push(()=>Qt.rel(wt,at,zt,an))})},Us=(y,M)=>Q=>{var Fe;try{256&y.$flags$?null==(Fe=y.$lazyInstance$)||Fe[M](Q):(y.$queuedListeners$=y.$queuedListeners$||[]).push([M,Q])}catch(ct){$e(ct)}},x=(y,M)=>4&M?Ve:8&M?ze:16&M?Ve.body:y,X=y=>Nn?{passive:!!(1&y),capture:!!(2&y)}:!!(2&y)},8607:(bn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ge});var c=O(1970);const h=(He,Be,st,dt)=>{const lt=L(He)?{capture:!!dt.capture,passive:!!dt.passive}:!!dt.capture;let et,ft;return He.__zone_symbol__addEventListener?(et="__zone_symbol__addEventListener",ft="__zone_symbol__removeEventListener"):(et="addEventListener",ft="removeEventListener"),He[et](Be,st,lt),()=>{He[ft](Be,st,lt)}},L=He=>{if(void 0===Se)try{const Be=Object.defineProperty({},"passive",{get:()=>{Se=!0}});He.addEventListener("optsTest",()=>{},Be)}catch{Se=!1}return!!Se};let Se;const ye=He=>He instanceof Document?He:He.ownerDocument,Ge=He=>{let Be=!1,st=!1,dt=!0,lt=!1;const et=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},He),ft=et.canStart,Ke=et.onWillStart,tt=et.onStart,be=et.onEnd,ke=et.notCaptured,it=et.onMove,vt=et.threshold,Dt=et.passive,ze=et.blurOnStart,Ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},$t=((He,Be,st)=>{const dt=st*(Math.PI/180),lt="x"===He,et=Math.cos(dt),ft=Be*Be;let Ke=0,tt=0,be=!1,ke=0;return{start(it,vt){Ke=it,tt=vt,ke=0,be=!0},detect(it,vt){if(!be)return!1;const Dt=it-Ke,ze=vt-tt,Ve=Dt*Dt+ze*ze;if(Ve<ft)return!1;const $t=Math.sqrt(Ve),Qt=(lt?Dt:ze)/$t;return ke=Qt>et?1:Qt<-et?-1:0,be=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(et.direction,et.threshold,et.maxAngle),Qt=c.G.createGesture({name:He.gestureName,priority:He.gesturePriority,disableScroll:He.disableScroll}),Nn=()=>{Be&&(lt=!1,it&&it(Ve))},_t=()=>!!Qt.capture()&&(Be=!0,dt=!1,Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime,Ke?Ke(Ve).then(te):te(),!0),te=()=>{ze&&(()=>{if(typeof document<"u"){const Me=document.activeElement;null!=Me&&Me.blur&&Me.blur()}})(),tt&&tt(Ve),dt=!0},ne=()=>{Be=!1,st=!1,lt=!1,dt=!0,Qt.release()},de=Me=>{const Ye=Be,Xe=dt;if(ne(),Xe){if(Ce(Ve,Me),Ye)return void(be&&be(Ve));ke&&ke(Ve)}},me=((He,Be,st,dt,lt)=>{let et,ft,Ke,tt,be,ke,it,vt=0;const Dt=Pe=>{vt=Date.now()+2e3,Be(Pe)&&(!ft&&st&&(ft=h(He,"touchmove",st,lt)),Ke||(Ke=h(Pe.target,"touchend",Ve,lt)),tt||(tt=h(Pe.target,"touchcancel",Ve,lt)))},ze=Pe=>{vt>Date.now()||Be(Pe)&&(!ke&&st&&(ke=h(ye(He),"mousemove",st,lt)),it||(it=h(ye(He),"mouseup",$t,lt)))},Ve=Pe=>{Qt(),dt&&dt(Pe)},$t=Pe=>{En(),dt&&dt(Pe)},Qt=()=>{ft&&ft(),Ke&&Ke(),tt&&tt(),ft=Ke=tt=void 0},En=()=>{ke&&ke(),it&&it(),ke=it=void 0},Zt=()=>{Qt(),En()},Nn=(Pe=!0)=>{Pe?(et||(et=h(He,"touchstart",Dt,lt)),be||(be=h(He,"mousedown",ze,lt))):(et&&et(),be&&be(),et=be=void 0,Zt())};return{enable:Nn,stop:Zt,destroy:()=>{Nn(!1),dt=st=Be=void 0}}})(et.el,Me=>{const Ye=$e(Me);return!(st||!dt||(fe(Me,Ve),Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime=Ye,Ve.velocityX=Ve.velocityY=Ve.deltaX=Ve.deltaY=0,Ve.event=Me,ft&&!1===ft(Ve))||(Qt.release(),!Qt.start()))&&(st=!0,0===vt?_t():($t.start(Ve.startX,Ve.startY),!0))},Me=>{Be?!lt&&dt&&(lt=!0,Ce(Ve,Me),requestAnimationFrame(Nn)):(Ce(Ve,Me),$t.detect(Ve.currentX,Ve.currentY)&&(!$t.isGesture()||!_t())&&ve())},de,{capture:!1,passive:Dt}),ve=()=>{ne(),me.stop(),ke&&ke(Ve)};return{enable(Me=!0){Me||(Be&&de(void 0),ne()),me.enable(Me)},destroy(){Qt.destroy(),me.destroy()}}},Ce=(He,Be)=>{if(!Be)return;const st=He.currentX,dt=He.currentY,lt=He.currentTime;fe(Be,He);const et=He.currentX,ft=He.currentY,tt=(He.currentTime=$e(Be))-lt;if(tt>0&&tt<100){const ke=(ft-dt)/tt;He.velocityX=(et-st)/tt*.7+.3*He.velocityX,He.velocityY=.7*ke+.3*He.velocityY}He.deltaX=et-He.startX,He.deltaY=ft-He.startY,He.event=Be},fe=(He,Be)=>{let st=0,dt=0;if(He){const lt=He.changedTouches;if(lt&&lt.length>0){const et=lt[0];st=et.clientX,dt=et.clientY}else void 0!==He.pageX&&(st=He.pageX,dt=He.pageY)}Be.currentX=st,Be.currentY=dt},$e=He=>He.timeStamp||Date.now()},3604:(bn,ht,O)=>{"use strict";O.d(ht,{b:()=>Le,c:()=>Ge,d:()=>Ce,e:()=>Zt,g:()=>Pe,l:()=>Qt,s:()=>Nn,t:()=>et,w:()=>En});var c=O(467),h=O(9483),L=O(4261),Se=O(4929),le=O(4920);const Le="ionViewWillLeave",Ge="ionViewDidLeave",Ce="ionViewWillUnload",fe=te=>{te.tabIndex=-1,te.focus()},$e=te=>null!==te.offsetParent,Be="ion-last-focus",lt_saveViewFocus=de=>{if(h.c.get("focusManagerPriority",!1)){const ve=document.activeElement;null!==ve&&null!=de&&de.contains(ve)&&ve.setAttribute(Be,"true")}},lt_setViewFocus=de=>{const me=h.c.get("focusManagerPriority",!1);if(Array.isArray(me)&&!de.contains(document.activeElement)){const ve=de.querySelector(`[${Be}]`);if(ve&&$e(ve))return void fe(ve);for(const Me of me)switch(Me){case"content":const Ye=de.querySelector('main, [role="main"]');if(Ye&&$e(Ye))return void fe(Ye);break;case"heading":const Xe=de.querySelector('h1, [role="heading"][aria-level="1"]');if(Xe&&$e(Xe))return void fe(Xe);break;case"banner":const Rt=de.querySelector('header, [role="banner"]');if(Rt&&$e(Rt))return void fe(Rt);break;default:(0,Se.p)(`Unrecognized focus manager priority value ${Me}`)}fe(de)}},et=te=>new Promise((ne,de)=>{(0,L.w)(()=>{ft(te),Ke(te).then(me=>{me.animation&&me.animation.destroy(),tt(te),ne(me)},me=>{tt(te),de(me)})})}),ft=te=>{const ne=te.enteringEl,de=te.leavingEl;lt_saveViewFocus(de),_t(ne,de,te.direction),te.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Nn(ne,!1),ne.style.setProperty("pointer-events","none"),de&&(Nn(de,!1),de.style.setProperty("pointer-events","none"))},Ke=function(){var te=(0,c.A)(function*(ne){const de=yield be(ne);return de&&L.B.isBrowser?ke(de,ne):it(ne)});return function(de){return te.apply(this,arguments)}}(),tt=te=>{const ne=te.enteringEl,de=te.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events")),lt_setViewFocus(ne)},be=function(){var te=(0,c.A)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(O.bind(O,5022))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,3615))).mdTransitionAnimation:void 0});return function(de){return te.apply(this,arguments)}}(),ke=function(){var te=(0,c.A)(function*(ne,de){yield vt(de,!0);const me=ne(de.baseEl,de);Ve(de.enteringEl,de.leavingEl);const ve=yield ze(me,de);return de.progressCallback&&de.progressCallback(void 0),ve&&$t(de.enteringEl,de.leavingEl),{hasCompleted:ve,animation:me}});return function(de,me){return te.apply(this,arguments)}}(),it=function(){var te=(0,c.A)(function*(ne){const de=ne.enteringEl,me=ne.leavingEl,ve=h.c.get("focusManagerPriority",!1);return yield vt(ne,ve),Ve(de,me),$t(de,me),{hasCompleted:!0}});return function(de){return te.apply(this,arguments)}}(),vt=function(){var te=(0,c.A)(function*(ne,de){(void 0!==ne.deepWait?ne.deepWait:de)&&(yield Promise.all([Zt(ne.enteringEl),Zt(ne.leavingEl)])),yield Dt(ne.viewIsReady,ne.enteringEl)});return function(de,me){return te.apply(this,arguments)}}(),Dt=function(){var te=(0,c.A)(function*(ne,de){ne&&(yield ne(de))});return function(de,me){return te.apply(this,arguments)}}(),ze=(te,ne)=>{const de=ne.progressCallback,me=new Promise(ve=>{te.onFinish(Me=>ve(1===Me))});return de?(te.progressStart(!0),de(te)):te.play(),me},Ve=(te,ne)=>{Qt(ne,Le),Qt(te,"ionViewWillEnter")},$t=(te,ne)=>{Qt(te,"ionViewDidEnter"),Qt(ne,Ge)},Qt=(te,ne)=>{if(te){const de=new CustomEvent(ne,{bubbles:!1,cancelable:!1});te.dispatchEvent(de)}},En=()=>new Promise(te=>(0,le.r)(()=>(0,le.r)(()=>te()))),Zt=function(){var te=(0,c.A)(function*(ne){const de=ne;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(ve=>(0,le.r)(ve)));yield Promise.all(Array.from(de.children).map(Zt))}});return function(de){return te.apply(this,arguments)}}(),Nn=(te,ne)=>{ne?(te.setAttribute("aria-hidden","true"),te.classList.add("ion-page-hidden")):(te.hidden=!1,te.removeAttribute("aria-hidden"),te.classList.remove("ion-page-hidden"))},_t=(te,ne,de)=>{void 0!==te&&(te.style.zIndex="back"===de?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Pe=te=>te.classList.contains("ion-page")?te:te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||te},4929:(bn,ht,O)=>{"use strict";O.d(ht,{a:()=>h,b:()=>L,p:()=>c});const c=(Se,...le)=>console.warn(`[Ionic Warning]: ${Se}`,...le),h=(Se,...le)=>console.error(`[Ionic Error]: ${Se}`,...le),L=(Se,...le)=>console.error(`<${Se.tagName.toLowerCase()}> must be used inside ${le.join(" or ")}.`)},8476:(bn,ht,O)=>{"use strict";O.d(ht,{d:()=>h,w:()=>c});const c=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},9568:(bn,ht,O)=>{"use strict";O.d(ht,{m:()=>He});var c=O(467),h=O(8476),L=O(7192),Se=O(4929),le=O(4920),he=O(9483),ye=O(9986);const Le=Be=>(0,ye.c)().duration(Be?400:300),Ge=Be=>{let st,dt;const lt=Be.width+8,et=(0,ye.c)(),ft=(0,ye.c)();Be.isEndSide?(st=lt+"px",dt="0px"):(st=-lt+"px",dt="0px"),et.addElement(Be.menuInnerEl).fromTo("transform",`translateX(${st})`,`translateX(${dt})`);const tt="ios"===(0,he.b)(Be),be=tt?.2:.25;return ft.addElement(Be.backdropEl).fromTo("opacity",.01,be),Le(tt).addAnimation([et,ft])},Ce=Be=>{let st,dt;const lt=(0,he.b)(Be),et=Be.width;Be.isEndSide?(st=-et+"px",dt=et+"px"):(st=et+"px",dt=-et+"px");const ft=(0,ye.c)().addElement(Be.menuInnerEl).fromTo("transform",`translateX(${dt})`,"translateX(0px)"),Ke=(0,ye.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${st})`),tt=(0,ye.c)().addElement(Be.backdropEl).fromTo("opacity",.01,.32);return Le("ios"===lt).addAnimation([ft,Ke,tt])},fe=Be=>{const st=(0,he.b)(Be),dt=Be.width*(Be.isEndSide?-1:1)+"px",lt=(0,ye.c)().addElement(Be.contentEl).fromTo("transform","translateX(0px)",`translateX(${dt})`);return Le("ios"===st).addAnimation(lt)},He=(()=>{const Be=new Map,st=[],dt=function(){var ne=(0,c.A)(function*(de){const me=yield ke(de,!0);return!!me&&me.open()});return function(me){return ne.apply(this,arguments)}}(),lt=function(){var ne=(0,c.A)(function*(de){const me=yield void 0!==de?ke(de,!0):it();return void 0!==me&&me.close()});return function(me){return ne.apply(this,arguments)}}(),et=function(){var ne=(0,c.A)(function*(de){const me=yield ke(de,!0);return!!me&&me.toggle()});return function(me){return ne.apply(this,arguments)}}(),ft=function(){var ne=(0,c.A)(function*(de,me){const ve=yield ke(me);return ve&&(ve.disabled=!de),ve});return function(me,ve){return ne.apply(this,arguments)}}(),Ke=function(){var ne=(0,c.A)(function*(de,me){const ve=yield ke(me);return ve&&(ve.swipeGesture=de),ve});return function(me,ve){return ne.apply(this,arguments)}}(),tt=function(){var ne=(0,c.A)(function*(de){if(null!=de){const me=yield ke(de);return void 0!==me&&me.isOpen()}return void 0!==(yield it())});return function(me){return ne.apply(this,arguments)}}(),be=function(){var ne=(0,c.A)(function*(de){const me=yield ke(de);return!!me&&!me.disabled});return function(me){return ne.apply(this,arguments)}}(),ke=function(){var ne=(0,c.A)(function*(de,me=!1){if(yield te(),"start"===de||"end"===de){const Me=st.filter(Xe=>Xe.side===de&&!Xe.disabled);if(Me.length>=1)return Me.length>1&&me&&(0,Se.p)(`menuController queried for a menu on the "${de}" side, but ${Me.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Me.map(Xe=>Xe.el)),Me[0].el;const Ye=st.filter(Xe=>Xe.side===de);if(Ye.length>=1)return Ye.length>1&&me&&(0,Se.p)(`menuController queried for a menu on the "${de}" side, but ${Ye.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ye.map(Xe=>Xe.el)),Ye[0].el}else if(null!=de)return Pe(Me=>Me.menuId===de);return Pe(Me=>!Me.disabled)||(st.length>0?st[0].el:void 0)});return function(me){return ne.apply(this,arguments)}}(),it=function(){var ne=(0,c.A)(function*(){return yield te(),Zt()});return function(){return ne.apply(this,arguments)}}(),vt=function(){var ne=(0,c.A)(function*(){return yield te(),Nn()});return function(){return ne.apply(this,arguments)}}(),Dt=function(){var ne=(0,c.A)(function*(){return yield te(),_t()});return function(){return ne.apply(this,arguments)}}(),ze=(ne,de)=>{Be.set(ne,de)},Qt=function(){var ne=(0,c.A)(function*(de,me,ve){if(_t())return!1;if(me){const Me=yield it();Me&&de.el!==Me&&(yield Me.setOpen(!1,!1))}return de._setOpen(me,ve)});return function(me,ve,Me){return ne.apply(this,arguments)}}(),Zt=()=>Pe(ne=>ne._isOpen),Nn=()=>st.map(ne=>ne.el),_t=()=>st.some(ne=>ne.isAnimating),Pe=ne=>{const de=st.find(ne);if(void 0!==de)return de.el},te=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ne=>new Promise(de=>(0,le.c)(ne,de))));return ze("reveal",fe),ze("push",Ce),ze("overlay",Ge),null==h.d||h.d.addEventListener("ionBackButton",ne=>{const de=Zt();de&&ne.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>de.close())}),{registerAnimation:ze,get:ke,getMenus:vt,getOpen:it,isEnabled:be,swipeGesture:Ke,isAnimating:Dt,isOpen:tt,enable:ft,toggle:et,close:lt,open:dt,_getOpenSync:Zt,_createAnimation:(ne,de)=>{const me=Be.get(ne);if(!me)throw new Error("animation not registered");return me(de)},_register:ne=>{st.indexOf(ne)<0&&st.push(ne)},_unregister:ne=>{const de=st.indexOf(ne);de>-1&&st.splice(de,1)},_setOpen:Qt}})()},9483:(bn,ht,O)=>{"use strict";O.d(ht,{a:()=>fe,b:()=>Nn,c:()=>L,i:()=>_t});var c=O(4261);class h{constructor(){this.m=new Map}reset(te){this.m=new Map(Object.entries(te))}get(te,ne){const de=this.m.get(te);return void 0!==de?de:ne}getBoolean(te,ne=!1){const de=this.m.get(te);return void 0===de?ne:"string"==typeof de?"true"===de:!!de}getNumber(te,ne){const de=parseFloat(this.m.get(te));return isNaN(de)?void 0!==ne?ne:NaN:de}set(te,ne){this.m.set(te,ne)}}const L=new h,Ge="ionic-persist-config",fe=(Pe,te)=>("string"==typeof Pe&&(te=Pe,Pe=void 0),(Pe=>$e(Pe))(Pe).includes(te)),$e=(Pe=window)=>{if(typeof Pe>"u")return[];Pe.Ionic=Pe.Ionic||{};let te=Pe.Ionic.platforms;return null==te&&(te=Pe.Ionic.platforms=He(Pe),te.forEach(ne=>Pe.document.documentElement.classList.add(`plt-${ne}`))),te},He=Pe=>{const te=L.get("platform");return Object.keys(En).filter(ne=>{const de=null==te?void 0:te[ne];return"function"==typeof de?de(Pe):En[ne](Pe)})},st=Pe=>!!($t(Pe,/iPad/i)||$t(Pe,/Macintosh/i)&&be(Pe)),et=Pe=>$t(Pe,/android|sink/i),be=Pe=>Qt(Pe,"(any-pointer:coarse)"),it=Pe=>vt(Pe)||Dt(Pe),vt=Pe=>!!(Pe.cordova||Pe.phonegap||Pe.PhoneGap),Dt=Pe=>{const te=Pe.Capacitor;return!(null==te||!te.isNative)},$t=(Pe,te)=>te.test(Pe.navigator.userAgent),Qt=(Pe,te)=>{var ne;return null===(ne=Pe.matchMedia)||void 0===ne?void 0:ne.call(Pe,te).matches},En={ipad:st,iphone:Pe=>$t(Pe,/iPhone/i),ios:Pe=>$t(Pe,/iPhone|iPod/i)||st(Pe),android:et,phablet:Pe=>{const te=Pe.innerWidth,ne=Pe.innerHeight,de=Math.min(te,ne),me=Math.max(te,ne);return de>390&&de<520&&me>620&&me<800},tablet:Pe=>{const te=Pe.innerWidth,ne=Pe.innerHeight,de=Math.min(te,ne),me=Math.max(te,ne);return st(Pe)||(Pe=>et(Pe)&&!$t(Pe,/mobile/i))(Pe)||de>460&&de<820&&me>780&&me<1400},cordova:vt,capacitor:Dt,electron:Pe=>$t(Pe,/electron/i),pwa:Pe=>{var te;return!!(null!==(te=Pe.matchMedia)&&void 0!==te&&te.call(Pe,"(display-mode: standalone)").matches||Pe.navigator.standalone)},mobile:be,mobileweb:Pe=>be(Pe)&&!it(Pe),desktop:Pe=>!be(Pe),hybrid:it};let Zt;const Nn=Pe=>Pe&&(0,c.g)(Pe)||Zt,_t=(Pe={})=>{if(typeof window>"u")return;const te=window.document,ne=window,de=ne.Ionic=ne.Ionic||{},me={};Pe._ael&&(me.ael=Pe._ael),Pe._rel&&(me.rel=Pe._rel),Pe._ce&&(me.ce=Pe._ce),(0,c.a)(me);const ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Pe=>{try{const te=Pe.sessionStorage.getItem(Ge);return null!==te?JSON.parse(te):{}}catch{return{}}})(ne)),{persistConfig:!1}),de.config),(Pe=>{const te={};return Pe.location.search.slice(1).split("&").map(ne=>ne.split("=")).map(([ne,de])=>{try{return[decodeURIComponent(ne),decodeURIComponent(de)]}catch{return["",""]}}).filter(([ne])=>((Pe,te)=>Pe.substr(0,te.length)===te)(ne,"ionic:")).map(([ne,de])=>[ne.slice(6),de]).forEach(([ne,de])=>{te[ne]=de}),te})(ne)),Pe);L.reset(ve),L.getBoolean("persistConfig")&&((Pe,te)=>{try{Pe.sessionStorage.setItem(Ge,JSON.stringify(te))}catch{return}})(ne,ve),$e(ne),de.config=L,de.mode=Zt=L.get("mode",te.documentElement.getAttribute("mode")||(fe(ne,"ios")?"ios":"md")),L.set("mode",Zt),te.documentElement.setAttribute("mode",Zt),te.documentElement.classList.add(Zt),L.getBoolean("_testing")&&L.set("animated",!1);const Me=Xe=>{var Rt;return null===(Rt=Xe.tagName)||void 0===Rt?void 0:Rt.startsWith("ION-")},Ye=Xe=>["ios","md"].includes(Xe);(0,c.c)(Xe=>{for(;Xe;){const Rt=Xe.mode||Xe.getAttribute("mode");if(Rt){if(Ye(Rt))return Rt;Me(Xe)&&console.warn('Invalid ionic mode: "'+Rt+'", expected: "ios" or "md"')}Xe=Xe.parentElement}return Zt})}},5022:(bn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{iosTransitionAnimation:()=>Be,shadow:()=>Le});var c=O(9986),h=O(3604);O(8476),O(9483),O(4261);const ye=dt=>document.querySelector(`${dt}.ion-cloned-element`),Le=dt=>dt.shadowRoot||dt,Ge=dt=>{const lt="ION-TABS"===dt.tagName?dt:dt.querySelector("ion-tabs"),et="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=lt){const ft=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ft?ft.querySelector(et):null}return dt.querySelector(et)},Ce=(dt,lt)=>{const et="ION-TABS"===dt.tagName?dt:dt.querySelector("ion-tabs");let ft=[];if(null!=et){const Ke=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ke&&(ft=Ke.querySelectorAll("ion-buttons"))}else ft=dt.querySelectorAll("ion-buttons");for(const Ke of ft){const tt=Ke.closest("ion-header"),be=tt&&!tt.classList.contains("header-collapse-condense-inactive"),ke=Ke.querySelector("ion-back-button"),it=Ke.classList.contains("buttons-collapse");if(null!==ke&&("start"===Ke.slot||""===Ke.slot)&&(it&&be&&lt||!it))return ke}return null},$e=(dt,lt,et,ft,Ke,tt,be,ke,it)=>{var vt,Dt;const ze=lt?`calc(100% - ${Ke.right+4}px)`:Ke.left-4+"px",Ve=lt?"right":"left",$t=lt?"left":"right",Qt=lt?"right":"left";let En=1,Zt=1,Nn=`scale(${Zt})`;const _t="scale(1)";if(tt&&be){const Ft=(null===(vt=tt.textContent)||void 0===vt?void 0:vt.trim())===(null===(Dt=ke.textContent)||void 0===Dt?void 0:Dt.trim());En=it.width/be.width,Zt=(it.height-st)/be.height,Nn=Ft?`scale(${En}, ${Zt})`:`scale(${Zt})`}const te=Le(ft).querySelector("ion-icon").getBoundingClientRect(),ne=lt?te.width/2-(te.right-Ke.right)+"px":Ke.left-te.width/2+"px",de=lt?`-${window.innerWidth-Ke.right}px`:`${Ke.left}px`,me=`${it.top}px`,ve=`${Ke.top}px`,Xe=et?[{offset:0,transform:`translate3d(${de}, ${ve}, 0)`},{offset:1,transform:`translate3d(${ne}, ${me}, 0)`}]:[{offset:0,transform:`translate3d(${ne}, ${me}, 0)`},{offset:1,transform:`translate3d(${de}, ${ve}, 0)`}],jt=et?[{offset:0,opacity:1,transform:_t},{offset:1,opacity:0,transform:Nn}]:[{offset:0,opacity:0,transform:Nn},{offset:1,opacity:1,transform:_t}],tr=et?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],qn=(0,c.c)(),Jn=(0,c.c)(),nr=(0,c.c)(),rr=ye("ion-back-button"),tn=Le(rr).querySelector(".button-text"),Lt=Le(rr).querySelector("ion-icon");rr.text=ft.text,rr.mode=ft.mode,rr.icon=ft.icon,rr.color=ft.color,rr.disabled=ft.disabled,rr.style.setProperty("display","block"),rr.style.setProperty("position","fixed"),Jn.addElement(Lt),qn.addElement(tn),nr.addElement(rr),nr.beforeStyles({position:"absolute",top:"0px",[Qt]:"0px"}).beforeAddWrite(()=>{ft.style.setProperty("display","none"),rr.style.setProperty(Ve,ze)}).afterAddWrite(()=>{ft.style.setProperty("display",""),rr.style.setProperty("display","none"),rr.style.removeProperty(Ve)}).keyframes(Xe),qn.beforeStyles({"transform-origin":`${Ve} top`}).keyframes(jt),Jn.beforeStyles({"transform-origin":`${$t} center`}).keyframes(tr),dt.addAnimation([qn,Jn,nr])},He=(dt,lt,et,ft,Ke,tt,be,ke,it)=>{var vt,Dt;const ze=lt?"right":"left",Ve=lt?`calc(100% - ${Ke.right}px)`:`${Ke.left}px`,Qt=`${Ke.top}px`;let Zt=lt?`-${window.innerWidth-be.right-8}px`:`${be.x+8}px`,Nn=.5;const _t="scale(1)";let Pe=`scale(${Nn})`;if(ke&&it){Zt=lt?`-${window.innerWidth-it.right-8}px`:it.x-8+"px";const Rt=(null===(vt=ke.textContent)||void 0===vt?void 0:vt.trim())===(null===(Dt=ft.textContent)||void 0===Dt?void 0:Dt.trim());Nn=it.height/(tt.height-st),Pe=Rt?`scale(${it.width/tt.width}, ${Nn})`:`scale(${Nn})`}const de=be.top+be.height/2-Ke.height*Nn/2+"px",Me=et?[{offset:0,opacity:0,transform:`translate3d(${Zt}, ${de}, 0) ${Pe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Qt}, 0) ${_t}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Qt}, 0) ${_t}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Zt}, ${de}, 0) ${Pe}`}],Ye=ye("ion-title"),Xe=(0,c.c)();Ye.innerText=ft.innerText,Ye.size=ft.size,Ye.color=ft.color,Xe.addElement(Ye),Xe.beforeStyles({"transform-origin":`${ze} top`,height:`${Ke.height}px`,display:"",position:"relative",[ze]:Ve}).beforeAddWrite(()=>{ft.style.setProperty("opacity","0")}).afterAddWrite(()=>{ft.style.setProperty("opacity",""),Ye.style.setProperty("display","none")}).keyframes(Me),dt.addAnimation(Xe)},Be=(dt,lt)=>{var et;try{const ft="cubic-bezier(0.32,0.72,0,1)",Ke="opacity",tt="transform",be="0%",it="rtl"===dt.ownerDocument.dir,vt=it?"-99.5%":"99.5%",Dt=it?"33%":"-33%",ze=lt.enteringEl,Ve=lt.leavingEl,$t="back"===lt.direction,Qt=ze.querySelector(":scope > ion-content"),En=ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Zt=ze.querySelectorAll(":scope > ion-header > ion-toolbar"),Nn=(0,c.c)(),_t=(0,c.c)();if(Nn.addElement(ze).duration((null!==(et=lt.duration)&&void 0!==et?et:0)||540).easing(lt.easing||ft).fill("both").beforeRemoveClass("ion-page-invisible"),Ve&&null!=dt){const de=(0,c.c)();de.addElement(dt),Nn.addAnimation(de)}if(Qt||0!==Zt.length||0!==En.length?(_t.addElement(Qt),_t.addElement(En)):_t.addElement(ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Nn.addAnimation(_t),$t?_t.beforeClearStyles([Ke]).fromTo("transform",`translateX(${Dt})`,`translateX(${be})`).fromTo(Ke,.8,1):_t.beforeClearStyles([Ke]).fromTo("transform",`translateX(${vt})`,`translateX(${be})`),Qt){const de=Le(Qt).querySelector(".transition-effect");if(de){const me=de.querySelector(".transition-cover"),ve=de.querySelector(".transition-shadow"),Me=(0,c.c)(),Ye=(0,c.c)(),Xe=(0,c.c)();Me.addElement(de).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ye.addElement(me).beforeClearStyles([Ke]).fromTo(Ke,0,.1),Xe.addElement(ve).beforeClearStyles([Ke]).fromTo(Ke,.03,.7),Me.addAnimation([Ye,Xe]),_t.addAnimation([Me])}}const Pe=ze.querySelector("ion-header.header-collapse-condense"),{forward:te,backward:ne}=((dt,lt,et,ft,Ke)=>{const tt=Ce(ft,et),be=Ge(Ke),ke=Ge(ft),it=Ce(Ke,et),vt=null!==tt&&null!==be&&!et,Dt=null!==ke&&null!==it&&et;if(vt){const ze=be.getBoundingClientRect(),Ve=tt.getBoundingClientRect(),$t=Le(tt).querySelector(".button-text"),Qt=null==$t?void 0:$t.getBoundingClientRect(),Zt=Le(be).querySelector(".toolbar-title").getBoundingClientRect();He(dt,lt,et,be,ze,Zt,Ve,$t,Qt),$e(dt,lt,et,tt,Ve,$t,Qt,be,Zt)}else if(Dt){const ze=ke.getBoundingClientRect(),Ve=it.getBoundingClientRect(),$t=Le(it).querySelector(".button-text"),Qt=null==$t?void 0:$t.getBoundingClientRect(),Zt=Le(ke).querySelector(".toolbar-title").getBoundingClientRect();He(dt,lt,et,ke,ze,Zt,Ve,$t,Qt),$e(dt,lt,et,it,Ve,$t,Qt,ke,Zt)}return{forward:vt,backward:Dt}})(Nn,it,$t,ze,Ve);if(Zt.forEach(de=>{const me=(0,c.c)();me.addElement(de),Nn.addAnimation(me);const ve=(0,c.c)();ve.addElement(de.querySelector("ion-title"));const Me=(0,c.c)(),Ye=Array.from(de.querySelectorAll("ion-buttons,[menuToggle]")),Xe=de.closest("ion-header"),Rt=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive");let we;we=Ye.filter($t?qn=>{const Jn=qn.classList.contains("buttons-collapse");return Jn&&!Rt||!Jn}:qn=>!qn.classList.contains("buttons-collapse")),Me.addElement(we);const jt=(0,c.c)();jt.addElement(de.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const In=(0,c.c)();In.addElement(Le(de).querySelector(".toolbar-background"));const Vn=(0,c.c)(),tr=de.querySelector("ion-back-button");if(tr&&Vn.addElement(tr),me.addAnimation([ve,Me,jt,In,Vn]),Me.fromTo(Ke,.01,1),jt.fromTo(Ke,.01,1),$t)Rt||ve.fromTo("transform",`translateX(${Dt})`,`translateX(${be})`).fromTo(Ke,.01,1),jt.fromTo("transform",`translateX(${Dt})`,`translateX(${be})`),Vn.fromTo(Ke,.01,1);else if(Pe||ve.fromTo("transform",`translateX(${vt})`,`translateX(${be})`).fromTo(Ke,.01,1),jt.fromTo("transform",`translateX(${vt})`,`translateX(${be})`),In.beforeClearStyles([Ke,"transform"]),(null==Xe?void 0:Xe.translucent)?In.fromTo("transform",it?"translateX(-100%)":"translateX(100%)","translateX(0px)"):In.fromTo(Ke,.01,"var(--opacity)"),te||Vn.fromTo(Ke,.01,1),tr&&!te){const Jn=(0,c.c)();Jn.addElement(Le(tr).querySelector(".button-text")).fromTo("transform",it?"translateX(-100px)":"translateX(100px)","translateX(0px)"),me.addAnimation(Jn)}}),Ve){const de=(0,c.c)(),me=Ve.querySelector(":scope > ion-content"),ve=Ve.querySelectorAll(":scope > ion-header > ion-toolbar"),Me=Ve.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(me||0!==ve.length||0!==Me.length?(de.addElement(me),de.addElement(Me)):de.addElement(Ve.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Nn.addAnimation(de),$t){de.beforeClearStyles([Ke]).fromTo("transform",`translateX(${be})`,it?"translateX(-100%)":"translateX(100%)");const Ye=(0,h.g)(Ve);Nn.afterAddWrite(()=>{"normal"===Nn.getDirection()&&Ye.style.setProperty("display","none")})}else de.fromTo("transform",`translateX(${be})`,`translateX(${Dt})`).fromTo(Ke,1,.8);if(me){const Ye=Le(me).querySelector(".transition-effect");if(Ye){const Xe=Ye.querySelector(".transition-cover"),Rt=Ye.querySelector(".transition-shadow"),we=(0,c.c)(),jt=(0,c.c)(),In=(0,c.c)();we.addElement(Ye).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),jt.addElement(Xe).beforeClearStyles([Ke]).fromTo(Ke,.1,0),In.addElement(Rt).beforeClearStyles([Ke]).fromTo(Ke,.7,.03),we.addAnimation([jt,In]),de.addAnimation([we])}}ve.forEach(Ye=>{const Xe=(0,c.c)();Xe.addElement(Ye);const Rt=(0,c.c)();Rt.addElement(Ye.querySelector("ion-title"));const we=(0,c.c)(),jt=Ye.querySelectorAll("ion-buttons,[menuToggle]"),In=Ye.closest("ion-header"),Vn=null==In?void 0:In.classList.contains("header-collapse-condense-inactive"),tr=Array.from(jt).filter(Lt=>{const Ft=Lt.classList.contains("buttons-collapse");return Ft&&!Vn||!Ft});we.addElement(tr);const qn=(0,c.c)(),Jn=Ye.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Jn.length>0&&qn.addElement(Jn);const nr=(0,c.c)();nr.addElement(Le(Ye).querySelector(".toolbar-background"));const rr=(0,c.c)(),tn=Ye.querySelector("ion-back-button");if(tn&&rr.addElement(tn),Xe.addAnimation([Rt,we,qn,rr,nr]),Nn.addAnimation(Xe),rr.fromTo(Ke,.99,0),we.fromTo(Ke,.99,0),qn.fromTo(Ke,.99,0),$t){if(Vn||Rt.fromTo("transform",`translateX(${be})`,it?"translateX(-100%)":"translateX(100%)").fromTo(Ke,.99,0),qn.fromTo("transform",`translateX(${be})`,it?"translateX(-100%)":"translateX(100%)"),nr.beforeClearStyles([Ke,"transform"]),(null==In?void 0:In.translucent)?nr.fromTo("transform","translateX(0px)",it?"translateX(-100%)":"translateX(100%)"):nr.fromTo(Ke,"var(--opacity)",0),tn&&!ne){const Ft=(0,c.c)();Ft.addElement(Le(tn).querySelector(".button-text")).fromTo("transform",`translateX(${be})`,`translateX(${(it?-124:124)+"px"})`),Xe.addAnimation(Ft)}}else Vn||Rt.fromTo("transform",`translateX(${be})`,`translateX(${Dt})`).fromTo(Ke,.99,0).afterClearStyles([tt,Ke]),qn.fromTo("transform",`translateX(${be})`,`translateX(${Dt})`).afterClearStyles([tt,Ke]),rr.afterClearStyles([Ke]),Rt.afterClearStyles([Ke]),we.afterClearStyles([Ke])})}return Nn}catch(ft){throw ft}},st=10},3615:(bn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{mdTransitionAnimation:()=>he});var c=O(9986),h=O(3604);O(8476),O(9483),O(4261);const he=(ye,Le)=>{var Ge,Ce,fe;const Be="back"===Le.direction,dt=Le.leavingEl,lt=(0,h.g)(Le.enteringEl),et=lt.querySelector("ion-toolbar"),ft=(0,c.c)();if(ft.addElement(lt).fill("both").beforeRemoveClass("ion-page-invisible"),Be?ft.duration((null!==(Ge=Le.duration)&&void 0!==Ge?Ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ft.duration((null!==(Ce=Le.duration)&&void 0!==Ce?Ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),et){const Ke=(0,c.c)();Ke.addElement(et),ft.addAnimation(Ke)}if(dt&&Be){ft.duration((null!==(fe=Le.duration)&&void 0!==fe?fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ke=(0,c.c)();Ke.addElement((0,h.g)(dt)).onFinish(tt=>{1===tt&&Ke.elements.length>0&&Ke.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ft.addAnimation(Ke)}return ft}},9440:(bn,ht,O)=>{"use strict";O.d(ht,{B:()=>jt,F:()=>rr,G:()=>In,O:()=>Vn,a:()=>lt,b:()=>et,c:()=>be,d:()=>tr,e:()=>qn,f:()=>te,g:()=>de,h:()=>Me,i:()=>Xe,j:()=>it,k:()=>vt,l:()=>ft,m:()=>Ke,n:()=>Ce,o:()=>_t,q:()=>fe,s:()=>we,t:()=>ke});var c=O(467),h=O(8476),L=O(4920),Se=O(7192),le=O(9483),he=O(8621),ye=O(1970),Le=O(4929);const Ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ce=(tn,Lt)=>{const Ft=tn.querySelector(Ge);$e(Ft,null!=Lt?Lt:tn)},fe=(tn,Lt)=>{const Ft=Array.from(tn.querySelectorAll(Ge));$e(Ft.length>0?Ft[Ft.length-1]:null,null!=Lt?Lt:tn)},$e=(tn,Lt)=>{let Ft=tn;const on=null==tn?void 0:tn.shadowRoot;on&&(Ft=on.querySelector(Ge)||tn),Ft?(0,L.f)(Ft):Lt.focus()};let He=0,Be=0;const st=new WeakMap,dt=tn=>({create:Lt=>Dt(tn,Lt),dismiss:(Lt,Ft,on)=>En(document,Lt,Ft,tn,on),getTop:()=>(0,c.A)(function*(){return _t(document,tn)})()}),lt=dt("ion-alert"),et=dt("ion-action-sheet"),ft=dt("ion-loading"),Ke=dt("ion-modal"),be=dt("ion-popover"),ke=dt("ion-toast"),it=tn=>{typeof document<"u"&&Qt(document);const Lt=He++;tn.overlayIndex=Lt},vt=tn=>(tn.hasAttribute("id")||(tn.id="ion-overlay-"+ ++Be),tn.id),Dt=(tn,Lt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(tn).then(()=>{const Ft=document.createElement(tn);return Ft.classList.add("overlay-hidden"),Object.assign(Ft,Object.assign(Object.assign({},Lt),{hasController:!0})),me(document).appendChild(Ft),new Promise(on=>(0,L.c)(Ft,on))}):Promise.resolve(),Ve=(tn,Lt)=>{let Ft=tn;const on=null==tn?void 0:tn.shadowRoot;on&&(Ft=on.querySelector(Ge)||tn),Ft?(0,L.f)(Ft):Lt.focus()},Qt=tn=>{0===He&&(He=1,tn.addEventListener("focus",Lt=>{((tn,Lt)=>{const Ft=_t(Lt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),on=tn.target;Ft&&on&&!Ft.classList.contains(rr)&&(Ft.shadowRoot?(()=>{if(Ft.contains(on))Ft.lastFocus=on;else if("ION-TOAST"===on.tagName)Ve(Ft.lastFocus,Ft);else{const fr=Ft.lastFocus;Ce(Ft),fr===Lt.activeElement&&fe(Ft),Ft.lastFocus=Lt.activeElement}})():(()=>{if(Ft===on)Ft.lastFocus=void 0;else if("ION-TOAST"===on.tagName)Ve(Ft.lastFocus,Ft);else{const fr=(0,L.g)(Ft);if(!fr.contains(on))return;const On=fr.querySelector(".ion-overlay-wrapper");if(!On)return;if(On.contains(on)||on===fr.querySelector("ion-backdrop"))Ft.lastFocus=on;else{const Pn=Ft.lastFocus;Ce(On,Ft),Pn===Lt.activeElement&&fe(On,Ft),Ft.lastFocus=Lt.activeElement}}})())})(Lt,tn)},!0),tn.addEventListener("ionBackButton",Lt=>{const Ft=_t(tn);null!=Ft&&Ft.backdropDismiss&&Lt.detail.register(Se.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ft.dismiss(void 0,jt)})}),(0,Se.shouldUseCloseWatcher)()||tn.addEventListener("keydown",Lt=>{if("Escape"===Lt.key){const Ft=_t(tn);null!=Ft&&Ft.backdropDismiss&&Ft.dismiss(void 0,jt)}}))},En=(tn,Lt,Ft,on,Ot)=>{const yr=_t(tn,on,Ot);return yr?yr.dismiss(Lt,Ft):Promise.reject("overlay does not exist")},Nn=(tn,Lt)=>((tn,Lt)=>(void 0===Lt&&(Lt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(tn.querySelectorAll(Lt)).filter(Ft=>Ft.overlayIndex>0)))(tn,Lt).filter(Ft=>!(tn=>tn.classList.contains("overlay-hidden"))(Ft)),_t=(tn,Lt,Ft)=>{const on=Nn(tn,Lt);return void 0===Ft?on[on.length-1]:on.find(Ot=>Ot.id===Ft)},Pe=(tn=!1)=>{const Ft=me(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ft&&(tn?Ft.setAttribute("aria-hidden","true"):Ft.removeAttribute("aria-hidden"))},te=function(){var tn=(0,c.A)(function*(Lt,Ft,on,Ot,yr){var fr,On;if(Lt.presented)return;Pe(!0),document.body.classList.add(ye.B),Jn(Lt.el),Lt.presented=!0,Lt.willPresent.emit(),null===(fr=Lt.willPresentShorthand)||void 0===fr||fr.emit();const Pn=(0,le.b)(Lt),ur=Lt.enterAnimation?Lt.enterAnimation:le.c.get(Ft,"ios"===Pn?on:Ot);(yield ve(Lt,ur,Lt.el,yr))&&(Lt.didPresent.emit(),null===(On=Lt.didPresentShorthand)||void 0===On||On.emit()),"ION-TOAST"!==Lt.el.tagName&&ne(Lt.el),Lt.keyboardClose&&(null===document.activeElement||!Lt.el.contains(document.activeElement))&&Lt.el.focus(),Lt.el.removeAttribute("aria-hidden")});return function(Ft,on,Ot,yr,fr){return tn.apply(this,arguments)}}(),ne=function(){var tn=(0,c.A)(function*(Lt){let Ft=document.activeElement;if(!Ft)return;const on=null==Ft?void 0:Ft.shadowRoot;on&&(Ft=on.querySelector(Ge)||Ft),yield Lt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ft.focus()});return function(Ft){return tn.apply(this,arguments)}}(),de=function(){var tn=(0,c.A)(function*(Lt,Ft,on,Ot,yr,fr,On){var Pn,ur;if(!Lt.presented)return!1;void 0!==h.d&&1===Nn(h.d).length&&(Pe(!1),document.body.classList.remove(ye.B)),Lt.presented=!1;try{Lt.el.style.setProperty("pointer-events","none"),Lt.willDismiss.emit({data:Ft,role:on}),null===(Pn=Lt.willDismissShorthand)||void 0===Pn||Pn.emit({data:Ft,role:on});const Qn=(0,le.b)(Lt),Kn=Lt.leaveAnimation?Lt.leaveAnimation:le.c.get(Ot,"ios"===Qn?yr:fr);on!==In&&(yield ve(Lt,Kn,Lt.el,On)),Lt.didDismiss.emit({data:Ft,role:on}),null===(ur=Lt.didDismissShorthand)||void 0===ur||ur.emit({data:Ft,role:on}),(st.get(Lt)||[]).forEach(Xr=>Xr.destroy()),st.delete(Lt),Lt.el.classList.add("overlay-hidden"),Lt.el.style.removeProperty("pointer-events"),void 0!==Lt.el.lastFocus&&(Lt.el.lastFocus=void 0)}catch(Qn){console.error(Qn)}return Lt.el.remove(),nr(),!0});return function(Ft,on,Ot,yr,fr,On,Pn){return tn.apply(this,arguments)}}(),me=tn=>tn.querySelector("ion-app")||tn.body,ve=function(){var tn=(0,c.A)(function*(Lt,Ft,on,Ot){on.classList.remove("overlay-hidden");const fr=Ft(Lt.el,Ot);(!Lt.animated||!le.c.getBoolean("animated",!0))&&fr.duration(0),Lt.keyboardClose&&fr.beforeAddWrite(()=>{const Pn=on.ownerDocument.activeElement;null!=Pn&&Pn.matches("input,ion-input, ion-textarea")&&Pn.blur()});const On=st.get(Lt)||[];return st.set(Lt,[...On,fr]),yield fr.play(),!0});return function(Ft,on,Ot,yr){return tn.apply(this,arguments)}}(),Me=(tn,Lt)=>{let Ft;const on=new Promise(Ot=>Ft=Ot);return Ye(tn,Lt,Ot=>{Ft(Ot.detail)}),on},Ye=(tn,Lt,Ft)=>{const on=Ot=>{(0,L.b)(tn,Lt,on),Ft(Ot)};(0,L.a)(tn,Lt,on)},Xe=tn=>"cancel"===tn||tn===jt,Rt=tn=>tn(),we=(tn,Lt)=>{if("function"==typeof tn)return le.c.get("_zoneGate",Rt)(()=>{try{return tn(Lt)}catch(on){throw on}})},jt="backdrop",In="gesture",Vn=39,tr=tn=>{let Ft,Lt=!1;const on=(0,he.C)(),Ot=(On=!1)=>{if(Ft&&!On)return{delegate:Ft,inline:Lt};const{el:Pn,hasController:ur,delegate:Ir}=tn;return Lt=null!==Pn.parentNode&&!ur,Ft=Lt?Ir||on:Ir,{inline:Lt,delegate:Ft}};return{attachViewToDom:function(){var On=(0,c.A)(function*(Pn){const{delegate:ur}=Ot(!0);if(ur)return yield ur.attachViewToDom(tn.el,Pn);const{hasController:Ir}=tn;if(Ir&&void 0!==Pn)throw new Error("framework delegate is missing");return null});return function(ur){return On.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:On}=Ot();On&&void 0!==tn.el&&On.removeViewFromDom(tn.el.parentElement,tn.el)}}},qn=()=>{let tn;const Lt=()=>{tn&&(tn(),tn=void 0)};return{addClickListener:(on,Ot)=>{Lt();const yr=void 0!==Ot?document.getElementById(Ot):null;yr?tn=((On,Pn)=>{const ur=()=>{Pn.present()};return On.addEventListener("click",ur),()=>{On.removeEventListener("click",ur)}})(yr,on):(0,Le.p)(`A trigger element with the ID "${Ot}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,on)},removeClickListener:Lt}},Jn=tn=>{var Lt;if(void 0===h.d)return;const Ft=Nn(h.d);for(let on=Ft.length-1;on>=0;on--){const Ot=Ft[on],yr=null!==(Lt=Ft[on+1])&&void 0!==Lt?Lt:tn;(yr.hasAttribute("aria-hidden")||"ION-TOAST"!==yr.tagName)&&Ot.setAttribute("aria-hidden","true")}},nr=()=>{if(void 0===h.d)return;const tn=Nn(h.d);for(let Lt=tn.length-1;Lt>=0;Lt--){const Ft=tn[Lt];if(Ft.removeAttribute("aria-hidden"),"ION-TOAST"!==Ft.tagName)break}},rr="ion-disable-focus-trap"},1288:(bn,ht,O)=>{"use strict";O.d(ht,{H:()=>et,b:()=>yr,c:()=>be,f:()=>tr,g:()=>tt,h:()=>dt,p:()=>Or,r:()=>mr});var c=O(467);let L,Se,le=!1,he=!1;const Ce={},Be=P=>"object"==(P=typeof P)||"function"===P;function st(P){var F,ce,ae;return null!==(ae=null===(ce=null===(F=P.head)||void 0===F?void 0:F.querySelector('meta[name="csp-nonce"]'))||void 0===ce?void 0:ce.getAttribute("content"))&&void 0!==ae?ae:void 0}const dt=(P,F,...ce)=>{let ae=null,Qe=!1,Et=!1;const Ut=[],fn=vn=>{for(let ln=0;ln<vn.length;ln++)ae=vn[ln],Array.isArray(ae)?fn(ae):null!=ae&&"boolean"!=typeof ae&&((Qe="function"!=typeof P&&!Be(ae))&&(ae=String(ae)),Qe&&Et?Ut[Ut.length-1].$text$+=ae:Ut.push(Qe?lt(null,ae):ae),Et=Qe)};if(fn(ce),F){const vn=F.className||F.class;vn&&(F.class="object"!=typeof vn?vn:Object.keys(vn).filter(ln=>vn[ln]).join(" "))}const un=lt(P,null);return un.$attrs$=F,Ut.length>0&&(un.$children$=Ut),un},lt=(P,F)=>({$flags$:0,$tag$:P,$text$:F,$elm$:null,$children$:null,$attrs$:null}),et={},tt=P=>Kn(P).$hostElement$,be=(P,F,ce)=>{const ae=tt(P);return{emit:Qe=>ke(ae,F,{bubbles:!!(4&ce),composed:!!(2&ce),cancelable:!!(1&ce),detail:Qe})}},ke=(P,F,ce)=>{const ae=Rn.ce(F,ce);return P.dispatchEvent(ae),ae},it=new WeakMap,Ve=(P,F)=>"sc-"+P.$tagName$,$t=(P,F,ce,ae,Qe,Et)=>{if(ce!==ae){let Ut=Er(P,F),fn=F.toLowerCase();if("class"===F){const un=P.classList,vn=En(ce),ln=En(ae);un.remove(...vn.filter(dr=>dr&&!ln.includes(dr))),un.add(...ln.filter(dr=>dr&&!vn.includes(dr)))}else if("style"===F){for(const un in ce)(!ae||null==ae[un])&&(un.includes("-")?P.style.removeProperty(un):P.style[un]="");for(const un in ae)(!ce||ae[un]!==ce[un])&&(un.includes("-")?P.style.setProperty(un,ae[un]):P.style[un]=ae[un])}else if("ref"===F)ae&&ae(P);else if(Ut||"o"!==F[0]||"n"!==F[1]){const un=Be(ae);if((Ut||un&&null!==ae)&&!Qe)try{if(P.tagName.includes("-"))P[F]=ae;else{const vn=null==ae?"":ae;"list"===F?Ut=!1:(null==ce||P[F]!=vn)&&(P[F]=vn)}}catch{}null==ae||!1===ae?(!1!==ae||""===P.getAttribute(F))&&P.removeAttribute(F):(!Ut||4&Et||Qe)&&!un&&P.setAttribute(F,ae=!0===ae?"":ae)}else F="-"===F[2]?F.slice(3):Er(Zr,fn)?fn.slice(2):fn[2]+F.slice(3),ce&&Rn.rel(P,F,ce,!1),ae&&Rn.ael(P,F,ae,!1)}},Qt=/\s/,En=P=>P?P.split(Qt):[],Zt=(P,F,ce,ae)=>{const Qe=11===F.$elm$.nodeType&&F.$elm$.host?F.$elm$.host:F.$elm$,Et=P&&P.$attrs$||Ce,Ut=F.$attrs$||Ce;for(ae in Et)ae in Ut||$t(Qe,ae,Et[ae],void 0,ce,F.$flags$);for(ae in Ut)$t(Qe,ae,Et[ae],Ut[ae],ce,F.$flags$)},Nn=(P,F,ce,ae)=>{const Qe=F.$children$[ce];let Ut,fn,Et=0;if(null!==Qe.$text$)Ut=Qe.$elm$=$n.createTextNode(Qe.$text$);else{if(le||(le="svg"===Qe.$tag$),Ut=Qe.$elm$=$n.createElementNS(le?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Qe.$tag$),le&&"foreignObject"===Qe.$tag$&&(le=!1),Zt(null,Qe,le),(P=>null!=P)(L)&&Ut["s-si"]!==L&&Ut.classList.add(Ut["s-si"]=L),Qe.$children$)for(Et=0;Et<Qe.$children$.length;++Et)fn=Nn(P,Qe,Et),fn&&Ut.appendChild(fn);"svg"===Qe.$tag$?le=!1:"foreignObject"===Ut.tagName&&(le=!0)}return Ut},_t=(P,F,ce,ae,Qe,Et)=>{let fn,Ut=P;for(Ut.shadowRoot&&Ut.tagName===Se&&(Ut=Ut.shadowRoot);Qe<=Et;++Qe)ae[Qe]&&(fn=Nn(null,ce,Qe),fn&&(ae[Qe].$elm$=fn,Ut.insertBefore(fn,F)))},Pe=(P,F,ce)=>{for(let ae=F;ae<=ce;++ae){const Qe=P[ae];if(Qe){const Et=Qe.$elm$;me(Qe),Et&&Et.remove()}}},ne=(P,F)=>P.$tag$===F.$tag$,de=(P,F)=>{const ce=F.$elm$=P.$elm$,ae=P.$children$,Qe=F.$children$,Et=F.$tag$,Ut=F.$text$;null===Ut?(le="svg"===Et||"foreignObject"!==Et&&le,Zt(P,F,le),null!==ae&&null!==Qe?((P,F,ce,ae)=>{let Dr,Qe=0,Et=0,Ut=F.length-1,fn=F[0],un=F[Ut],vn=ae.length-1,ln=ae[0],dr=ae[vn];for(;Qe<=Ut&&Et<=vn;)null==fn?fn=F[++Qe]:null==un?un=F[--Ut]:null==ln?ln=ae[++Et]:null==dr?dr=ae[--vn]:ne(fn,ln)?(de(fn,ln),fn=F[++Qe],ln=ae[++Et]):ne(un,dr)?(de(un,dr),un=F[--Ut],dr=ae[--vn]):ne(fn,dr)?(de(fn,dr),P.insertBefore(fn.$elm$,un.$elm$.nextSibling),fn=F[++Qe],dr=ae[--vn]):ne(un,ln)?(de(un,ln),P.insertBefore(un.$elm$,fn.$elm$),un=F[--Ut],ln=ae[++Et]):(Dr=Nn(F&&F[Et],ce,Et),ln=ae[++Et],Dr&&fn.$elm$.parentNode.insertBefore(Dr,fn.$elm$));Qe>Ut?_t(P,null==ae[vn+1]?null:ae[vn+1].$elm$,ce,ae,Et,vn):Et>vn&&Pe(F,Qe,Ut)})(ce,ae,F,Qe):null!==Qe?(null!==P.$text$&&(ce.textContent=""),_t(ce,null,F,Qe,0,Qe.length-1)):null!==ae&&Pe(ae,0,ae.length-1),le&&"svg"===Et&&(le=!1)):P.$text$!==Ut&&(ce.data=Ut)},me=P=>{P.$attrs$&&P.$attrs$.ref&&P.$attrs$.ref(null),P.$children$&&P.$children$.map(me)},Me=(P,F)=>{F&&!P.$onRenderResolve$&&F["s-p"]&&F["s-p"].push(new Promise(ce=>P.$onRenderResolve$=ce))},Ye=(P,F)=>{if(P.$flags$|=16,!(4&P.$flags$))return Me(P,P.$ancestorComponent$),Z(()=>Xe(P,F));P.$flags$|=512},Xe=(P,F)=>{const ae=P.$lazyInstance$;return F&&(P.$flags$|=256,P.$queuedListeners$&&(P.$queuedListeners$.map(([Et,Ut])=>Jn(ae,Et,Ut)),P.$queuedListeners$=void 0)),Rt(void 0,()=>jt(P,ae,F))},Rt=(P,F)=>we(P)?P.then(F):F(),we=P=>P instanceof Promise||P&&P.then&&"function"==typeof P.then,jt=function(){var P=(0,c.A)(function*(F,ce,ae){var Qe;const Et=F.$hostElement$,fn=Et["s-rc"];ae&&(P=>{const F=P.$cmpMeta$,ce=P.$hostElement$,ae=F.$flags$,Et=((P,F)=>{var Qe;let Et=Ve(F);const Ut=Cr.get(Et);if(P=11===P.nodeType?P:$n,Ut)if("string"==typeof Ut){let un,fn=it.get(P=P.head||P);if(fn||it.set(P,fn=new Set),!fn.has(Et)){{un=$n.createElement("style"),un.innerHTML=Ut;const vn=null!==(Qe=Rn.$nonce$)&&void 0!==Qe?Qe:st($n);null!=vn&&un.setAttribute("nonce",vn),P.insertBefore(un,P.querySelector("link"))}fn&&fn.add(Et)}}else P.adoptedStyleSheets.includes(Ut)||(P.adoptedStyleSheets=[...P.adoptedStyleSheets,Ut]);return Et})(ce.shadowRoot?ce.shadowRoot:ce.getRootNode(),F);10&ae&&(ce["s-sc"]=Et,ce.classList.add(Et+"-h"))})(F);In(F,ce),fn&&(fn.map(vn=>vn()),Et["s-rc"]=void 0);{const vn=null!==(Qe=Et["s-p"])&&void 0!==Qe?Qe:[],ln=()=>Vn(F);0===vn.length?ln():(Promise.all(vn).then(ln),F.$flags$|=4,vn.length=0)}});return function(ce,ae,Qe){return P.apply(this,arguments)}}(),In=(P,F,ce)=>{try{F=F.render(),P.$flags$&=-17,P.$flags$|=2,((P,F)=>{const ce=P.$hostElement$,ae=P.$vnode$||lt(null,null),Qe=(P=>P&&P.$tag$===et)(F)?F:dt(null,null,F);Se=ce.tagName,Qe.$tag$=null,Qe.$flags$|=4,P.$vnode$=Qe,Qe.$elm$=ae.$elm$=ce.shadowRoot||ce,L=ce["s-sc"],de(ae,Qe)})(P,F)}catch(ae){Pr(ae,P.$hostElement$)}return null},Vn=P=>{const ce=P.$hostElement$,Qe=P.$lazyInstance$,Et=P.$ancestorComponent$;64&P.$flags$||(P.$flags$|=64,nr(ce),Jn(Qe,"componentDidLoad"),P.$onReadyResolve$(ce),Et||qn()),P.$onInstanceResolve$(ce),P.$onRenderResolve$&&(P.$onRenderResolve$(),P.$onRenderResolve$=void 0),512&P.$flags$&&sn(()=>Ye(P,!1)),P.$flags$&=-517},tr=P=>{{const F=Kn(P),ce=F.$hostElement$.isConnected;return ce&&2==(18&F.$flags$)&&Ye(F,!1),ce}},qn=P=>{nr($n.documentElement),sn(()=>ke(Zr,"appload",{detail:{namespace:"ionicpwaelements"}}))},Jn=(P,F,ce)=>{if(P&&P[F])try{return P[F](ce)}catch(ae){Pr(ae)}},nr=P=>P.classList.add("hydrated"),Lt=(P,F,ce)=>{if(F.$members$){const ae=Object.entries(F.$members$),Qe=P.prototype;if(ae.map(([Et,[Ut]])=>{31&Ut||2&ce&&32&Ut?Object.defineProperty(Qe,Et,{get(){return((P,F)=>Kn(this).$instanceValues$.get(F))(0,Et)},set(fn){((P,F,ce,ae)=>{const Qe=Kn(P),Et=Qe.$instanceValues$.get(F),Ut=Qe.$flags$,fn=Qe.$lazyInstance$;ce=((P,F)=>null==P||Be(P)?P:4&F?"false"!==P&&(""===P||!!P):2&F?parseFloat(P):1&F?String(P):P)(ce,ae.$members$[F][0]);const un=Number.isNaN(Et)&&Number.isNaN(ce);(!(8&Ut)||void 0===Et)&&ce!==Et&&!un&&(Qe.$instanceValues$.set(F,ce),fn&&2==(18&Ut)&&Ye(Qe,!1))})(this,Et,fn,F)},configurable:!0,enumerable:!0}):1&ce&&64&Ut&&Object.defineProperty(Qe,Et,{value(...fn){const un=Kn(this);return un.$onInstancePromise$.then(()=>un.$lazyInstance$[Et](...fn))}})}),1&ce){const Et=new Map;Qe.attributeChangedCallback=function(Ut,fn,un){Rn.jmp(()=>{const vn=Et.get(Ut);if(this.hasOwnProperty(vn))un=this[vn],delete this[vn];else if(Qe.hasOwnProperty(vn)&&"number"==typeof this[vn]&&this[vn]==un)return;this[vn]=(null!==un||"boolean"!=typeof this[vn])&&un})},P.observedAttributes=ae.filter(([Ut,fn])=>15&fn[0]).map(([Ut,fn])=>{const un=fn[1]||Ut;return Et.set(un,Ut),un})}}return P},Ft=function(){var P=(0,c.A)(function*(F,ce,ae,Qe,Et){if(!(32&ce.$flags$)){ce.$flags$|=32;{if((Et=si(ae)).then){const vn=()=>{};Et=yield Et,vn()}Et.isProxied||(Lt(Et,ae,2),Et.isProxied=!0);const un=()=>{};ce.$flags$|=8;try{new Et(ce)}catch(vn){Pr(vn)}ce.$flags$&=-9,un()}if(Et.style){let un=Et.style;const vn=Ve(ae);if(!Cr.has(vn)){const ln=()=>{};((P,F,ce)=>{let ae=Cr.get(P);vr&&ce?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=F:ae.replaceSync(F)):ae=F,Cr.set(P,ae)})(vn,un,!!(1&ae.$flags$)),ln()}}}const Ut=ce.$ancestorComponent$,fn=()=>Ye(ce,!0);Ut&&Ut["s-rc"]?Ut["s-rc"].push(fn):fn()});return function(ce,ae,Qe,Et,Ut){return P.apply(this,arguments)}}(),yr=(P,F={})=>{var ce;const Qe=[],Et=F.exclude||[],Ut=Zr.customElements,fn=$n.head,un=fn.querySelector("meta[charset]"),vn=$n.createElement("style"),ln=[];let dr,Dr=!0;Object.assign(Rn,F),Rn.$resourcesUrl$=new URL(F.resourcesUrl||"./",$n.baseURI).href,P.map(Gn=>{Gn[1].map(ni=>{const Ai={$flags$:ni[0],$tagName$:ni[1],$members$:ni[2],$listeners$:ni[3]};Ai.$members$=ni[2],Ai.$listeners$=ni[3];const Ci=Ai.$tagName$,Mi=class extends HTMLElement{constructor(Gi){super(Gi),Xr(Gi=this,Ai),1&Ai.$flags$&&Gi.attachShadow({mode:"open"})}connectedCallback(){dr&&(clearTimeout(dr),dr=null),Dr?ln.push(this):Rn.jmp(()=>(P=>{if(!(1&Rn.$flags$)){const F=Kn(P),ce=F.$cmpMeta$,ae=()=>{};if(1&F.$flags$)fr(P,F,ce.$listeners$);else{F.$flags$|=1;{let Qe=P;for(;Qe=Qe.parentNode||Qe.host;)if(Qe["s-p"]){Me(F,F.$ancestorComponent$=Qe);break}}ce.$members$&&Object.entries(ce.$members$).map(([Qe,[Et]])=>{if(31&Et&&P.hasOwnProperty(Qe)){const Ut=P[Qe];delete P[Qe],P[Qe]=Ut}}),Ft(P,F,ce)}ae()}})(this))}disconnectedCallback(){Rn.jmp(()=>(()=>{if(!(1&Rn.$flags$)){const F=Kn(this),ce=F.$lazyInstance$;F.$rmListeners$&&(F.$rmListeners$.map(ae=>ae()),F.$rmListeners$=void 0),Jn(ce,"disconnectedCallback")}})())}componentOnReady(){return Kn(this).$onReadyPromise$}};Ai.$lazyBundleId$=Gn[0],!Et.includes(Ci)&&!Ut.get(Ci)&&(Qe.push(Ci),Ut.define(Ci,Lt(Mi,Ai,1)))})});{vn.innerHTML=Qe+"{visibility:hidden}.hydrated{visibility:inherit}",vn.setAttribute("data-styles","");const Gn=null!==(ce=Rn.$nonce$)&&void 0!==ce?ce:st($n);null!=Gn&&vn.setAttribute("nonce",Gn),fn.insertBefore(vn,un?un.nextSibling:fn.firstChild)}Dr=!1,ln.length?ln.map(Gn=>Gn.connectedCallback()):Rn.jmp(()=>dr=setTimeout(qn,30))},fr=(P,F,ce,ae)=>{ce&&ce.map(([Qe,Et,Ut])=>{const fn=Pn(P,Qe),un=On(F,Ut),vn=ur(Qe);Rn.ael(fn,Et,un,vn),(F.$rmListeners$=F.$rmListeners$||[]).push(()=>Rn.rel(fn,Et,un,vn))})},On=(P,F)=>ce=>{try{256&P.$flags$?P.$lazyInstance$[F](ce):(P.$queuedListeners$=P.$queuedListeners$||[]).push([F,ce])}catch(ae){Pr(ae)}},Pn=(P,F)=>16&F?$n.body:P,ur=P=>!!(2&P),Qn=new WeakMap,Kn=P=>Qn.get(P),mr=(P,F)=>Qn.set(F.$lazyInstance$=P,F),Xr=(P,F)=>{const ce={$flags$:0,$hostElement$:P,$cmpMeta$:F,$instanceValues$:new Map};return ce.$onInstancePromise$=new Promise(ae=>ce.$onInstanceResolve$=ae),ce.$onReadyPromise$=new Promise(ae=>ce.$onReadyResolve$=ae),P["s-p"]=[],P["s-rc"]=[],fr(P,ce,F.$listeners$),Qn.set(P,ce)},Er=(P,F)=>F in P,Pr=(P,F)=>(0,console.error)(P,F),Ln=new Map,si=(P,F,ce)=>{const ae=P.$tagName$.replace(/-/g,"_"),Qe=P.$lazyBundleId$,Et=Ln.get(Qe);if(Et)return Et[ae];if(!ce||!BUILD.hotModuleReplacement){const Ut=fn=>(Ln.set(Qe,fn),fn[ae]);switch(Qe){case"pwa-action-sheet":return O.e(6301).then(O.bind(O,6301)).then(Ut,Pr);case"pwa-camera-modal":return O.e(2982).then(O.bind(O,2982)).then(Ut,Pr);case"pwa-toast":return O.e(3574).then(O.bind(O,3574)).then(Ut,Pr);case"pwa-camera-modal-instance":return O.e(5640).then(O.bind(O,5640)).then(Ut,Pr);case"pwa-camera":return O.e(6086).then(O.bind(O,6086)).then(Ut,Pr)}}return O(5235)(`./${Qe}.entry.js`).then(Ut=>(Ln.set(Qe,Ut),Ut[ae]),Pr)},Cr=new Map,Zr=typeof window<"u"?window:{},$n=Zr.document||{head:{}},Rn={$flags$:0,$resourcesUrl$:"",jmp:P=>P(),raf:P=>requestAnimationFrame(P),ael:(P,F,ce,ae)=>P.addEventListener(F,ce,ae),rel:(P,F,ce,ae)=>P.removeEventListener(F,ce,ae),ce:(P,F)=>new CustomEvent(P,F)},Or=P=>Promise.resolve(P),vr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Tt=[],nt=[],kt=(P,F)=>ce=>{P.push(ce),he||(he=!0,F&&4&Rn.$flags$?sn(ut):Rn.raf(ut))},rt=P=>{for(let F=0;F<P.length;F++)try{P[F](performance.now())}catch(ce){Pr(ce)}P.length=0},ut=()=>{rt(Tt),rt(nt),(he=Tt.length>0)&&Rn.raf(ut)},sn=P=>Or().then(P),Z=kt(nt,!0)},385:(bn,ht,O)=>{"use strict";O.d(ht,{f:()=>wE});var c=O(467),h=O(4438),L=O(9842),le=(O(2438),O(177)),he=O(5407),ye=O(9253),Le=O(1413),Ge=O(7673),Ce=O(1985),fe=O(8455),$e=O(6365),He=O(8750),Be=O(983),st=O(3794),lt=O(941),et=O(5558),ft=O(6354),Ke=O(6129);class tt extends Le.B{constructor(t=1/0,r=1/0,s=Ke.U){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:s,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:m}=this;r||(s.push(t),!u&&s.push(f.now()+m)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:u}=this,f=u.slice();for(let m=0;m<f.length&&!t.closed;m+=s?1:2)t.next(f[m]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:s,_infiniteTimeWindow:u}=this,f=(u?1:2)*t;if(t<1/0&&f<s.length&&s.splice(0,s.length-f),!u){const m=r.now();let A=0;for(let R=1;R<s.length&&s[R]<=m;R+=2)A=R;A&&s.splice(0,A+1)}}}var be=O(7707),ke=O(9974);function vt(a,t,...r){if(!0===t)return void a();if(!1===t)return;const s=new be.Ms({next:()=>{s.unsubscribe(),a()}});return(0,He.Tg)(t(...r)).subscribe(s)}function Dt(a,t,r){let s,u=!1;return a&&"object"==typeof a?({bufferSize:s=1/0,windowTime:t=1/0,refCount:u=!1,scheduler:r}=a):s=null!=a?a:1/0,function it(a={}){const{connector:t=()=>new Le.B,resetOnError:r=!0,resetOnComplete:s=!0,resetOnRefCountZero:u=!0}=a;return f=>{let m,A,R,z=0,re=!1,De=!1;const qe=()=>{null==A||A.unsubscribe(),A=void 0},At=()=>{qe(),m=R=void 0,re=De=!1},Wt=()=>{const hn=m;At(),null==hn||hn.unsubscribe()};return(0,ke.N)((hn,Jt)=>{z++,!De&&!re&&qe();const Bn=R=null!=R?R:t();Jt.add(()=>{z--,0===z&&!De&&!re&&(A=vt(Wt,u))}),Bn.subscribe(Jt),!m&&z>0&&(m=new be.Ms({next:or=>Bn.next(or),error:or=>{De=!0,qe(),A=vt(At,r,or),Bn.error(or)},complete:()=>{re=!0,qe(),A=vt(At,s),Bn.complete()}}),(0,He.Tg)(hn).subscribe(m))})(f)}}({connector:()=>new tt(s,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var ze=O(1594),Ve=O(8071);function $t(a,t){return(0,Ve.T)(t)?(0,et.n)(()=>a,t):(0,et.n)(()=>a)}var Qt=O(6745),En=O(5964);O(7935);const _t=new h.nKC("angularfire2.auth.use-emulator"),Pe=new h.nKC("angularfire2.auth.settings"),te=new h.nKC("angularfire2.auth.tenant-id"),ne=new h.nKC("angularfire2.auth.langugage-code"),de=new h.nKC("angularfire2.auth.use-device-language"),me=new h.nKC("angularfire.auth.persistence"),ve=(a,t,r,s,u,f,m,A)=>(0,ye.BM)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const R=t.runOutsideAngular(()=>a.auth());if(r&&R.useEmulator(...r),s&&(R.tenantId=s),R.languageCode=u,f&&R.useDeviceLanguage(),m)for(const[z,re]of Object.entries(m))R.settings[z]=re;return A&&R.setPersistence(A),R},[r,s,u,f,m,A]);let Me=(()=>{var a;class t{constructor(s,u,f,m,A,R,z,re,De,qe,At,Wt){(0,L.A)(this,"authState",void 0),(0,L.A)(this,"idToken",void 0),(0,L.A)(this,"user",void 0),(0,L.A)(this,"idTokenResult",void 0),(0,L.A)(this,"credential",void 0);const hn=new Le.B,Jt=(0,Ge.of)(void 0).pipe((0,lt.Q)(A.outsideAngular),(0,et.n)(()=>m.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2438)))),(0,ft.T)(()=>(0,ye.iB)(s,m,u)),(0,ft.T)(Bn=>ve(Bn,m,R,re,De,qe,z,At)),Dt({bufferSize:1,refCount:!1}));if((0,le.Vy)(f))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{Jt.pipe((0,ze.$)()).subscribe();const Bn=Jt.pipe((0,et.n)(jn=>jn.getRedirectResult().then(Rr=>Rr,()=>null)),he.U0,Dt({bufferSize:1,refCount:!1})),or=Jt.pipe((0,et.n)(jn=>new Ce.c(Rr=>({unsubscribe:m.runOutsideAngular(()=>jn.onAuthStateChanged(_r=>Rr.next(_r),_r=>Rr.error(_r),()=>Rr.complete()))})))),zn=Jt.pipe((0,et.n)(jn=>new Ce.c(Rr=>({unsubscribe:m.runOutsideAngular(()=>jn.onIdTokenChanged(_r=>Rr.next(_r),_r=>Rr.error(_r),()=>Rr.complete()))}))));this.authState=Bn.pipe($t(or),(0,Qt._)(A.outsideAngular),(0,lt.Q)(A.insideAngular)),this.user=Bn.pipe($t(zn),(0,Qt._)(A.outsideAngular),(0,lt.Q)(A.insideAngular)),this.idToken=this.user.pipe((0,et.n)(jn=>jn?(0,fe.H)(jn.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe((0,et.n)(jn=>jn?(0,fe.H)(jn.getIdTokenResult()):(0,Ge.of)(null))),this.credential=function dt(...a){const t=(0,st.lI)(a),r=(0,st.R0)(a,1/0),s=a;return s.length?1===s.length?(0,He.Tg)(s[0]):(0,$e.U)(r)((0,fe.H)(s,t)):Be.w}(Bn,hn,this.authState.pipe((0,En.p)(jn=>!jn))).pipe((0,ft.T)(jn=>null!=jn&&jn.user?jn:null),(0,Qt._)(A.outsideAngular),(0,lt.Q)(A.insideAngular))}return(0,ye.Gt)(this,Jt,m,{spy:{apply:(Bn,or,zn)=>{(Bn.startsWith("signIn")||Bn.startsWith("createUser"))&&zn.then(jn=>hn.next(jn))}}})}}return a=t,(0,L.A)(t,"\u0275fac",function(s){return new(s||a)(h.KVO(ye.rx),h.KVO(ye.uP,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(he.u0),h.KVO(_t,8),h.KVO(Pe,8),h.KVO(te,8),h.KVO(ne,8),h.KVO(de,8),h.KVO(me,8),h.KVO(he.Jv,8))}),(0,L.A)(t,"\u0275prov",h.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),t})();var Xe=O(5504),Rt=O(7852),we=O(1076),jt=O(8041),In=O(1362),Vn=O(3236),tr=O(4360),Jn=O(3345);const nr="firebasestorage.googleapis.com",rr="storageBucket";class on extends we.g{constructor(t,r,s=0){super(yr(t),`Firebase Storage: ${r} (${yr(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,on.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return yr(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ot=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(Ot||{});function yr(a){return"storage/"+a}function fr(){return new on(Ot.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Kn(){return new on(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mr(){return new on(Ot.CANCELED,"User canceled the upload/download.")}function Ln(){return new on(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $n(a){return new on(Ot.INVALID_ARGUMENT,a)}function Rn(){return new on(Ot.APP_DELETED,"The Firebase app was deleted.")}function Or(a){return new on(Ot.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vr(a,t){return new on(Ot.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function Tt(a){throw new on(Ot.INTERNAL_ERROR,"Internal error: "+a)}class nt{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let s;try{s=nt.makeFromUrl(t,r)}catch{return new nt(t,"")}if(""===s.path)return s;throw function Er(a){return new on(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}(t)}static makeFromUrl(t,r){let s=null;const u="([A-Za-z0-9.\\-_]+)",A=new RegExp("^gs://"+u+"(/(.*))?$","i");function z(jn){jn.path_=decodeURIComponent(jn.path)}const De=r.replace(/[.]/g,"\\."),zn=[{regex:A,indices:{bucket:1,path:3},postModify:function f(jn){"/"===jn.path.charAt(jn.path.length-1)&&(jn.path_=jn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${De}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:z},{regex:new RegExp(`^https?://${r===nr?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:z}];for(let jn=0;jn<zn.length;jn++){const Rr=zn[jn],_r=Rr.regex.exec(t);if(_r){let Ze=_r[Rr.indices.path];Ze||(Ze=""),s=new nt(_r[Rr.indices.bucket],Ze),Rr.postModify(s);break}}if(null==s)throw function Xr(a){return new on(Ot.INVALID_URL,"Invalid URL '"+a+"'.")}(t);return s}}class kt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function F(a){return"string"==typeof a||a instanceof String}function ce(a){return ae()&&a instanceof Blob}function ae(){return typeof Blob<"u"}function Qe(a,t,r,s){if(s<t)throw $n(`Invalid value for '${a}'. Expected ${t} or greater.`);if(s>r)throw $n(`Invalid value for '${a}'. Expected ${r} or less.`)}function Et(a,t,r){let s=t;return null==r&&(s=`https://${t}`),`${r}://${s}/v0${a}`}function Ut(a){const t=encodeURIComponent;let r="?";for(const s in a)a.hasOwnProperty(s)&&(r=r+(t(s)+"=")+t(a[s])+"&");return r=r.slice(0,-1),r}var fn=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(fn||{});function un(a,t){const r=a>=500&&a<600,u=-1!==[408,429].indexOf(a),f=-1!==t.indexOf(a);return r||u||f}class vn{constructor(t,r,s,u,f,m,A,R,z,re,De,qe=!0){this.url_=t,this.method_=r,this.headers_=s,this.body_=u,this.successCodes_=f,this.additionalRetryCodes_=m,this.callback_=A,this.errorCallback_=R,this.timeout_=z,this.progressCallback_=re,this.connectionFactory_=De,this.retry=qe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((At,Wt)=>{this.resolve_=At,this.reject_=Wt,this.start_()})}start_(){const r=(s,u)=>{const f=this.resolve_,m=this.reject_,A=u.connection;if(u.wasSuccessCode)try{const R=this.callback_(A,A.getResponse());!function sn(a){return void 0!==a}(R)?f():f(R)}catch(R){m(R)}else if(null!==A){const R=fr();R.serverResponse=A.getErrorText(),m(this.errorCallback_?this.errorCallback_(A,R):R)}else m(u.canceled?this.appDelete_?Rn():mr():Kn())};this.canceled_?r(0,new ln(!1,null,!0)):this.backoffId_=function rt(a,t,r){let s=1,u=null,f=null,m=!1,A=0;function R(){return 2===A}let z=!1;function re(...Jt){z||(z=!0,t.apply(null,Jt))}function De(Jt){u=setTimeout(()=>{u=null,a(At,R())},Jt)}function qe(){f&&clearTimeout(f)}function At(Jt,...Bn){if(z)return void qe();if(Jt)return qe(),void re.call(null,Jt,...Bn);if(R()||m)return qe(),void re.call(null,Jt,...Bn);let zn;s<64&&(s*=2),1===A?(A=2,zn=0):zn=1e3*(s+Math.random()),De(zn)}let Wt=!1;function hn(Jt){Wt||(Wt=!0,qe(),!z&&(null!==u?(Jt||(A=2),clearTimeout(u),De(0)):Jt||(A=1)))}return De(0),f=setTimeout(()=>{m=!0,hn(!0)},r),hn}((s,u)=>{if(u)return void s(!1,new ln(!1,null,!0));const f=this.connectionFactory_();this.pendingConnection_=f;const m=A=>{null!==this.progressCallback_&&this.progressCallback_(A.loaded,A.lengthComputable?A.total:-1)};null!==this.progressCallback_&&f.addUploadProgressListener(m),f.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&f.removeUploadProgressListener(m),this.pendingConnection_=null;const A=f.getErrorCode()===fn.NO_ERROR,R=f.getStatus();if(!A||un(R,this.additionalRetryCodes_)&&this.retry){const re=f.getErrorCode()===fn.ABORT;return void s(!1,new ln(!1,null,re))}const z=-1!==this.successCodes_.indexOf(R);s(!0,new ln(z,f))})},r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function ut(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ln{constructor(t,r,s){this.wasSuccessCode=t,this.connection=r,this.canceled=!!s}}function Mi(...a){const t=function Ci(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const r=new t;for(let s=0;s<a.length;s++)r.append(a[s]);return r.getBlob()}if(ae())return new Blob(a);throw new on(Ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class K{constructor(t,r){this.data=t,this.contentType=r||null}}function Ae(a,t){switch(a){case ie.RAW:return new K(J(t));case ie.BASE64:case ie.BASE64URL:return new K(xe(a,t));case ie.DATA_URL:return new K(function Kt(a){const t=new It(a);return t.base64?xe(ie.BASE64,t.rest):function ee(a){let t;try{t=decodeURIComponent(a)}catch{throw vr(ie.DATA_URL,"Malformed data URL.")}return J(t)}(t.rest)}(t),function mn(a){return new It(a).contentType}(t))}throw fr()}function J(a){const t=[];for(let r=0;r<a.length;r++){let s=a.charCodeAt(r);s<=127?t.push(s):s<=2047?t.push(192|s>>6,128|63&s):55296==(64512&s)?r<a.length-1&&56320==(64512&a.charCodeAt(r+1))?(s=65536|(1023&s)<<10|1023&a.charCodeAt(++r),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):t.push(239,191,189):56320==(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function xe(a,t){switch(a){case ie.BASE64:{const u=-1!==t.indexOf("-"),f=-1!==t.indexOf("_");if(u||f)throw vr(a,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case ie.BASE64URL:{const u=-1!==t.indexOf("+"),f=-1!==t.indexOf("/");if(u||f)throw vr(a,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function Sr(a){if(typeof atob>"u")throw function Zr(a){return new on(Ot.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(t)}catch(u){throw u.message.includes("polyfill")?u:vr(a,"Invalid character found")}const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}class It{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(null===r)throw vr(ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;null!=s&&(this.base64=function se(a,t){return a.length>=t.length&&a.substring(a.length-t.length)===t}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}class Ne{constructor(t,r){let s=0,u="";ce(t)?(this.data_=t,s=t.size,u=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(t,r){if(ce(this.data_)){const u=function Gi(a,t,r){return a.webkitSlice?a.webkitSlice(t,r):a.mozSlice?a.mozSlice(t,r):a.slice?a.slice(t,r):null}(this.data_,t,r);return null===u?null:new Ne(u)}{const s=new Uint8Array(this.data_.buffer,t,r-t);return new Ne(s,!0)}}static getBlob(...t){if(ae()){const r=t.map(s=>s instanceof Ne?s.data_:s);return new Ne(Mi.apply(null,r))}{const r=t.map(m=>F(m)?Ae(ie.RAW,m).data:m.data_);let s=0;r.forEach(m=>{s+=m.byteLength});const u=new Uint8Array(s);let f=0;return r.forEach(m=>{for(let A=0;A<m.length;A++)u[f++]=m[A]}),new Ne(u,!0)}}uploadData(){return this.data_}}function ot(a){let t;try{t=JSON.parse(a)}catch{return null}return function P(a){return"object"==typeof a&&!Array.isArray(a)}(t)?t:null}function dn(a){const t=a.lastIndexOf("/",a.length-2);return-1===t?a:a.slice(t+1)}function Mn(a,t){return t}class An{constructor(t,r,s,u){this.server=t,this.local=r||t,this.writable=!!s,this.xform=u||Mn}}let cr=null;function xr(){if(cr)return cr;const a=[];a.push(new An("bucket")),a.push(new An("generation")),a.push(new An("metageneration")),a.push(new An("name","fullPath",!0));const r=new An("name");r.xform=function t(f,m){return function sr(a){return!F(a)||a.length<2?a:dn(a)}(m)},a.push(r);const u=new An("size");return u.xform=function s(f,m){return void 0!==m?Number(m):m},a.push(u),a.push(new An("timeCreated")),a.push(new An("updated")),a.push(new An("md5Hash",null,!0)),a.push(new An("cacheControl",null,!0)),a.push(new An("contentDisposition",null,!0)),a.push(new An("contentEncoding",null,!0)),a.push(new An("contentLanguage",null,!0)),a.push(new An("contentType",null,!0)),a.push(new An("metadata","customMetadata",!0)),cr=a,cr}function ai(a,t,r){const s=ot(t);return null===s?null:function Ri(a,t,r){const s={type:"file"},u=r.length;for(let f=0;f<u;f++){const m=r[f];s[m.local]=m.xform(s,t[m.server])}return function vi(a,t){Object.defineProperty(a,"ref",{get:function r(){const f=new nt(a.bucket,a.fullPath);return t._makeStorageReference(f)}})}(s,a),s}(a,s,r)}function li(a,t){const r={},s=t.length;for(let u=0;u<s;u++){const f=t[u];f.writable&&(r[f.server]=a[f.local])}return JSON.stringify(r)}const $r="prefixes",kr="items";class Qr{constructor(t,r,s,u){this.url=t,this.method=r,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function er(a){if(!a)throw fr()}function Tr(a,t){return function r(s,u){const f=ai(a,u,t);return er(null!==f),f}}function Vi(a){return function t(r,s){let u;return u=401===r.getStatus()?r.getErrorText().includes("Firebase App Check token is invalid")?function Ir(){return new on(Ot.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ur(){return new on(Ot.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===r.getStatus()?function Pn(a){return new on(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===r.getStatus()?function Qn(a){return new on(Ot.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}(a.path):s,u.status=r.getStatus(),u.serverResponse=s.serverResponse,u}}function xo(a){const t=Vi(a);return function r(s,u){let f=t(s,u);return 404===s.getStatus()&&(f=function On(a){return new on(Ot.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}(a.path)),f.serverResponse=u.serverResponse,f}}function No(a,t,r){const u=Et(t.fullServerUrl(),a.host,a._protocol),m=a.maxOperationRetryTime,A=new Qr(u,"GET",Tr(a,r),m);return A.errorHandler=xo(t),A}function Es(a,t,r,s,u){const f={};f.prefix=t.isRoot?"":t.path+"/",r&&r.length>0&&(f.delimiter=r),s&&(f.pageToken=s),u&&(f.maxResults=u);const A=Et(t.bucketOnlyServerUrl(),a.host,a._protocol),z=a.maxOperationRetryTime,re=new Qr(A,"GET",function Is(a,t){return function r(s,u){const f=function Wr(a,t,r){const s=ot(r);return null===s?null:function bi(a,t,r){const s={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[$r])for(const u of r[$r]){const f=u.replace(/\/$/,""),m=a._makeStorageReference(new nt(t,f));s.prefixes.push(m)}if(r[kr])for(const u of r[kr]){const f=a._makeStorageReference(new nt(t,u.name));s.items.push(f)}return s}(a,t,s)}(a,t,u);return er(null!==f),f}}(a,t.bucket),z);return re.urlParams=f,re.errorHandler=Vi(t),re}function Cs(a,t,r){const s=Object.assign({},r);return s.fullPath=a.path,s.size=t.size(),s.contentType||(s.contentType=function ls(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}(null,t)),s}function us(a,t,r,s,u){const f=t.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},R=function A(){let zn="";for(let jn=0;jn<2;jn++)zn+=Math.random().toString().slice(2);return zn}();m["Content-Type"]="multipart/related; boundary="+R;const z=Cs(t,s,u),re=li(z,r),At=Ne.getBlob("--"+R+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+re+"\r\n--"+R+"\r\nContent-Type: "+z.contentType+"\r\n\r\n",s,"\r\n--"+R+"--");if(null===At)throw Ln();const Wt={name:z.fullPath},hn=Et(f,a.host,a._protocol),Bn=a.maxUploadRetryTime,or=new Qr(hn,"POST",Tr(a,r),Bn);return or.urlParams=Wt,or.headers=m,or.body=At.uploadData(),or.errorHandler=Vi(t),or}class wo{constructor(t,r,s,u){this.current=t,this.total=r,this.finalized=!!s,this.metadata=u||null}}function Fi(a,t){let r=null;try{r=a.getResponseHeader("X-Goog-Upload-Status")}catch{er(!1)}return er(!!r&&-1!==(t||["active"]).indexOf(r)),r}const X=262144;const y={STATE_CHANGED:"state_changed"},M={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Q(a){switch(a){case"running":case"pausing":case"canceling":return M.RUNNING;case"paused":return M.PAUSED;case"success":return M.SUCCESS;case"canceled":return M.CANCELED;default:return M.ERROR}}class Fe{constructor(t,r,s){if(function Z(a){return"function"==typeof a}(t)||null!=r||null!=s)this.next=t,this.error=null!=r?r:void 0,this.complete=null!=s?s:void 0;else{const f=t;this.next=f.next,this.error=f.error,this.complete=f.complete}}}function ct(a){return(...t)=>{Promise.resolve().then(()=>a(...t))}}let at=null;class en{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fn.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fn.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fn.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,s,u){if(this.sent_)throw Tt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),void 0!==u)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class wt extends en{initXhr(){this.xhr_.responseType="text"}}function zt(){return at?at():new wt}class pr{constructor(t,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=s,this._mappings=xr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(Ot.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const f=this.isExponentialBackoffExpired();if(un(u.status,[])){if(!f)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=Kn()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(Ot.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,f)=>{this._resolve=u,this._reject=f,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":t(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,r)=>{const s=function Us(a,t,r,s,u){const f=t.bucketOnlyServerUrl(),m=Cs(t,s,u),A={name:m.fullPath},R=Et(f,a.host,a._protocol),re={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},De=li(m,r),Wt=new Qr(R,"POST",function At(hn){let Jt;Fi(hn);try{Jt=hn.getResponseHeader("X-Goog-Upload-URL")}catch{er(!1)}return er(F(Jt)),Jt},a.maxUploadRetryTime);return Wt.urlParams=A,Wt.headers=re,Wt.body=De,Wt.errorHandler=Vi(t),Wt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,zt,t,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._uploadUrl=f,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,s)=>{const u=function x(a,t,r,s){const R=new Qr(r,"POST",function f(z){const re=Fi(z,["active","final"]);let De=null;try{De=z.getResponseHeader("X-Goog-Upload-Size-Received")}catch{er(!1)}De||er(!1);const qe=Number(De);return er(!isNaN(qe)),new wo(qe,s.size(),"final"===re)},a.maxUploadRetryTime);return R.headers={"X-Goog-Upload-Command":"query"},R.errorHandler=Vi(t),R}(this._ref.storage,this._ref._location,t,this._blob),f=this._ref.storage._makeRequest(u,zt,r,s);this._request=f,f.getPromise().then(m=>{this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=X*this._chunkMultiplier,r=new wo(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,f)=>{let m;try{m=function _e(a,t,r,s,u,f,m,A){const R=new wo(0,0);if(m?(R.current=m.current,R.total=m.total):(R.current=0,R.total=s.size()),s.size()!==R.total)throw function si(){return new on(Ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const z=R.total-R.current;let re=z;u>0&&(re=Math.min(re,u));const De=R.current;let At="";At=0===re?"finalize":z===re?"upload, finalize":"upload";const Wt={"X-Goog-Upload-Command":At,"X-Goog-Upload-Offset":`${R.current}`},hn=s.slice(De,De+re);if(null===hn)throw Ln();const zn=new Qr(r,"POST",function Jt(jn,Rr){const _r=Fi(jn,["active","final"]),Ct=R.current+re,Ze=s.size();let mt;return mt="final"===_r?Tr(t,f)(jn,Rr):null,new wo(Ct,Ze,"final"===_r,mt)},t.maxUploadRetryTime);return zn.headers=Wt,zn.body=hn.uploadData(),zn.progressCallback=A||null,zn.errorHandler=Vi(a),zn}(this._ref._location,this._ref.storage,s,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(R){return this._error=R,void this._transition("error")}const A=this._ref.storage._makeRequest(m,zt,u,f,!1);this._request=A,A.getPromise().then(R=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(R.current),R.finalized?(this._metadata=R.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){X*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const s=No(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,zt,t,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const s=us(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,zt,t,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r="paused"===this._state;this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=mr(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Q(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,s,u){const f=new Fe(r||void 0,s||void 0,u||void 0);return this._addObserver(f),()=>{this._removeObserver(f)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Q(this._state)){case M.SUCCESS:ct(this._resolve.bind(null,this.snapshot))();break;case M.CANCELED:case M.ERROR:ct(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Q(this._state)){case M.RUNNING:case M.PAUSED:t.next&&ct(t.next.bind(t,this.snapshot))();break;case M.SUCCESS:t.complete&&ct(t.complete.bind(t))();break;default:t.error&&ct(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Vr{constructor(t,r){this._service=t,this._location=r instanceof nt?r:nt.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Vr(t,r)}get root(){const t=new nt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dn(this._location.path)}get storage(){return this._service}get parent(){const t=function yt(a){if(0===a.length)return null;const t=a.lastIndexOf("/");return-1===t?"":a.slice(0,t)}(this._location.path);if(null===t)return null;const r=new nt(this._location.bucket,t);return new Vr(this._service,r)}_throwIfRoot(t){if(""===this._location.path)throw Or(t)}}function co(a,t,r){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.A)(function*(a,t,r){const u=yield Ts(a,{pageToken:r});t.prefixes.push(...u.prefixes),t.items.push(...u.items),null!=u.nextPageToken&&(yield co(a,t,u.nextPageToken))})).apply(this,arguments)}function Ts(a,t){null!=t&&"number"==typeof t.maxResults&&Qe("options.maxResults",1,1e3,t.maxResults);const r=t||{},s=Es(a.storage,a._location,"/",r.pageToken,r.maxResults);return a.storage.makeRequestWithTokens(s,zt)}function Ga(a){a._throwIfRoot("getDownloadURL");const t=function As(a,t,r){const u=Et(t.fullServerUrl(),a.host,a._protocol),m=a.maxOperationRetryTime,A=new Qr(u,"GET",function Jo(a,t){return function r(s,u){const f=ai(a,u,t);return er(null!==f),function ri(a,t,r,s){const u=ot(t);if(null===u||!F(u.downloadTokens))return null;const f=u.downloadTokens;if(0===f.length)return null;const m=encodeURIComponent;return f.split(",").map(z=>{const De=a.fullPath;return Et("/b/"+m(a.bucket)+"/o/"+m(De),r,s)+Ut({alt:"media",token:z})})[0]}(f,u,a.host,a._protocol)}}(a,r),m);return A.errorHandler=xo(t),A}(a.storage,a._location,xr());return a.storage.makeRequestWithTokens(t,zt).then(r=>{if(null===r)throw function Cr(){return new on(Ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return r})}function es(a,t){const r=function Nt(a,t){const r=t.split("/").filter(s=>s.length>0).join("/");return 0===a.length?r:a+"/"+r}(a._location.path,t),s=new nt(a._location.bucket,r);return new Vr(a.storage,s)}function Sa(a,t){if(a instanceof Ui){const r=a;if(null==r._bucket)throw function Pr(){return new on(Ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rr+"' property when initializing the app?")}();const s=new Vr(r,r._bucket);return null!=t?Sa(s,t):s}return void 0!==t?es(a,t):a}function pa(a,t){if(t&&function fa(a){return/^[A-Za-z]+:\/\//.test(a)}(t)){if(a instanceof Ui)return function eo(a,t){return new Vr(a,t)}(a,t);throw $n("To use ref(service, url), the first argument must be a Storage instance.")}return Sa(a,t)}function ku(a,t){const r=null==t?void 0:t[rr];return null==r?null:nt.makeFromBucketSpec(r,a)}class Ui{constructor(t,r,s,u,f){this.app=t,this._authProvider=r,this._appCheckProvider=s,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=nr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?nt.makeFromBucketSpec(u,this._host):ku(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?nt.makeFromBucketSpec(this._url,t):ku(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Qe("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Qe("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,c.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const r=t._authProvider.getImmediate({optional:!0});if(r){const s=yield r.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,c.A)(function*(){const r=t._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Vr(this,t)}_makeRequest(t,r,s,u,f=!0){if(this._deleted)return new kt(Rn());{const m=function Ai(a,t,r,s,u,f,m=!0){const A=Ut(a.urlParams),R=a.url+A,z=Object.assign({},a.headers);return function Gn(a,t){t&&(a["X-Firebase-GMPID"]=t)}(z,t),function dr(a,t){null!==t&&t.length>0&&(a.Authorization="Firebase "+t)}(z,r),function Dr(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(z,f),function ni(a,t){null!==t&&(a["X-Firebase-AppCheck"]=t)}(z,s),new vn(R,a.method,z,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,u,m)}(t,this._appId,s,u,r,this._firebaseVersion,f);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}makeRequestWithTokens(t,r){var s=this;return(0,c.A)(function*(){const[u,f]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(t,r,u,f).getPromise()})()}}const ei="@firebase/storage",Js="storage";function vo(a,t,r,s){return function $o(a,t,r=ie.RAW,s){a._throwIfRoot("uploadString");const u=Ae(r,t),f=Object.assign({},s);return null==f.contentType&&null!=u.contentType&&(f.contentType=u.contentType),function hi(a,t,r){a._throwIfRoot("uploadBytes");const s=us(a.storage,a._location,xr(),new Ne(t,!0),r);return a.storage.makeRequestWithTokens(s,zt).then(u=>({metadata:u,ref:a}))}(a,u.data,f)}(a=(0,we.Ku)(a),t,r,s)}function Ma(a){return Ga(a=(0,we.Ku)(a))}function ea(a,t){return pa(a=(0,we.Ku)(a),t)}function ui(a=(0,Rt.getApp)(),t){a=(0,we.Ku)(a);const s=(0,Rt._getProvider)(a,Js).getImmediate({identifier:t}),u=(0,we.yU)("storage");return u&&ds(s,...u),s}function ds(a,t,r,s={}){!function Wa(a,t,r,s={}){a.host=`${t}:${r}`,a._protocol="http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken="string"==typeof u?u:(0,we.Fy)(u,a.app.options.projectId))}(a,t,r,s)}function ts(a,{instanceIdentifier:t}){const r=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),u=a.getProvider("app-check-internal");return new Ui(r,s,u,t,Rt.SDK_VERSION)}!function au(){(0,Rt._registerComponent)(new In.uA(Js,ts,"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(ei,"0.13.2",""),(0,Rt.registerVersion)(ei,"0.13.2","esm2017")}();class ga{constructor(t,r,s){this._delegate=t,this.task=r,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G{constructor(t,r){this._delegate=t,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ga(this._delegate.snapshot,this,this._ref)}then(t,r){return this._delegate.then(s=>{if(t)return t(new ga(s,this,this._ref))},r)}on(t,r,s,u){let f;return r&&(f="function"==typeof r?m=>r(new ga(m,this,this._ref)):{next:r.next?m=>r.next(new ga(m,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(t,f,s||void 0,u||void 0)}}class N{constructor(t,r){this._delegate=t,this._service=r}get prefixes(){return this._delegate.prefixes.map(t=>new oe(t,this._service))}get items(){return this._delegate.items.map(t=>new oe(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class oe{constructor(t,r){this._delegate=t,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const r=function qa(a,t){return es(a,t)}(this._delegate,t);return new oe(r,this.storage)}get root(){return new oe(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new oe(t,this.storage)}put(t,r){return this._throwIfRoot("put"),new G(function Oo(a,t,r){return function Ei(a,t,r){return a._throwIfRoot("uploadBytesResumable"),new pr(a,new Ne(t),r)}(a=(0,we.Ku)(a),t,r)}(this._delegate,t,r),this)}putString(t,r=ie.RAW,s){this._throwIfRoot("putString");const u=Ae(r,t),f=Object.assign({},s);return null==f.contentType&&null!=u.contentType&&(f.contentType=u.contentType),new G(new pr(this._delegate,new Ne(u.data,!0),f),this)}listAll(){return function Ol(a){return function Do(a){const t={prefixes:[],items:[]};return co(a,t).then(()=>t)}(a=(0,we.Ku)(a))}(this._delegate).then(t=>new N(t,this.storage))}list(t){return function Pa(a,t){return Ts(a=(0,we.Ku)(a),t)}(this._delegate,t||void 0).then(r=>new N(r,this.storage))}getMetadata(){return function Bo(a){return function Da(a){a._throwIfRoot("getMetadata");const t=No(a.storage,a._location,xr());return a.storage.makeRequestWithTokens(t,zt)}(a=(0,we.Ku)(a))}(this._delegate)}updateMetadata(t){return function su(a,t){return function cs(a,t){a._throwIfRoot("updateMetadata");const r=function Uo(a,t,r,s){const f=Et(t.fullServerUrl(),a.host,a._protocol),A=li(r,s),z=a.maxOperationRetryTime,re=new Qr(f,"PATCH",Tr(a,s),z);return re.headers={"Content-Type":"application/json; charset=utf-8"},re.body=A,re.errorHandler=xo(t),re}(a.storage,a._location,t,xr());return a.storage.makeRequestWithTokens(r,zt)}(a=(0,we.Ku)(a),t)}(this._delegate,t)}getDownloadURL(){return Ma(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ka(a){return function Zo(a){a._throwIfRoot("deleteObject");const t=function Zi(a,t){const s=Et(t.fullServerUrl(),a.host,a._protocol),A=new Qr(s,"DELETE",function m(R,z){},a.maxOperationRetryTime);return A.successCodes=[200,204],A.errorHandler=xo(t),A}(a.storage,a._location);return a.storage.makeRequestWithTokens(t,zt)}(a=(0,we.Ku)(a))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Or(t)}}class j{constructor(t,r){this.app=t,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Te(t))throw $n("ref() expected a child path but got a URL, use refFromURL instead.");return new oe(ea(this._delegate,t),this)}refFromURL(t){if(!Te(t))throw $n("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nt.makeFromUrl(t,this._delegate.host)}catch{throw $n("refFromUrl() expected a valid full URL but got an invalid one.")}return new oe(ea(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,r,s={}){ds(this._delegate,t,r,s)}}function Te(a){return/^[A-Za-z]+:\/\//.test(a)}function to(a,{instanceIdentifier:t}){const r=a.getProvider("app-compat").getImmediate(),s=a.getProvider("storage").getImmediate({identifier:t});return new j(r,s)}function ta(a){const t=function hs(a){return new Ce.c(t=>{const r=m=>t.next(m);r(a.snapshot);const f=a.on("state_changed",r);return a.then(m=>{r(m),t.complete()},m=>{r(a.snapshot),(m=>{t.error(m)})(m)}),function(){f()}}).pipe(function qn(a,t=Vn.E){return(0,ke.N)((r,s)=>{let u=null,f=null,m=null;const A=()=>{if(u){u.unsubscribe(),u=null;const z=f;f=null,s.next(z)}};function R(){const z=m+a,re=t.now();if(re<z)return u=this.schedule(void 0,z-re),void s.add(u);A()}r.subscribe((0,tr._)(s,z=>{f=z,m=t.now(),u||(u=t.schedule(R,a),s.add(u))},()=>{A(),s.complete()},void 0,()=>{f=u=null}))})}(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ft.T)(r=>r.bytesTransferred/r.totalBytes*100))}}function $s(a){return{getDownloadURL:()=>(0,Ge.of)(void 0).pipe(he.Oe,(0,et.n)(()=>a.getDownloadURL()),he.U0),getMetadata:()=>(0,Ge.of)(void 0).pipe(he.Oe,(0,et.n)(()=>a.getMetadata()),he.U0),delete:()=>(0,fe.H)(a.delete()),child:t=>$s(a.child(t)),updateMetadata:t=>(0,fe.H)(a.updateMetadata(t)),put:(t,r)=>ta(a.put(t,r)),putString:(t,r,s)=>ta(a.putString(t,r,s)),list:t=>(0,fe.H)(a.list(t)),listAll:()=>(0,fe.H)(a.listAll())}}!function no(a){const t={TaskState:M,TaskEvent:y,StringFormat:ie,Storage:j,Reference:oe};a.INTERNAL.registerComponent(new In.uA("storage-compat",to,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.3.12")}(Jn.A);const Xa=new h.nKC("angularfire2.storageBucket"),gl=new h.nKC("angularfire2.storage.maxUploadRetryTime"),Kr=new h.nKC("angularfire2.storage.maxOperationRetryTime"),fo=new h.nKC("angularfire2.storage.use-emulator");let Qi=(()=>{var a;class t{constructor(s,u,f,m,A,R,z,re,De,qe){(0,L.A)(this,"storage",void 0);const At=(0,ye.iB)(s,A,u);this.storage=(0,ye.BM)(`${At.name}.storage.${f}`,"AngularFireStorage",At.name,()=>{const Wt=A.runOutsideAngular(()=>At.storage(f||void 0)),hn=De;return hn&&Wt.useEmulator(...hn),z&&Wt.setMaxUploadRetryTime(z),re&&Wt.setMaxOperationRetryTime(re),Wt},[z,re])}ref(s){return $s(this.storage.ref(s))}refFromURL(s){return $s(this.storage.refFromURL(s))}upload(s,u,f){return $s(this.storage.ref(s)).put(u,f)}}return a=t,(0,L.A)(t,"\u0275fac",function(s){return new(s||a)(h.KVO(ye.rx),h.KVO(ye.uP,8),h.KVO(Xa,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(he.u0),h.KVO(gl,8),h.KVO(Kr,8),h.KVO(fo,8),h.KVO(he.Jv,8))}),(0,L.A)(t,"\u0275prov",h.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),t})();var xa=O(9172);function fs(){return(0,ke.N)((a,t)=>{let r,s=!1;a.subscribe((0,tr._)(t,u=>{const f=r;r=u,s&&t.next([f,u]),s=!0}))})}var Bs,Lu,Na=O(2816),Dd=O(3294),Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tc={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Ct,Ze,mt){mt||(mt=0);var St=Array(16);if("string"==typeof Ze)for(var xt=0;16>xt;++xt)St[xt]=Ze.charCodeAt(mt++)|Ze.charCodeAt(mt++)<<8|Ze.charCodeAt(mt++)<<16|Ze.charCodeAt(mt++)<<24;else for(xt=0;16>xt;++xt)St[xt]=Ze[mt++]|Ze[mt++]<<8|Ze[mt++]<<16|Ze[mt++]<<24;var Bt=Ct.g[3],pt=(Ze=Ct.g[0])+(Bt^(mt=Ct.g[1])&((xt=Ct.g[2])^Bt))+St[0]+3614090360&4294967295;pt=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=(mt=(xt=(Bt=(Ze=mt+(pt<<7&4294967295|pt>>>25))+((pt=Bt+(xt^Ze&(mt^xt))+St[1]+3905402710&4294967295)<<12&4294967295|pt>>>20))+((pt=xt+(mt^Bt&(Ze^mt))+St[2]+606105819&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Ze^xt&(Bt^Ze))+St[3]+3250441966&4294967295)<<22&4294967295|pt>>>10))+((pt=Ze+(Bt^mt&(xt^Bt))+St[4]+4118548399&4294967295)<<7&4294967295|pt>>>25))+((pt=Bt+(xt^Ze&(mt^xt))+St[5]+1200080426&4294967295)<<12&4294967295|pt>>>20))+((pt=xt+(mt^Bt&(Ze^mt))+St[6]+2821735955&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Ze^xt&(Bt^Ze))+St[7]+4249261313&4294967295)<<22&4294967295|pt>>>10))+((pt=Ze+(Bt^mt&(xt^Bt))+St[8]+1770035416&4294967295)<<7&4294967295|pt>>>25))+((pt=Bt+(xt^Ze&(mt^xt))+St[9]+2336552879&4294967295)<<12&4294967295|pt>>>20))+((pt=xt+(mt^Bt&(Ze^mt))+St[10]+4294925233&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Ze^xt&(Bt^Ze))+St[11]+2304563134&4294967295)<<22&4294967295|pt>>>10))+((pt=Ze+(Bt^mt&(xt^Bt))+St[12]+1804603682&4294967295)<<7&4294967295|pt>>>25))+((pt=Bt+(xt^Ze&(mt^xt))+St[13]+4254626195&4294967295)<<12&4294967295|pt>>>20))+((pt=xt+(mt^Bt&(Ze^mt))+St[14]+2792965006&4294967295)<<17&4294967295|pt>>>15))+((pt=mt+(Ze^xt&(Bt^Ze))+St[15]+1236535329&4294967295)<<22&4294967295|pt>>>10))+((pt=Ze+(xt^Bt&(mt^xt))+St[1]+4129170786&4294967295)<<5&4294967295|pt>>>27))+((pt=Bt+(mt^xt&(Ze^mt))+St[6]+3225465664&4294967295)<<9&4294967295|pt>>>23))+((pt=xt+(Ze^mt&(Bt^Ze))+St[11]+643717713&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(Bt^Ze&(xt^Bt))+St[0]+3921069994&4294967295)<<20&4294967295|pt>>>12))+((pt=Ze+(xt^Bt&(mt^xt))+St[5]+3593408605&4294967295)<<5&4294967295|pt>>>27))+((pt=Bt+(mt^xt&(Ze^mt))+St[10]+38016083&4294967295)<<9&4294967295|pt>>>23))+((pt=xt+(Ze^mt&(Bt^Ze))+St[15]+3634488961&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(Bt^Ze&(xt^Bt))+St[4]+3889429448&4294967295)<<20&4294967295|pt>>>12))+((pt=Ze+(xt^Bt&(mt^xt))+St[9]+568446438&4294967295)<<5&4294967295|pt>>>27))+((pt=Bt+(mt^xt&(Ze^mt))+St[14]+3275163606&4294967295)<<9&4294967295|pt>>>23))+((pt=xt+(Ze^mt&(Bt^Ze))+St[3]+4107603335&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(Bt^Ze&(xt^Bt))+St[8]+1163531501&4294967295)<<20&4294967295|pt>>>12))+((pt=Ze+(xt^Bt&(mt^xt))+St[13]+2850285829&4294967295)<<5&4294967295|pt>>>27))+((pt=Bt+(mt^xt&(Ze^mt))+St[2]+4243563512&4294967295)<<9&4294967295|pt>>>23))+((pt=xt+(Ze^mt&(Bt^Ze))+St[7]+1735328473&4294967295)<<14&4294967295|pt>>>18))+((pt=mt+(Bt^Ze&(xt^Bt))+St[12]+2368359562&4294967295)<<20&4294967295|pt>>>12))+((pt=Ze+(mt^xt^Bt)+St[5]+4294588738&4294967295)<<4&4294967295|pt>>>28))+((pt=Bt+(Ze^mt^xt)+St[8]+2272392833&4294967295)<<11&4294967295|pt>>>21))+((pt=xt+(Bt^Ze^mt)+St[11]+1839030562&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(xt^Bt^Ze)+St[14]+4259657740&4294967295)<<23&4294967295|pt>>>9))+((pt=Ze+(mt^xt^Bt)+St[1]+2763975236&4294967295)<<4&4294967295|pt>>>28))+((pt=Bt+(Ze^mt^xt)+St[4]+1272893353&4294967295)<<11&4294967295|pt>>>21))+((pt=xt+(Bt^Ze^mt)+St[7]+4139469664&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(xt^Bt^Ze)+St[10]+3200236656&4294967295)<<23&4294967295|pt>>>9))+((pt=Ze+(mt^xt^Bt)+St[13]+681279174&4294967295)<<4&4294967295|pt>>>28))+((pt=Bt+(Ze^mt^xt)+St[0]+3936430074&4294967295)<<11&4294967295|pt>>>21))+((pt=xt+(Bt^Ze^mt)+St[3]+3572445317&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(xt^Bt^Ze)+St[6]+76029189&4294967295)<<23&4294967295|pt>>>9))+((pt=Ze+(mt^xt^Bt)+St[9]+3654602809&4294967295)<<4&4294967295|pt>>>28))+((pt=Bt+(Ze^mt^xt)+St[12]+3873151461&4294967295)<<11&4294967295|pt>>>21))+((pt=xt+(Bt^Ze^mt)+St[15]+530742520&4294967295)<<16&4294967295|pt>>>16))+((pt=mt+(xt^Bt^Ze)+St[2]+3299628645&4294967295)<<23&4294967295|pt>>>9))+((pt=Ze+(xt^(mt|~Bt))+St[0]+4096336452&4294967295)<<6&4294967295|pt>>>26))+((pt=Bt+(mt^(Ze|~xt))+St[7]+1126891415&4294967295)<<10&4294967295|pt>>>22))+((pt=xt+(Ze^(Bt|~mt))+St[14]+2878612391&4294967295)<<15&4294967295|pt>>>17))+((pt=mt+(Bt^(xt|~Ze))+St[5]+4237533241&4294967295)<<21&4294967295|pt>>>11))+((pt=Ze+(xt^(mt|~Bt))+St[12]+1700485571&4294967295)<<6&4294967295|pt>>>26))+((pt=Bt+(mt^(Ze|~xt))+St[3]+2399980690&4294967295)<<10&4294967295|pt>>>22))+((pt=xt+(Ze^(Bt|~mt))+St[10]+4293915773&4294967295)<<15&4294967295|pt>>>17))+((pt=mt+(Bt^(xt|~Ze))+St[1]+2240044497&4294967295)<<21&4294967295|pt>>>11))+((pt=Ze+(xt^(mt|~Bt))+St[8]+1873313359&4294967295)<<6&4294967295|pt>>>26))+((pt=Bt+(mt^(Ze|~xt))+St[15]+4264355552&4294967295)<<10&4294967295|pt>>>22))+((pt=xt+(Ze^(Bt|~mt))+St[6]+2734768916&4294967295)<<15&4294967295|pt>>>17))+((pt=mt+(Bt^(xt|~Ze))+St[13]+1309151649&4294967295)<<21&4294967295|pt>>>11))+((Bt=(Ze=mt+((pt=Ze+(xt^(mt|~Bt))+St[4]+4149444226&4294967295)<<6&4294967295|pt>>>26))+((pt=Bt+(mt^(Ze|~xt))+St[11]+3174756917&4294967295)<<10&4294967295|pt>>>22))^((xt=Bt+((pt=xt+(Ze^(Bt|~mt))+St[2]+718787259&4294967295)<<15&4294967295|pt>>>17))|~Ze))+St[9]+3951481745&4294967295,Ct.g[0]=Ct.g[0]+Ze&4294967295,Ct.g[1]=Ct.g[1]+(xt+(pt<<21&4294967295|pt>>>11))&4294967295,Ct.g[2]=Ct.g[2]+xt&4294967295,Ct.g[3]=Ct.g[3]+Bt&4294967295}function m(Ct,Ze){this.h=Ze;for(var mt=[],St=!0,xt=Ct.length-1;0<=xt;xt--){var Bt=0|Ct[xt];St&&Bt==Ze||(mt[xt]=Bt,St=!1)}this.g=mt}(function t(Ct,Ze){function mt(){}mt.prototype=Ze.prototype,Ct.D=Ze.prototype,Ct.prototype=new mt,Ct.prototype.constructor=Ct,Ct.C=function(St,xt,Bt){for(var pt=Array(arguments.length-2),xu=2;xu<arguments.length;xu++)pt[xu-2]=arguments[xu];return Ze.prototype[xt].apply(St,pt)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Ct,Ze){void 0===Ze&&(Ze=Ct.length);for(var mt=Ze-this.blockSize,St=this.B,xt=this.h,Bt=0;Bt<Ze;){if(0==xt)for(;Bt<=mt;)u(this,Ct,Bt),Bt+=this.blockSize;if("string"==typeof Ct){for(;Bt<Ze;)if(St[xt++]=Ct.charCodeAt(Bt++),xt==this.blockSize){u(this,St),xt=0;break}}else for(;Bt<Ze;)if(St[xt++]=Ct[Bt++],xt==this.blockSize){u(this,St),xt=0;break}}this.h=xt,this.o+=Ze},s.prototype.v=function(){var Ct=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ct[0]=128;for(var Ze=1;Ze<Ct.length-8;++Ze)Ct[Ze]=0;var mt=8*this.o;for(Ze=Ct.length-8;Ze<Ct.length;++Ze)Ct[Ze]=255&mt,mt/=256;for(this.u(Ct),Ct=Array(16),Ze=mt=0;4>Ze;++Ze)for(var St=0;32>St;St+=8)Ct[mt++]=this.g[Ze]>>>St&255;return Ct};var A={};function R(Ct){return-128<=Ct&&128>Ct?function f(Ct,Ze){var mt=A;return Object.prototype.hasOwnProperty.call(mt,Ct)?mt[Ct]:mt[Ct]=Ze(Ct)}(Ct,function(Ze){return new m([0|Ze],0>Ze?-1:0)}):new m([0|Ct],0>Ct?-1:0)}function z(Ct){if(isNaN(Ct)||!isFinite(Ct))return De;if(0>Ct)return Jt(z(-Ct));for(var Ze=[],mt=1,St=0;Ct>=mt;St++)Ze[St]=Ct/mt|0,mt*=4294967296;return new m(Ze,0)}var De=R(0),qe=R(1),At=R(16777216);function Wt(Ct){if(0!=Ct.h)return!1;for(var Ze=0;Ze<Ct.g.length;Ze++)if(0!=Ct.g[Ze])return!1;return!0}function hn(Ct){return-1==Ct.h}function Jt(Ct){for(var Ze=Ct.g.length,mt=[],St=0;St<Ze;St++)mt[St]=~Ct.g[St];return new m(mt,~Ct.h).add(qe)}function Bn(Ct,Ze){return Ct.add(Jt(Ze))}function or(Ct,Ze){for(;(65535&Ct[Ze])!=Ct[Ze];)Ct[Ze+1]+=Ct[Ze]>>>16,Ct[Ze]&=65535,Ze++}function zn(Ct,Ze){this.g=Ct,this.h=Ze}function jn(Ct,Ze){if(Wt(Ze))throw Error("division by zero");if(Wt(Ct))return new zn(De,De);if(hn(Ct))return Ze=jn(Jt(Ct),Ze),new zn(Jt(Ze.g),Jt(Ze.h));if(hn(Ze))return Ze=jn(Ct,Jt(Ze)),new zn(Jt(Ze.g),Ze.h);if(30<Ct.g.length){if(hn(Ct)||hn(Ze))throw Error("slowDivide_ only works with positive integers.");for(var mt=qe,St=Ze;0>=St.l(Ct);)mt=Rr(mt),St=Rr(St);var xt=_r(mt,1),Bt=_r(St,1);for(St=_r(St,2),mt=_r(mt,2);!Wt(St);){var pt=Bt.add(St);0>=pt.l(Ct)&&(xt=xt.add(mt),Bt=pt),St=_r(St,1),mt=_r(mt,1)}return Ze=Bn(Ct,xt.j(Ze)),new zn(xt,Ze)}for(xt=De;0<=Ct.l(Ze);){for(mt=Math.max(1,Math.floor(Ct.m()/Ze.m())),St=48>=(St=Math.ceil(Math.log(mt)/Math.LN2))?1:Math.pow(2,St-48),pt=(Bt=z(mt)).j(Ze);hn(pt)||0<pt.l(Ct);)pt=(Bt=z(mt-=St)).j(Ze);Wt(Bt)&&(Bt=qe),xt=xt.add(Bt),Ct=Bn(Ct,pt)}return new zn(xt,Ct)}function Rr(Ct){for(var Ze=Ct.g.length+1,mt=[],St=0;St<Ze;St++)mt[St]=Ct.i(St)<<1|Ct.i(St-1)>>>31;return new m(mt,Ct.h)}function _r(Ct,Ze){var mt=Ze>>5;Ze%=32;for(var St=Ct.g.length-mt,xt=[],Bt=0;Bt<St;Bt++)xt[Bt]=0<Ze?Ct.i(Bt+mt)>>>Ze|Ct.i(Bt+mt+1)<<32-Ze:Ct.i(Bt+mt);return new m(xt,Ct.h)}(a=m.prototype).m=function(){if(hn(this))return-Jt(this).m();for(var Ct=0,Ze=1,mt=0;mt<this.g.length;mt++){var St=this.i(mt);Ct+=(0<=St?St:4294967296+St)*Ze,Ze*=4294967296}return Ct},a.toString=function(Ct){if(2>(Ct=Ct||10)||36<Ct)throw Error("radix out of range: "+Ct);if(Wt(this))return"0";if(hn(this))return"-"+Jt(this).toString(Ct);for(var Ze=z(Math.pow(Ct,6)),mt=this,St="";;){var xt=jn(mt,Ze).g,Bt=((0<(mt=Bn(mt,xt.j(Ze))).g.length?mt.g[0]:mt.h)>>>0).toString(Ct);if(Wt(mt=xt))return Bt+St;for(;6>Bt.length;)Bt="0"+Bt;St=Bt+St}},a.i=function(Ct){return 0>Ct?0:Ct<this.g.length?this.g[Ct]:this.h},a.l=function(Ct){return hn(Ct=Bn(this,Ct))?-1:Wt(Ct)?0:1},a.abs=function(){return hn(this)?Jt(this):this},a.add=function(Ct){for(var Ze=Math.max(this.g.length,Ct.g.length),mt=[],St=0,xt=0;xt<=Ze;xt++){var Bt=St+(65535&this.i(xt))+(65535&Ct.i(xt)),pt=(Bt>>>16)+(this.i(xt)>>>16)+(Ct.i(xt)>>>16);St=pt>>>16,mt[xt]=(pt&=65535)<<16|(Bt&=65535)}return new m(mt,-2147483648&mt[mt.length-1]?-1:0)},a.j=function(Ct){if(Wt(this)||Wt(Ct))return De;if(hn(this))return hn(Ct)?Jt(this).j(Jt(Ct)):Jt(Jt(this).j(Ct));if(hn(Ct))return Jt(this.j(Jt(Ct)));if(0>this.l(At)&&0>Ct.l(At))return z(this.m()*Ct.m());for(var Ze=this.g.length+Ct.g.length,mt=[],St=0;St<2*Ze;St++)mt[St]=0;for(St=0;St<this.g.length;St++)for(var xt=0;xt<Ct.g.length;xt++){var Bt=this.i(St)>>>16,pt=65535&this.i(St),xu=Ct.i(xt)>>>16,_p=65535&Ct.i(xt);mt[2*St+2*xt]+=pt*_p,or(mt,2*St+2*xt),mt[2*St+2*xt+1]+=Bt*_p,or(mt,2*St+2*xt+1),mt[2*St+2*xt+1]+=pt*xu,or(mt,2*St+2*xt+1),mt[2*St+2*xt+2]+=Bt*xu,or(mt,2*St+2*xt+2)}for(St=0;St<Ze;St++)mt[St]=mt[2*St+1]<<16|mt[2*St];for(St=Ze;St<2*Ze;St++)mt[St]=0;return new m(mt,0)},a.A=function(Ct){return jn(this,Ct).h},a.and=function(Ct){for(var Ze=Math.max(this.g.length,Ct.g.length),mt=[],St=0;St<Ze;St++)mt[St]=this.i(St)&Ct.i(St);return new m(mt,this.h&Ct.h)},a.or=function(Ct){for(var Ze=Math.max(this.g.length,Ct.g.length),mt=[],St=0;St<Ze;St++)mt[St]=this.i(St)|Ct.i(St);return new m(mt,this.h|Ct.h)},a.xor=function(Ct){for(var Ze=Math.max(this.g.length,Ct.g.length),mt=[],St=0;St<Ze;St++)mt[St]=this.i(St)^Ct.i(St);return new m(mt,this.h^Ct.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lu=Tc.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=z,m.fromString=function re(Ct,Ze){if(0==Ct.length)throw Error("number format error: empty string");if(2>(Ze=Ze||10)||36<Ze)throw Error("radix out of range: "+Ze);if("-"==Ct.charAt(0))return Jt(re(Ct.substring(1),Ze));if(0<=Ct.indexOf("-"))throw Error('number format error: interior "-" character');for(var mt=z(Math.pow(Ze,8)),St=De,xt=0;xt<Ct.length;xt+=8){var Bt=Math.min(8,Ct.length-xt),pt=parseInt(Ct.substring(xt,xt+Bt),Ze);8>Bt?(Bt=z(Math.pow(Ze,Bt)),St=St.j(Bt).add(z(pt))):St=(St=St.j(mt)).add(z(pt))}return St},Bs=Tc.Integer=m}).apply(typeof Oa<"u"?Oa:typeof self<"u"?self:typeof window<"u"?window:{});var ml,js,lu,ka,ma,vl,kl,Ya,Qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ra={};(function(){var a,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,V,Y){return _==Array.prototype||_==Object.prototype||(_[V]=Y.value),_},s=function r(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qa&&Qa];for(var V=0;V<_.length;++V){var Y=_[V];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function u(_,V){if(V)e:{var Y=s;_=_.split(".");for(var Re=0;Re<_.length-1;Re++){var Vt=_[Re];if(!(Vt in Y))break e;Y=Y[Vt]}(V=V(Re=Y[_=_[_.length-1]]))!=Re&&null!=V&&t(Y,_,{configurable:!0,writable:!0,value:V})}}("Array.prototype.values",function(_){return _||function(){return function f(_,V){_ instanceof String&&(_+="");var Y=0,Re=!1,Vt={next:function(){if(!Re&&Y<_.length){var Yt=Y++;return{value:V(Yt,_[Yt]),done:!1}}return Re=!0,{done:!0,value:void 0}}};return Vt[Symbol.iterator]=function(){return Vt},Vt}(this,function(V,Y){return Y})}});var m=m||{},A=this||self;function R(_){var V=typeof _;return"array"==(V="object"!=V?V:_?Array.isArray(_)?"array":V:"null")||"object"==V&&"number"==typeof _.length}function z(_){var V=typeof _;return"object"==V&&null!=_||"function"==V}function re(_,V,Y){return _.call.apply(_.bind,arguments)}function De(_,V,Y){if(!_)throw Error();if(2<arguments.length){var Re=Array.prototype.slice.call(arguments,2);return function(){var Vt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Vt,Re),_.apply(V,Vt)}}return function(){return _.apply(V,arguments)}}function qe(_,V,Y){return(qe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:De).apply(null,arguments)}function At(_,V){var Y=Array.prototype.slice.call(arguments,1);return function(){var Re=Y.slice();return Re.push.apply(Re,arguments),_.apply(this,Re)}}function Wt(_,V){function Y(){}Y.prototype=V.prototype,_.aa=V.prototype,_.prototype=new Y,_.prototype.constructor=_,_.Qb=function(Re,Vt,Yt){for(var Xn=Array(arguments.length-2),Ji=2;Ji<arguments.length;Ji++)Xn[Ji-2]=arguments[Ji];return V.prototype[Vt].apply(Re,Xn)}}function hn(_){const V=_.length;if(0<V){const Y=Array(V);for(let Re=0;Re<V;Re++)Y[Re]=_[Re];return Y}return[]}function Jt(_,V){for(let Y=1;Y<arguments.length;Y++){const Re=arguments[Y];if(R(Re)){const Vt=_.length||0,Yt=Re.length||0;_.length=Vt+Yt;for(let Xn=0;Xn<Yt;Xn++)_[Vt+Xn]=Re[Xn]}else _.push(Re)}}function or(_){return/^[\s\xa0]*$/.test(_)}function zn(){var _=A.navigator;return _&&(_=_.userAgent)?_:""}function jn(_){return jn[" "](_),_}jn[" "]=function(){};var Rr=!(-1==zn().indexOf("Gecko")||-1!=zn().toLowerCase().indexOf("webkit")&&-1==zn().indexOf("Edge")||-1!=zn().indexOf("Trident")||-1!=zn().indexOf("MSIE")||-1!=zn().indexOf("Edge"));function _r(_,V,Y){for(const Re in _)V.call(Y,_[Re],Re,_)}function Ze(_){const V={};for(const Y in _)V[Y]=_[Y];return V}const mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function St(_,V){let Y,Re;for(let Vt=1;Vt<arguments.length;Vt++){for(Y in Re=arguments[Vt],Re)_[Y]=Re[Y];for(let Yt=0;Yt<mt.length;Yt++)Y=mt[Yt],Object.prototype.hasOwnProperty.call(Re,Y)&&(_[Y]=Re[Y])}}function xt(_){var V=1;_=_.split(":");const Y=[];for(;0<V&&_.length;)Y.push(_.shift()),V--;return _.length&&Y.push(_.join(":")),Y}function Bt(_){A.setTimeout(()=>{throw _},0)}function pt(){var _=SE;let V=null;return _.g&&(V=_.g,_.g=_.g.next,_.g||(_.h=null),V.next=null),V}var _p=new class Bn{constructor(V,Y){this.i=V,this.j=Y,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}(()=>new DE,_=>_.reset());class DE{constructor(){this.next=this.g=this.h=null}set(V,Y){this.h=V,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let Bh,yp=!1,SE=new class xu{constructor(){this.h=this.g=null}add(V,Y){const Re=_p.get();Re.set(V,Y),this.h?this.h.next=Re:this.g=Re,this.h=Re}},RE=()=>{const _=A.Promise.resolve(void 0);Bh=()=>{_.then(uy)}};var uy=()=>{for(var _;_=pt();){try{_.h.call(_.g)}catch(Y){Bt(Y)}var V=_p;V.j(_),100>V.h&&(V.h++,_.next=V.g,V.g=_)}yp=!1};function Zl(){this.s=this.s,this.C=this.C}function Xs(_,V){this.type=_,this.g=this.target=V,this.defaultPrevented=!1}Zl.prototype.s=!1,Zl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Xs.prototype.h=function(){this.defaultPrevented=!0};var ST=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var _=!1,V=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Y=()=>{};A.addEventListener("test",Y,V),A.removeEventListener("test",Y,V)}catch{}return _}();function Ip(_,V){if(Xs.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Y=this.type=_.type,Re=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=V,V=_.relatedTarget){if(Rr){e:{try{jn(V.nodeName);var Vt=!0;break e}catch{}Vt=!1}Vt||(V=null)}}else"mouseover"==Y?V=_.fromElement:"mouseout"==Y&&(V=_.toElement);this.relatedTarget=V,Re?(this.clientX=void 0!==Re.clientX?Re.clientX:Re.pageX,this.clientY=void 0!==Re.clientY?Re.clientY:Re.pageY,this.screenX=Re.screenX||0,this.screenY=Re.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:RT[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Ip.aa.h.call(this)}}Wt(Ip,Xs);var RT={2:"touch",3:"pen",4:"mouse"};Ip.prototype.h=function(){Ip.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ep="closure_listenable_"+(1e6*Math.random()|0),PT=0;function MT(_,V,Y,Re,Vt){this.listener=_,this.proxy=null,this.src=V,this.type=Y,this.capture=!!Re,this.ha=Vt,this.key=++PT,this.da=this.fa=!1}function Im(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Em(_){this.src=_,this.g={},this.h=0}function cy(_,V){var Y=V.type;if(Y in _.g){var Yt,Re=_.g[Y],Vt=Array.prototype.indexOf.call(Re,V,void 0);(Yt=0<=Vt)&&Array.prototype.splice.call(Re,Vt,1),Yt&&(Im(V),0==_.g[Y].length&&(delete _.g[Y],_.h--))}}function dy(_,V,Y,Re){for(var Vt=0;Vt<_.length;++Vt){var Yt=_[Vt];if(!Yt.da&&Yt.listener==V&&Yt.capture==!!Y&&Yt.ha==Re)return Vt}return-1}Em.prototype.add=function(_,V,Y,Re,Vt){var Yt=_.toString();(_=this.g[Yt])||(_=this.g[Yt]=[],this.h++);var Xn=dy(_,V,Re,Vt);return-1<Xn?(V=_[Xn],Y||(V.fa=!1)):((V=new MT(V,this.src,Yt,!!Re,Vt)).fa=Y,_.push(V)),V};var hy="closure_lm_"+(1e6*Math.random()|0),fy={};function PE(_,V,Y,Re,Vt){if(Re&&Re.once)return py(_,V,Y,Re,Vt);if(Array.isArray(V)){for(var Yt=0;Yt<V.length;Yt++)PE(_,V[Yt],Y,Re,Vt);return null}return Y=Tm(Y),_&&_[Ep]?_.K(V,Y,z(Re)?!!Re.capture:!!Re,Vt):ME(_,V,Y,!1,Re,Vt)}function ME(_,V,Y,Re,Vt,Yt){if(!V)throw Error("Invalid event type");var Xn=z(Vt)?!!Vt.capture:!!Vt,Ji=Cm(_);if(Ji||(_[hy]=Ji=new Em(_)),(Y=Ji.add(V,Y,Re,Xn,Yt)).proxy)return Y;if(Re=function xT(){const V=NT;return function _(Y){return V.call(_.src,_.listener,Y)}}(),Y.proxy=Re,Re.src=_,Re.listener=Y,_.addEventListener)ST||(Vt=Xn),void 0===Vt&&(Vt=!1),_.addEventListener(V.toString(),Re,Vt);else if(_.attachEvent)_.attachEvent(Am(V.toString()),Re);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(Re)}return Y}function py(_,V,Y,Re,Vt){if(Array.isArray(V)){for(var Yt=0;Yt<V.length;Yt++)py(_,V[Yt],Y,Re,Vt);return null}return Y=Tm(Y),_&&_[Ep]?_.L(V,Y,z(Re)?!!Re.capture:!!Re,Vt):ME(_,V,Y,!0,Re,Vt)}function gy(_,V,Y,Re,Vt){if(Array.isArray(V))for(var Yt=0;Yt<V.length;Yt++)gy(_,V[Yt],Y,Re,Vt);else Re=z(Re)?!!Re.capture:!!Re,Y=Tm(Y),_&&_[Ep]?(_=_.i,(V=String(V).toString())in _.g&&-1<(Y=dy(Yt=_.g[V],Y,Re,Vt))&&(Im(Yt[Y]),Array.prototype.splice.call(Yt,Y,1),0==Yt.length&&(delete _.g[V],_.h--))):_&&(_=Cm(_))&&(V=_.g[V.toString()],_=-1,V&&(_=dy(V,Y,Re,Vt)),(Y=-1<_?V[_]:null)&&eu(Y))}function eu(_){if("number"!=typeof _&&_&&!_.da){var V=_.src;if(V&&V[Ep])cy(V.i,_);else{var Y=_.type,Re=_.proxy;V.removeEventListener?V.removeEventListener(Y,Re,_.capture):V.detachEvent?V.detachEvent(Am(Y),Re):V.addListener&&V.removeListener&&V.removeListener(Re),(Y=Cm(V))?(cy(Y,_),0==Y.h&&(Y.src=null,V[hy]=null)):Im(_)}}}function Am(_){return _ in fy?fy[_]:fy[_]="on"+_}function NT(_,V){if(_.da)_=!0;else{V=new Ip(V,this);var Y=_.listener,Re=_.ha||_.src;_.fa&&eu(_),_=Y.call(Re,V)}return _}function Cm(_){return(_=_[hy])instanceof Em?_:null}var my="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(_){return"function"==typeof _?_:(_[my]||(_[my]=function(V){return _.handleEvent(V)}),_[my])}function Os(){Zl.call(this),this.i=new Em(this),this.M=this,this.F=null}function ss(_,V){var Y,Re=_.F;if(Re)for(Y=[];Re;Re=Re.F)Y.push(Re);if(_=_.M,Re=V.type||V,"string"==typeof V)V=new Xs(V,_);else if(V instanceof Xs)V.target=V.target||_;else{var Vt=V;St(V=new Xs(Re,_),Vt)}if(Vt=!0,Y)for(var Yt=Y.length-1;0<=Yt;Yt--){var Xn=V.g=Y[Yt];Vt=jh(Xn,Re,!0,V)&&Vt}if(Vt=jh(Xn=V.g=_,Re,!0,V)&&Vt,Vt=jh(Xn,Re,!1,V)&&Vt,Y)for(Yt=0;Yt<Y.length;Yt++)Vt=jh(Xn=V.g=Y[Yt],Re,!1,V)&&Vt}function jh(_,V,Y,Re){if(!(V=_.i.g[String(V)]))return!0;V=V.concat();for(var Vt=!0,Yt=0;Yt<V.length;++Yt){var Xn=V[Yt];if(Xn&&!Xn.da&&Xn.capture==Y){var Ji=Xn.listener,Fs=Xn.ha||Xn.src;Xn.fa&&cy(_.i,Xn),Vt=!1!==Ji.call(Fs,Re)&&Vt}}return Vt&&!Re.defaultPrevented}function gd(_,V,Y){if("function"==typeof _)Y&&(_=qe(_,Y));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=qe(_.handleEvent,_)}return 2147483647<Number(V)?-1:A.setTimeout(_,V||0)}function vy(_){_.g=gd(()=>{_.g=null,_.i&&(_.i=!1,vy(_))},_.l);const V=_.h;_.h=null,_.m.apply(null,V)}Wt(Os,Zl),Os.prototype[Ep]=!0,Os.prototype.removeEventListener=function(_,V,Y,Re){gy(this,_,V,Y,Re)},Os.prototype.N=function(){if(Os.aa.N.call(this),this.i){var V,_=this.i;for(V in _.g){for(var Y=_.g[V],Re=0;Re<Y.length;Re++)Im(Y[Re]);delete _.g[V],_.h--}}this.F=null},Os.prototype.K=function(_,V,Y,Re){return this.i.add(String(_),V,!1,Y,Re)},Os.prototype.L=function(_,V,Y,Re){return this.i.add(String(_),V,!0,Y,Re)};class Hh extends Zl{constructor(V,Y){super(),this.m=V,this.l=Y,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:vy(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function md(_){Zl.call(this),this.h=_,this.g={}}Wt(md,Zl);var vd=[];function _d(_){_r(_.g,function(V,Y){this.g.hasOwnProperty(Y)&&eu(V)},_),_.g={}}md.prototype.N=function(){md.aa.N.call(this),_d(this)},md.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fc=A.JSON.stringify,zh=A.JSON.parse,Gh=class{stringify(_){return A.JSON.stringify(_,void 0)}parse(_){return A.JSON.parse(_,void 0)}};function pc(){}function Id(){}pc.prototype.h=null;var tu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bm(){Xs.call(this,"d")}function wm(){Xs.call(this,"c")}Wt(bm,Xs),Wt(wm,Xs);var gc={},_y=null;function Ap(){return _y=_y||new Os}function yy(_){Xs.call(this,gc.La,_)}function Wh(_){const V=Ap();ss(V,new yy(V))}function Iy(_,V){Xs.call(this,gc.STAT_EVENT,_),this.stat=V}function Qs(_){const V=Ap();ss(V,new Iy(V,_))}function Cp(_,V){Xs.call(this,gc.Ma,_),this.size=V}function fl(_,V){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){_()},V)}function Tp(){this.g=!0}function pl(_,V,Y,Re){_.info(function(){return"XMLHTTP TEXT ("+V+"): "+function kT(_,V){if(!_.g)return V;if(!V)return null;try{var Y=JSON.parse(V);if(Y)for(_=0;_<Y.length;_++)if(Array.isArray(Y[_])){var Re=Y[_];if(!(2>Re.length)){var Vt=Re[1];if(Array.isArray(Vt)&&!(1>Vt.length)){var Yt=Vt[0];if("noop"!=Yt&&"stop"!=Yt&&"close"!=Yt)for(var Xn=1;Xn<Vt.length;Xn++)Vt[Xn]=""}}}return fc(Y)}catch{return V}}(_,Y)+(Re?" "+Re:"")})}gc.La="serverreachability",Wt(yy,Xs),gc.STAT_EVENT="statevent",Wt(Iy,Xs),gc.Ma="timingevent",Wt(Cp,Xs),Tp.prototype.xa=function(){this.g=!1},Tp.prototype.info=function(){};var xE,Kh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},FT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Dm(){}function mc(_,V,Y,Re){this.j=_,this.i=V,this.l=Y,this.R=Re||1,this.U=new md(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cy}function Cy(){this.i=null,this.g="",this.h=!1}Wt(Dm,pc),Dm.prototype.g=function(){return new XMLHttpRequest},Dm.prototype.i=function(){return{}},xE=new Dm;var NE={},Vo={};function Sm(_,V,Y){_.L=1,_.v=Nm(iu(V)),_.m=Y,_.P=!0,OE(_,null)}function OE(_,V){_.F=Date.now(),Rm(_),_.A=iu(_.v);var Y=_.A,Re=_.R;Array.isArray(Re)||(Re=[String(Re)]),zE(Y.i,"t",Re),_.C=0,Y=_.j.J,_.h=new Cy,_.g=Fy(_.j,Y?V:null,!_.m),0<_.O&&(_.M=new Hh(qe(_.Y,_,_.g),_.O)),V=_.U,Y=_.g,Re=_.ca;var Vt="readystatechange";Array.isArray(Vt)||(Vt&&(vd[0]=Vt.toString()),Vt=vd);for(var Yt=0;Yt<Vt.length;Yt++){var Xn=PE(Y,Vt[Yt],Re||V.handleEvent,!1,V.h||V);if(!Xn)break;V.g[Xn.key]=Xn}V=_.H?Ze(_.H):{},_.m?(_.u||(_.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,V)):(_.u="GET",_.g.ea(_.A,_.u,null,V)),Wh(),function OT(_,V,Y,Re,Vt,Yt){_.info(function(){if(_.g)if(Yt)for(var Xn="",Ji=Yt.split("&"),Fs=0;Fs<Ji.length;Fs++){var Ti=Ji[Fs].split("=");if(1<Ti.length){var Ys=Ti[0];Ti=Ti[1];var as=Ys.split("_");Xn=2<=as.length&&"type"==as[1]?Xn+(Ys+"=")+Ti+"&":Xn+(Ys+"=redacted&")}}else Xn=null;else Xn=Yt;return"XMLHTTP REQ ("+Re+") [attempt "+Vt+"]: "+V+"\n"+Y+"\n"+Xn})}(_.i,_.u,_.A,_.l,_.R,_.m)}function kE(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function FE(_,V){var Y=_.C,Re=V.indexOf("\n",Y);return-1==Re?Vo:(Y=Number(V.substring(Y,Re)),isNaN(Y)?NE:(Re+=1)+Y>V.length?Vo:(V=V.slice(Re,Re+Y),_.C=Re+Y,V))}function Rm(_){_.S=Date.now()+_.I,Ty(_,_.I)}function Ty(_,V){if(null!=_.B)throw Error("WatchDog timer not null");_.B=fl(qe(_.ba,_),V)}function Pm(_){_.B&&(A.clearTimeout(_.B),_.B=null)}function nu(_){0==_.j.G||_.J||zm(_.j,_)}function Ed(_){Pm(_);var V=_.M;V&&"function"==typeof V.ma&&V.ma(),_.M=null,_d(_.U),_.g&&(V=_.g,_.g=null,V.abort(),V.ma())}function by(_,V){try{var Y=_.j;if(0!=Y.G&&(Y.g==_||bp(Y.h,_)))if(!_.K&&bp(Y.h,_)&&3==Y.G){try{var Re=Y.Da.g.parse(V)}catch{Re=null}if(Array.isArray(Re)&&3==Re.length){var Vt=Re;if(0==Vt[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<_.F))break e;Td(Y),$m(Y)}xy(Y),Qs(18)}}else Y.za=Vt[1],0<Y.za-Y.T&&37500>Vt[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=fl(qe(Y.Za,Y),6e3));if(1>=LT(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else bd(Y,11)}else if((_.K||Y.g==_)&&Td(Y),!or(V))for(Vt=Y.Da.g.parse(V),V=0;V<Vt.length;V++){let Ti=Vt[V];if(Y.T=Ti[0],Ti=Ti[1],2==Y.G)if("c"==Ti[0]){Y.K=Ti[1],Y.ia=Ti[2];const Ys=Ti[3];null!=Ys&&(Y.la=Ys,Y.j.info("VER="+Y.la));const as=Ti[4];null!=as&&(Y.Aa=as,Y.j.info("SVER="+Y.Aa));const Ou=Ti[5];null!=Ou&&"number"==typeof Ou&&0<Ou&&(Y.L=Re=1.5*Ou,Y.j.info("backChannelRequestTimeoutMs_="+Re)),Re=Y;const Ao=_.g;if(Ao){const kp=Ao.g?Ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kp){var Yt=Re.h;Yt.g||-1==kp.indexOf("spdy")&&-1==kp.indexOf("quic")&&-1==kp.indexOf("h2")||(Yt.j=Yt.l,Yt.g=new Set,Yt.h&&(wp(Yt,Yt.h),Yt.h=null))}if(Re.D){const Vy=Ao.g?Ao.g.getResponseHeader("X-HTTP-Session-Id"):null;Vy&&(Re.ya=Vy,mo(Re.I,Re.D,Vy))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-_.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var Xn=_;if((Re=Y).qa=ky(Re,Re.J?Re.ia:null,Re.W),Xn.K){Dy(Re.h,Xn);var Ji=Xn,Fs=Re.L;Fs&&(Ji.I=Fs),Ji.B&&(Pm(Ji),Rm(Ji)),Re.g=Xn}else QE(Re);0<Y.i.length&&jm(Y)}else"stop"!=Ti[0]&&"close"!=Ti[0]||bd(Y,7);else 3==Y.G&&("stop"==Ti[0]||"close"==Ti[0]?"stop"==Ti[0]?bd(Y,7):Py(Y):"noop"!=Ti[0]&&Y.l&&Y.l.ta(Ti),Y.v=0)}Wh()}catch{}}mc.prototype.ca=function(_){_=_.target;const V=this.M;V&&3==Ic(_)?V.j():this.Y(_)},mc.prototype.Y=function(_){try{if(_==this.g)e:{const as=Ic(this.g);var V=this.g.Ba();if(this.g.Z(),!(3>as)&&(3!=as||this.g&&(this.h.h||this.g.oa()||qT(this.g)))){this.J||4!=as||7==V||Wh(),Pm(this);var Y=this.g.Z();this.X=Y;t:if(kE(this)){var Re=qT(this.g);_="";var Vt=Re.length,Yt=4==Ic(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ed(this),nu(this);var Xn="";break t}this.h.i=new A.TextDecoder}for(V=0;V<Vt;V++)this.h.h=!0,_+=this.h.i.decode(Re[V],{stream:!(Yt&&V==Vt-1)});Re.length=0,this.h.g+=_,this.C=0,Xn=this.h.g}else Xn=this.g.oa();if(this.o=200==Y,function Ey(_,V,Y,Re,Vt,Yt,Xn){_.info(function(){return"XMLHTTP RESP ("+Re+") [ attempt "+Vt+"]: "+V+"\n"+Y+"\n"+Yt+" "+Xn})}(this.i,this.u,this.A,this.l,this.R,as,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ji,Fs=this.g;if((Ji=Fs.g?Fs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(Ji)){var Ti=Ji;break t}}Ti=null}if(!(Y=Ti)){this.o=!1,this.s=3,Qs(12),Ed(this),nu(this);break e}pl(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,by(this,Y)}if(this.P){let Ao;for(Y=!0;!this.J&&this.C<Xn.length;){if(Ao=FE(this,Xn),Ao==Vo){4==as&&(this.s=4,Qs(14),Y=!1),pl(this.i,this.l,null,"[Incomplete Response]");break}if(Ao==NE){this.s=4,Qs(15),pl(this.i,this.l,Xn,"[Invalid Chunk]"),Y=!1;break}pl(this.i,this.l,Ao,null),by(this,Ao)}if(kE(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=as||0!=Xn.length||this.h.h||(this.s=1,Qs(16),Y=!1),this.o=this.o&&Y,Y){if(0<Xn.length&&!this.W){this.W=!0;var Ys=this.j;Ys.g==this&&Ys.ba&&!Ys.M&&(Ys.j.info("Great, no buffering proxy detected. Bytes received: "+Xn.length),Ny(Ys),Ys.M=!0,Qs(11))}}else pl(this.i,this.l,Xn,"[Invalid Chunked Response]"),Ed(this),nu(this)}else pl(this.i,this.l,Xn,null),by(this,Xn);4==as&&Ed(this),this.o&&!this.J&&(4==as?zm(this.j,this):(this.o=!1,Rm(this)))}else(function XT(_){const V={};_=(_.g&&2<=Ic(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let Re=0;Re<_.length;Re++){if(or(_[Re]))continue;var Y=xt(_[Re]);const Vt=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Yt=V[Vt]||[];V[Vt]=Yt,Yt.push(Y)}!function Ct(_,V){for(const Y in _)V.call(void 0,_[Y],Y,_)}(V,function(Re){return Re.join(", ")})})(this.g),400==Y&&0<Xn.indexOf("Unknown SID")?(this.s=3,Qs(12)):(this.s=0,Qs(13)),Ed(this),nu(this)}}}catch{}},mc.prototype.cancel=function(){this.J=!0,Ed(this)},mc.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Ay(_,V){_.info(function(){return"TIMEOUT: "+V})}(this.i,this.A),2!=this.L&&(Wh(),Qs(17)),Ed(this),this.s=2,nu(this)):Ty(this,this.S-_)};var LE=class{constructor(_,V){this.g=_,this.map=V}};function VE(_){this.l=_||10,_=A.PerformanceNavigationTiming?0<(_=A.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wy(_){return!!_.h||!!_.g&&_.g.size>=_.j}function LT(_){return _.h?1:_.g?_.g.size:0}function bp(_,V){return _.h?_.h==V:!!_.g&&_.g.has(V)}function wp(_,V){_.g?_.g.add(V):_.h=V}function Dy(_,V){_.h&&_.h==V?_.h=null:_.g&&_.g.has(V)&&_.g.delete(V)}function Mm(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let V=_.i;for(const Y of _.g.values())V=V.concat(Y.D);return V}return hn(_.i)}function UE(_,V){if(_.forEach&&"function"==typeof _.forEach)_.forEach(V,void 0);else if(R(_)||"string"==typeof _)Array.prototype.forEach.call(_,V,void 0);else for(var Y=function VT(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(R(_)||"string"==typeof _){var V=[];_=_.length;for(var Y=0;Y<_;Y++)V.push(Y);return V}V=[],Y=0;for(const Re in _)V[Y++]=Re;return V}}}(_),Re=function ru(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(R(_)){for(var V=[],Y=_.length,Re=0;Re<Y;Re++)V.push(_[Re]);return V}for(Re in V=[],Y=0,_)V[Y++]=_[Re];return V}(_),Vt=Re.length,Yt=0;Yt<Vt;Yt++)V.call(void 0,Re[Yt],Y&&Y[Yt],_)}VE.prototype.cancel=function(){if(this.i=Mm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var Ml=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ks(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof ks){this.h=_.h,Dp(this,_.j),this.o=_.o,this.g=_.g,xm(this,_.s),this.l=_.l;var V=_.i,Y=new vc;Y.i=V.i,V.g&&(Y.g=new Map(V.g),Y.h=V.h),$E(this,Y),this.m=_.m}else _&&(V=String(_).match(Ml))?(this.h=!1,Dp(this,V[1]||"",!0),this.o=Ad(V[2]||""),this.g=Ad(V[3]||"",!0),xm(this,V[4]),this.l=Ad(V[5]||"",!0),$E(this,V[6]||"",!0),this.m=Ad(V[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}function iu(_){return new ks(_)}function Dp(_,V,Y){_.j=Y?Ad(V,!0):V,_.j&&(_.j=_.j.replace(/:$/,""))}function xm(_,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);_.s=V}else _.s=null}function $E(_,V,Y){V instanceof vc?(_.i=V,function jT(_,V){V&&!_.j&&(_c(_),_.i=null,_.g.forEach(function(Y,Re){var Vt=Re.toLowerCase();Re!=Vt&&(Ry(this,Re),zE(this,Vt,Y))},_)),_.j=V}(_.i,_.h)):(Y||(V=Nu(V,BE)),_.i=new vc(V,_.h))}function mo(_,V,Y){_.i.set(V,Y)}function Nm(_){return mo(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Ad(_,V){return _?V?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Nu(_,V,Y){return"string"==typeof _?(_=encodeURI(_).replace(V,UT),Y&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function UT(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}ks.prototype.toString=function(){var _=[],V=this.j;V&&_.push(Nu(V,Sy,!0),":");var Y=this.g;return(Y||"file"==V)&&(_.push("//"),(V=this.o)&&_.push(Nu(V,Sy,!0),"@"),_.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&_.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&_.push("/"),_.push(Nu(Y,"/"==Y.charAt(0)?BT:$T,!0))),(Y=this.i.toString())&&_.push("?",Y),(Y=this.m)&&_.push("#",Nu(Y,jE)),_.join("")};var Sy=/[#\/\?@]/g,$T=/[#\?:]/g,BT=/[#\?]/g,BE=/[#\?@]/g,jE=/#/g;function vc(_,V){this.h=this.g=null,this.i=_||null,this.j=!!V}function _c(_){_.g||(_.g=new Map,_.h=0,_.i&&function xl(_,V){if(_){_=_.split("&");for(var Y=0;Y<_.length;Y++){var Re=_[Y].indexOf("="),Vt=null;if(0<=Re){var Yt=_[Y].substring(0,Re);Vt=_[Y].substring(Re+1)}else Yt=_[Y];V(Yt,Vt?decodeURIComponent(Vt.replace(/\+/g," ")):"")}}}(_.i,function(V,Y){_.add(decodeURIComponent(V.replace(/\+/g," ")),Y)}))}function Ry(_,V){_c(_),V=qh(_,V),_.g.has(V)&&(_.i=null,_.h-=_.g.get(V).length,_.g.delete(V))}function HE(_,V){return _c(_),V=qh(_,V),_.g.has(V)}function zE(_,V,Y){Ry(_,V),0<Y.length&&(_.i=null,_.g.set(qh(_,V),hn(Y)),_.h+=Y.length)}function qh(_,V){return V=String(V),_.j&&(V=V.toLowerCase()),V}function yc(_,V,Y,Re,Vt){try{Vt&&(Vt.onload=null,Vt.onerror=null,Vt.onabort=null,Vt.ontimeout=null),Re(Y)}catch{}}function GT(){this.g=new Gh}function WT(_,V,Y){const Re=Y||"";try{UE(_,function(Vt,Yt){let Xn=Vt;z(Vt)&&(Xn=fc(Vt)),V.push(Re+Yt+"="+encodeURIComponent(Xn))})}catch(Vt){throw V.push(Re+"type="+encodeURIComponent("_badmap")),Vt}}function Sp(_){this.l=_.Ub||null,this.j=_.eb||!1}function Om(_,V){Os.call(this),this.D=_,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function km(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function Fm(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Rp(_)}function Rp(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function Lm(_){let V="";return _r(_,function(Y,Re){V+=Re,V+=":",V+=Y,V+="\r\n"}),V}function Vm(_,V,Y){e:{for(Re in Y){var Re=!1;break e}Re=!0}Re||(Y=Lm(Y),"string"==typeof _?null!=Y&&encodeURIComponent(String(Y)):mo(_,V,Y))}function bo(_){Os.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=vc.prototype).add=function(_,V){_c(this),this.i=null,_=qh(this,_);var Y=this.g.get(_);return Y||this.g.set(_,Y=[]),Y.push(V),this.h+=1,this},a.forEach=function(_,V){_c(this),this.g.forEach(function(Y,Re){Y.forEach(function(Vt){_.call(V,Vt,Re,this)},this)},this)},a.na=function(){_c(this);const _=Array.from(this.g.values()),V=Array.from(this.g.keys()),Y=[];for(let Re=0;Re<V.length;Re++){const Vt=_[Re];for(let Yt=0;Yt<Vt.length;Yt++)Y.push(V[Re])}return Y},a.V=function(_){_c(this);let V=[];if("string"==typeof _)HE(this,_)&&(V=V.concat(this.g.get(qh(this,_))));else{_=Array.from(this.g.values());for(let Y=0;Y<_.length;Y++)V=V.concat(_[Y])}return V},a.set=function(_,V){return _c(this),this.i=null,HE(this,_=qh(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[V]),this.h+=1,this},a.get=function(_,V){return _&&0<(_=this.V(_)).length?String(_[0]):V},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],V=Array.from(this.g.keys());for(var Y=0;Y<V.length;Y++){var Re=V[Y];const Yt=encodeURIComponent(String(Re)),Xn=this.V(Re);for(Re=0;Re<Xn.length;Re++){var Vt=Yt;""!==Xn[Re]&&(Vt+="="+encodeURIComponent(String(Xn[Re]))),_.push(Vt)}}return this.i=_.join("&")},Wt(Sp,pc),Sp.prototype.g=function(){return new Om(this.l,this.j)},Sp.prototype.i=function(_){return function(){return _}}({}),Wt(Om,Os),(a=Om.prototype).open=function(_,V){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=V,this.readyState=1,Rp(this)},a.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(V.body=_),(this.D||A).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fm(this)),this.readyState=0},a.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Rp(this)),this.g&&(this.readyState=3,Rp(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;km(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var V=_.value?_.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!_.done}))&&(this.response=this.responseText+=V)}_.done?Fm(this):Rp(this),3==this.readyState&&km(this)}},a.Ra=function(_){this.g&&(this.response=this.responseText=_,Fm(this))},a.Qa=function(_){this.g&&(this.response=_,Fm(this))},a.ga=function(){this.g&&Fm(this)},a.setRequestHeader=function(_,V){this.u.append(_,V)},a.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],V=this.h.entries();for(var Y=V.next();!Y.done;)_.push((Y=Y.value)[0]+": "+Y[1]),Y=V.next();return _.join("\r\n")},Object.defineProperty(Om.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),Wt(bo,Os);var GE=/^https?$/i,KT=["POST","PUT"];function WE(_,V){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=V,_.m=5,KE(_),Um(_)}function KE(_){_.A||(_.A=!0,ss(_,"complete"),ss(_,"error"))}function qE(_){if(_.h&&typeof m<"u"&&(!_.v[1]||4!=Ic(_)||2!=_.Z()))if(_.u&&4==Ic(_))gd(_.Ea,0,_);else if(ss(_,"readystatechange"),4==Ic(_)){_.h=!1;try{const Xn=_.Z();e:switch(Xn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var Y;if(!(Y=V)){var Re;if(Re=0===Xn){var Vt=String(_.D).match(Ml)[1]||null;!Vt&&A.self&&A.self.location&&(Vt=A.self.location.protocol.slice(0,-1)),Re=!GE.test(Vt?Vt.toLowerCase():"")}Y=Re}if(Y)ss(_,"complete"),ss(_,"success");else{_.m=6;try{var Yt=2<Ic(_)?_.g.statusText:""}catch{Yt=""}_.l=Yt+" ["+_.Z()+"]",KE(_)}}finally{Um(_)}}}function Um(_,V){if(_.g){XE(_);const Y=_.g,Re=_.v[0]?()=>{}:null;_.g=null,_.v=null,V||ss(_,"ready");try{Y.onreadystatechange=Re}catch{}}}function XE(_){_.I&&(A.clearTimeout(_.I),_.I=null)}function Ic(_){return _.g?_.g.readyState:0}function qT(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Pp(_,V,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[_]||V}function Mp(_){this.Aa=0,this.i=[],this.j=new Tp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pp("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pp("baseRetryDelayMs",5e3,_),this.cb=Pp("retryDelaySeedMs",1e4,_),this.Wa=Pp("forwardChannelMaxRetries",2,_),this.wa=Pp("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new VE(_&&_.concurrentRequestLimit),this.Da=new GT,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Py(_){if(Bm(_),3==_.G){var V=_.U++,Y=iu(_.I);if(mo(Y,"SID",_.K),mo(Y,"RID",V),mo(Y,"TYPE","terminate"),Cd(_,Y),(V=new mc(_,_.j,V)).L=2,V.v=Nm(iu(Y)),Y=!1,A.navigator&&A.navigator.sendBeacon)try{Y=A.navigator.sendBeacon(V.v.toString(),"")}catch{}!Y&&A.Image&&((new Image).src=V.v,Y=!0),Y||(V.g=Fy(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Rm(V)}YE(_)}function $m(_){_.g&&(Ny(_),_.g.cancel(),_.g=null)}function Bm(_){$m(_),_.u&&(A.clearTimeout(_.u),_.u=null),Td(_),_.h.cancel(),_.s&&("number"==typeof _.s&&A.clearTimeout(_.s),_.s=null)}function jm(_){if(!wy(_.h)&&!_.s){_.s=!0;var V=_.Ga;Bh||RE(),yp||(Bh(),yp=!0),SE.add(V,_),_.B=0}}function xp(_,V){var Y;Y=V?V.l:_.U++;const Re=iu(_.I);mo(Re,"SID",_.K),mo(Re,"RID",Y),mo(Re,"AID",_.T),Cd(_,Re),_.m&&_.o&&Vm(Re,_.m,_.o),Y=new mc(_,_.j,Y,_.B+1),null===_.m&&(Y.H=_.o),V&&(_.i=V.D.concat(_.i)),V=My(_,Y,1e3),Y.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),wp(_.h,Y),Sm(Y,Re,V)}function Cd(_,V){_.H&&_r(_.H,function(Y,Re){mo(V,Re,Y)}),_.l&&UE({},function(Y,Re){mo(V,Re,Y)})}function My(_,V,Y){Y=Math.min(_.i.length,Y);var Re=_.l?qe(_.l.Na,_.l,_):null;e:{var Vt=_.i;let Yt=-1;for(;;){const Xn=["count="+Y];-1==Yt?0<Y?(Yt=Vt[0].g,Xn.push("ofs="+Yt)):Yt=0:Xn.push("ofs="+Yt);let Ji=!0;for(let Fs=0;Fs<Y;Fs++){let Ti=Vt[Fs].g;const Ys=Vt[Fs].map;if(Ti-=Yt,0>Ti)Yt=Math.max(0,Vt[Fs].g-100),Ji=!1;else try{WT(Ys,Xn,"req"+Ti+"_")}catch{Re&&Re(Ys)}}if(Ji){Re=Xn.join("&");break e}}}return _=_.i.splice(0,Y),V.D=_,Re}function QE(_){if(!_.g&&!_.u){_.Y=1;var V=_.Fa;Bh||RE(),yp||(Bh(),yp=!0),SE.add(V,_),_.v=0}}function xy(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=fl(qe(_.Fa,_),Oy(_,_.v)),_.v++,0))}function Ny(_){null!=_.A&&(A.clearTimeout(_.A),_.A=null)}function Np(_){_.g=new mc(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var V=iu(_.qa);mo(V,"RID","rpc"),mo(V,"SID",_.K),mo(V,"AID",_.T),mo(V,"CI",_.F?"0":"1"),!_.F&&_.ja&&mo(V,"TO",_.ja),mo(V,"TYPE","xmlhttp"),Cd(_,V),_.m&&_.o&&Vm(V,_.m,_.o),_.L&&(_.g.I=_.L);var Y=_.g;_=_.ia,Y.L=1,Y.v=Nm(iu(V)),Y.m=null,Y.P=!0,OE(Y,_)}function Td(_){null!=_.C&&(A.clearTimeout(_.C),_.C=null)}function zm(_,V){var Y=null;if(_.g==V){Td(_),Ny(_),_.g=null;var Re=2}else{if(!bp(_.h,V))return;Y=V.D,Dy(_.h,V),Re=1}if(0!=_.G)if(V.o)if(1==Re){Y=V.m?V.m.length:0,V=Date.now()-V.F;var Vt=_.B;ss(Re=Ap(),new Cp(Re,Y)),jm(_)}else QE(_);else if(3==(Vt=V.s)||0==Vt&&0<V.X||!(1==Re&&function Hm(_,V){return!(LT(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=V.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=fl(qe(_.Ga,_,V),Oy(_,_.B)),_.B++,0)))}(_,V)||2==Re&&xy(_)))switch(Y&&0<Y.length&&(V=_.h,V.i=V.i.concat(Y)),Vt){case 1:bd(_,5);break;case 4:bd(_,10);break;case 3:bd(_,6);break;default:bd(_,2)}}function Oy(_,V){let Y=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Y*=2),Y*V}function bd(_,V){if(_.j.info("Error code "+V),2==V){var Y=qe(_.fb,_),Re=_.Xa;const Vt=!Re;Re=new ks(Re||"//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||Dp(Re,"https"),Nm(Re),Vt?function HT(_,V){const Y=new Tp;if(A.Image){const Re=new Image;Re.onload=At(yc,Y,"TestLoadImage: loaded",!0,V,Re),Re.onerror=At(yc,Y,"TestLoadImage: error",!1,V,Re),Re.onabort=At(yc,Y,"TestLoadImage: abort",!1,V,Re),Re.ontimeout=At(yc,Y,"TestLoadImage: timeout",!1,V,Re),A.setTimeout(function(){Re.ontimeout&&Re.ontimeout()},1e4),Re.src=_}else V(!1)}(Re.toString(),Y):function zT(_,V){new Tp;const Re=new AbortController,Vt=setTimeout(()=>{Re.abort(),yc(0,0,!1,V)},1e4);fetch(_,{signal:Re.signal}).then(Yt=>{clearTimeout(Vt),yc(0,0,!!Yt.ok,V)}).catch(()=>{clearTimeout(Vt),yc(0,0,!1,V)})}(Re.toString(),Y)}else Qs(2);_.G=0,_.l&&_.l.sa(V),YE(_),Bm(_)}function YE(_){if(_.G=0,_.ka=[],_.l){const V=Mm(_.h);(0!=V.length||0!=_.i.length)&&(Jt(_.ka,V),Jt(_.ka,_.i),_.h.i.length=0,hn(_.i),_.i.length=0),_.l.ra()}}function ky(_,V,Y){var Re=Y instanceof ks?iu(Y):new ks(Y);if(""!=Re.g)V&&(Re.g=V+"."+Re.g),xm(Re,Re.s);else{var Vt=A.location;Re=Vt.protocol,V=V?V+"."+Vt.hostname:Vt.hostname,Vt=+Vt.port;var Yt=new ks(null);Re&&Dp(Yt,Re),V&&(Yt.g=V),Vt&&xm(Yt,Vt),Y&&(Yt.l=Y),Re=Yt}return V=_.ya,(Y=_.D)&&V&&mo(Re,Y,V),mo(Re,"VER",_.la),Cd(_,Re),Re}function Fy(_,V,Y){if(V&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(V=new bo(_.Ca&&!_.pa?new Sp({eb:Y}):_.pa)).Ha(_.J),V}function Ly(){}function ou(){}function Ha(_,V){Os.call(this),this.g=new Mp(V),this.l=_,this.h=V&&V.messageUrlParams||null,_=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(_?_["X-WebChannel-Content-Type"]=V.messageContentType:_={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(_?_["X-WebChannel-Client-Profile"]=V.va:_={"X-WebChannel-Client-Profile":V.va}),this.g.S=_,(_=V&&V.Sb)&&!or(_)&&(this.g.m=_),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!or(V)&&(this.g.D=V,null!==(_=this.h)&&V in _&&V in(_=this.h)&&delete _[V]),this.j=new Op(this)}function JE(_){bm.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var V=_.__sm__;if(V){e:{for(const Y in V){_=Y;break e}_=void 0}(this.i=_)&&(_=this.i,V=null!==V&&_ in V?V[_]:void 0),this.data=V}else this.data=_}function wd(){wm.call(this),this.status=1}function Op(_){this.g=_}(a=bo.prototype).Ha=function(_){this.J=_},a.ea=function(_,V,Y,Re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);V=V?V.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xE.g(),this.v=function yd(_){return _.h||(_.h=_.i())}(this.o?this.o:xE),this.g.onreadystatechange=qe(this.Ea,this);try{this.B=!0,this.g.open(V,String(_),!0),this.B=!1}catch(Yt){return void WE(this,Yt)}if(_=Y||"",Y=new Map(this.headers),Re)if(Object.getPrototypeOf(Re)===Object.prototype)for(var Vt in Re)Y.set(Vt,Re[Vt]);else{if("function"!=typeof Re.keys||"function"!=typeof Re.get)throw Error("Unknown input type for opt_headers: "+String(Re));for(const Yt of Re.keys())Y.set(Yt,Re.get(Yt))}Re=Array.from(Y.keys()).find(Yt=>"content-type"==Yt.toLowerCase()),Vt=A.FormData&&_ instanceof A.FormData,!(0<=Array.prototype.indexOf.call(KT,V,void 0))||Re||Vt||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Yt,Xn]of Y)this.g.setRequestHeader(Yt,Xn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XE(this),this.u=!0,this.g.send(_),this.u=!1}catch(Yt){WE(this,Yt)}},a.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ss(this,"complete"),ss(this,"abort"),Um(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Um(this,!0)),bo.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?qE(this):this.bb())},a.bb=function(){qE(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<Ic(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(_){if(this.g){var V=this.g.responseText;return _&&0==V.indexOf(_)&&(V=V.substring(_.length)),zh(V)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Mp.prototype).la=8,a.G=1,a.connect=function(_,V,Y,Re){Qs(0),this.W=_,this.H=V||{},Y&&void 0!==Re&&(this.H.OSID=Y,this.H.OAID=Re),this.F=this.X,this.I=ky(this,null,this.W),jm(this)},a.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Vt=new mc(this,this.j,_);let Yt=this.o;if(this.S&&(Yt?(Yt=Ze(Yt),St(Yt,this.S)):Yt=this.S),null!==this.m||this.O||(Vt.H=Yt,Yt=null),this.P)e:{for(var V=0,Y=0;Y<this.i.length;Y++){var Re=this.i[Y];if(void 0===(Re="__data__"in Re.map&&"string"==typeof(Re=Re.map.__data__)?Re.length:void 0))break;if(4096<(V+=Re)){V=Y;break e}if(4096===V||Y===this.i.length-1){V=Y+1;break e}}V=1e3}else V=1e3;V=My(this,Vt,V),mo(Y=iu(this.I),"RID",_),mo(Y,"CVER",22),this.D&&mo(Y,"X-HTTP-Session-Id",this.D),Cd(this,Y),Yt&&(this.O?V="headers="+encodeURIComponent(String(Lm(Yt)))+"&"+V:this.m&&Vm(Y,this.m,Yt)),wp(this.h,Vt),this.Ua&&mo(Y,"TYPE","init"),this.P?(mo(Y,"$req",V),mo(Y,"SID","null"),Vt.T=!0,Sm(Vt,Y,null)):Sm(Vt,Y,V),this.G=2}}else 3==this.G&&(_?xp(this,_):0==this.i.length||wy(this.h)||xp(this))},a.Fa=function(){if(this.u=null,Np(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=fl(qe(this.ab,this),_)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qs(10),$m(this),Np(this))},a.Za=function(){null!=this.C&&(this.C=null,$m(this),xy(this),Qs(19))},a.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Qs(2)):(this.j.info("Failed to ping google.com"),Qs(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=Ly.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},ou.prototype.g=function(_,V){return new Ha(_,V)},Wt(Ha,Os),Ha.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ha.prototype.close=function(){Py(this.g)},Ha.prototype.o=function(_){var V=this.g;if("string"==typeof _){var Y={};Y.__data__=_,_=Y}else this.u&&((Y={}).__data__=fc(_),_=Y);V.i.push(new LE(V.Ya++,_)),3==V.G&&jm(V)},Ha.prototype.N=function(){this.g.l=null,delete this.j,Py(this.g),delete this.g,Ha.aa.N.call(this)},Wt(JE,bm),Wt(wd,wm),Wt(Op,Ly),Op.prototype.ua=function(){ss(this.g,"a")},Op.prototype.ta=function(_){ss(this.g,new JE(_))},Op.prototype.sa=function(_){ss(this.g,new wd)},Op.prototype.ra=function(){ss(this.g,"b")},ou.prototype.createWebChannel=ou.prototype.g,Ha.prototype.send=Ha.prototype.o,Ha.prototype.open=Ha.prototype.m,Ha.prototype.close=Ha.prototype.close,Ya=ra.createWebChannelTransport=function(){return new ou},kl=ra.getStatEventTarget=function(){return Ap()},vl=ra.Event=gc,ma=ra.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kh.NO_ERROR=0,Kh.TIMEOUT=8,Kh.HTTP_ERROR=6,ka=ra.ErrorCode=Kh,FT.COMPLETE="complete",lu=ra.EventType=FT,Id.EventType=tu,tu.OPEN="a",tu.CLOSE="b",tu.ERROR="c",tu.MESSAGE="d",Os.prototype.listen=Os.prototype.K,js=ra.WebChannel=Id,ra.FetchXmlHttpFactory=Sp,bo.prototype.listenOnce=bo.prototype.L,bo.prototype.getLastError=bo.prototype.Ka,bo.prototype.getLastErrorCode=bo.prototype.Ba,bo.prototype.getStatus=bo.prototype.Z,bo.prototype.getResponseJson=bo.prototype.Oa,bo.prototype.getResponseText=bo.prototype.oa,bo.prototype.send=bo.prototype.ea,bo.prototype.setWithCredentials=bo.prototype.Ha,ml=ra.XhrIo=bo}).apply(typeof Qa<"u"?Qa:typeof self<"u"?self:typeof window<"u"?window:{});const bc="@firebase/firestore";class $i{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");let ia="10.14.0";const ro=new jt.Vy("@firebase/firestore");function ko(){return ro.logLevel}function Cn(a,...t){if(ro.logLevel<=jt.$b.DEBUG){const r=t.map(oa);ro.debug(`Firestore (${ia}): ${a}`,...r)}}function xi(a,...t){if(ro.logLevel<=jt.$b.ERROR){const r=t.map(oa);ro.error(`Firestore (${ia}): ${a}`,...r)}}function So(a,...t){if(ro.logLevel<=jt.$b.WARN){const r=t.map(oa);ro.warn(`Firestore (${ia}): ${a}`,...r)}}function oa(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function ir(a="Unexpected state"){const t=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+a;throw xi(t),new Error(t)}function ar(a,t){a||ir()}function Un(a,t){return a}const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends we.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class T{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class H{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Oe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r($i.UNAUTHENTICATED))}shutdown(){}}class B{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ge{constructor(t){this.t=t,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var s=this;ar(void 0===this.o);let u=this.i;const f=z=>this.i!==u?(u=this.i,r(z)):Promise.resolve();let m=new T;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new T,t.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const z=m;t.enqueueRetryable((0,c.A)(function*(){yield z.promise,yield f(s.currentUser)}))},R=z=>{Cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(z=>R(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?R(z):(Cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new T)}},0),A()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(Cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ar("string"==typeof s.accessToken),new H(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ar(null===t||"string"==typeof t),new $i(t)}}class je{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qt{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new je(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class br{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){ar(void 0===this.o);const s=f=>{null!=f.error&&Cn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,Cn("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{Cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):Cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(ar("string"==typeof r.token),this.R=r.token,new Tn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ii(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class qr{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=ii(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Zn(a,t){return a<t?-1:a>t?1:0}function oi(a,t,r){return a.length===t.length&&a.every((s,u)=>r(s,t[u]))}function Ni(a){return a+"\0"}class wr{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _n(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wr.fromMillis(Date.now())}static fromDate(t){return wr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*r));return new wr(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zn(this.nanoseconds,t.nanoseconds):Zn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new kn(t)}static min(){return new kn(new wr(0,0))}static max(){return new kn(new wr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class wn{constructor(t,r,s){void 0===r?r=0:r>t.length&&ir(),void 0===s?s=t.length-r:s>t.length-r&&ir(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return 0===wn.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof wn?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let u=0;u<s;u++){const f=t.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Sn extends wn{construct(t,r,s){return new Sn(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new _n(Gt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new Sn(r)}static emptyPath(){return new Sn([])}}const Bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hr extends wn{construct(t,r,s){return new Hr(t,r,s)}static isValidIdentifier(t){return Bi.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hr(["__name__"])}static fromServerFormat(t){const r=[];let s="",u=0;const f=()=>{if(0===s.length)throw new _n(Gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;u<t.length;){const A=t[u];if("\\"===A){if(u+1===t.length)throw new _n(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const R=t[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new _n(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=R,u+=2}else"`"===A?(m=!m,u++):"."!==A||m?(s+=A,u++):(f(),u++)}if(f(),m)throw new _n(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hr(r)}static emptyPath(){return new Hr([])}}class Dn{constructor(t){this.path=t}static fromPath(t){return new Dn(Sn.fromString(t))}static fromName(t){return new Dn(Sn.fromString(t).popFirst(5))}static empty(){return new Dn(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return Sn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dn(new Sn(t.slice()))}}class Wi{constructor(t,r,s,u){this.indexId=t,this.collectionGroup=r,this.fields=s,this.indexState=u}}function ps(a){return a.fields.find(t=>2===t.kind)}function pi(a){return a.fields.filter(t=>2!==t.kind)}Wi.UNKNOWN_ID=-1;class yo{constructor(t,r){this.fieldPath=t,this.kind=r}}class sa{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new sa(0,di.min())}}function Hs(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=kn.fromTimestamp(1e9===s?new wr(r+1,0):new wr(r,s));return new di(u,Dn.empty(),t)}function Fl(a){return new di(a.readTime,a.key,-1)}class di{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new di(kn.min(),Dn.empty(),-1)}static max(){return new di(kn.max(),Dn.empty(),-1)}}function Il(a,t){let r=a.readTime.compareTo(t.readTime);return 0!==r?r:(r=Dn.comparator(a.documentKey,t.documentKey),0!==r?r:Zn(a.largestBatchId,t.largestBatchId))}const Ja="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gs(a){return va.apply(this,arguments)}function va(){return(va=(0,c.A)(function*(a){if(a.code!==Gt.FAILED_PRECONDITION||a.message!==Ja)throw a;Cn("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ir(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Pt((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Pt?r:Pt.resolve(r)}catch(r){return Pt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Pt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Pt.reject(r)}static resolve(t){return new Pt((r,s)=>{r(t)})}static reject(t){return new Pt((r,s)=>{s(t)})}static waitFor(t){return new Pt((r,s)=>{let u=0,f=0,m=!1;t.forEach(A=>{++u,A.next(()=>{++f,m&&f===u&&r()},R=>s(R))}),m=!0,f===u&&r()})}static or(t){let r=Pt.resolve(!1);for(const s of t)r=r.next(u=>u?Pt.resolve(u):s());return r}static forEach(t,r){const s=[];return t.forEach((u,f)=>{s.push(r.call(this,u,f))}),this.waitFor(s)}static mapArray(t,r){return new Pt((s,u)=>{const f=t.length,m=new Array(f);let A=0;for(let R=0;R<f;R++){const z=R;r(t[z]).next(re=>{m[z]=re,++A,A===f&&s(m)},re=>u(re))}})}static doWhile(t,r){return new Pt((s,u)=>{const f=()=>{!0===t()?r().next(()=>{f()},u):s()};f()})}}class Oi{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new T,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new _a(t,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Za(s.target.error);this.V.reject(new _a(t,u))}}static open(t,r,s,u){try{return new Oi(r,t.transaction(u,s))}catch(f){throw new _a(r,f)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Cn("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new Dc(r)}}class Io{constructor(t,r,s){this.name=t,this.version=r,this.p=s,12.2===Io.S((0,we.ZQ)())&&xi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Cn("SimpleDb","Removing database:",t),bs(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,we.zW)())return!1;if(Io.v())return!0;const t=(0,we.ZQ)(),r=Io.S(t),s=0<r&&r<10,u=hr(t),f=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||f)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var r=this;return(0,c.A)(function*(){return r.db||(Cn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{s(m.target.result)},f.onblocked=()=>{u(new _a(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const A=m.target.error;u("VersionError"===A.name?new _n(Gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new _n(Gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new _a(t,A))},f.onupgradeneeded=m=>{Cn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{Cn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,s,u){var f=this;return(0,c.A)(function*(){const m="readonly"===r;let A=0;for(;;){++A;try{f.db=yield f.M(t);const R=Oi.open(f.db,t,m?"readonly":"readwrite",s),z=u(R).next(re=>(R.g(),re)).catch(re=>(R.abort(re),Pt.reject(re))).toPromise();return z.catch(()=>{}),yield R.m,z}catch(R){const z=R,re="FirebaseError"!==z.name&&A<3;if(Cn("SimpleDb","Transaction failed with error:",z.message,"Retrying:",re),f.close(),!re)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function hr(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class wc{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return bs(this.B.delete())}}class _a extends _n{constructor(t,r){super(Gt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function jo(a){return"IndexedDbTransactionError"===a.name}class Dc{constructor(t){this.store=t}put(t,r){let s;return void 0!==r?(Cn("SimpleDb","PUT",this.store.name,t,r),s=this.store.put(r,t)):(Cn("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),bs(s)}add(t){return Cn("SimpleDb","ADD",this.store.name,t,t),bs(this.store.add(t))}get(t){return bs(this.store.get(t)).next(r=>(void 0===r&&(r=null),Cn("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return Cn("SimpleDb","DELETE",this.store.name,t),bs(this.store.delete(t))}count(){return Cn("SimpleDb","COUNT",this.store.name),bs(this.store.count())}U(t,r){const s=this.options(t,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new Pt((m,A)=>{f.onerror=R=>{A(R.target.error)},f.onsuccess=R=>{m(R.target.result)}})}{const f=this.cursor(s),m=[];return this.W(f,(A,R)=>{m.push(R)}).next(()=>m)}}G(t,r){const s=this.store.getAll(t,null===r?void 0:r);return new Pt((u,f)=>{s.onerror=m=>{f(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}j(t,r){Cn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,r);s.H=!1;const u=this.cursor(s);return this.W(u,(f,m,A)=>A.delete())}J(t,r){let s;r?s=t:(s={},r=t);const u=this.cursor(s);return this.W(u,r)}Y(t){const r=this.cursor({});return new Pt((s,u)=>{r.onerror=f=>{const m=Za(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?t(m.primaryKey,m.value).next(A=>{A?m.continue():s()}):s()}})}W(t,r){const s=[];return new Pt((u,f)=>{t.onerror=m=>{f(m.target.error)},t.onsuccess=m=>{const A=m.target.result;if(!A)return void u();const R=new wc(A),z=r(A.primaryKey,A.value,R);if(z instanceof Pt){const re=z.catch(De=>(R.done(),Pt.reject(De)));s.push(re)}R.isDone?u():null===R.K?A.continue():A.continue(R.K)}}).next(()=>Pt.waitFor(s))}options(t,r){let s;return void 0!==t&&("string"==typeof t?s=t:r=t),{index:s,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,r):s.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function bs(a){return new Pt((t,r)=>{a.onsuccess=s=>{t(s.target.result)},a.onerror=s=>{const u=Za(s.target.error);r(u)}})}let oo=!1;function Za(a){const t=Io.S((0,we.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new _n("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oo||(oo=!0,setTimeout(()=>{throw s},0)),s}}return a}class po{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;Cn("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,c.A)(function*(){r.task=null;try{Cn("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){jo(s)?Cn("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield gs(s)}yield r.X(6e4)}))}}class Eo{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,t))})()}te(t,r){const s=new Set;let u=r,f=!0;return Pt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(m=>{if(null!==m&&!s.has(m))return Cn("IndexBackfiller",`Processing collection: ${m}`),this.ne(t,m,u).next(A=>{u-=A,s.add(m)});f=!1})).next(()=>r-u)}ne(t,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(u=>this.localStore.localDocuments.getNextDocuments(t,r,u,s).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(t,m).next(()=>this.re(u,f)).next(A=>(Cn("IndexBackfiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(t,r,A))).next(()=>m.size)}))}re(t,r){let s=t;return r.changes.forEach((u,f)=>{const m=Fl(f);Il(m,s)>0&&(s=m)}),new di(s.readTime,s.documentKey,Math.max(r.batchId,t.largestBatchId))}}let Ro=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function aa(a){return null==a}function ya(a){return 0===a&&1/a==-1/0}function ws(a){return"number"==typeof a&&Number.isInteger(a)&&!ya(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function so(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=uu(t)),t=Rd(a.get(r),t);return uu(t)}function Rd(a,t){let r=t;const s=a.length;for(let u=0;u<s;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function uu(a){return a+"\x01\x01"}function Ds(a){const t=a.length;if(ar(t>=2),2===t)return ar("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Sn.emptyPath();const r=t-2,s=[];let u="";for(let f=0;f<t;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&ir(),a.charAt(m+1)){case"\x01":const A=a.substring(f,m);let R;0===u.length?R=A:(u+=A,R=u,u=""),s.push(R);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:ir()}f=m+2}return new Sn(s)}const Pd=["userId","batchId"];function Sc(a,t){return[a,so(t)]}function Md(a,t,r){return[a,so(t),r]}const Vp={},Km=["prefixPath","collectionGroup","readTime","documentId"],qm=["prefixPath","collectionGroup","documentId"],E=["collectionGroup","readTime","prefixPath","documentId"],S=["canonicalId","targetId"],k=["targetId","path"],D=["path","targetId"],U=["collectionId","parent"],pe=["indexId","uid"],Ee=["uid","sequenceNumber"],bt=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cn=["indexId","uid","orderedDocumentKey"],Mt=["userId","collectionPath","documentId"],Hn=["userId","collectionPath","largestBatchId"],Nr=["userId","collectionGroup","largestBatchId"],gi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jr=[...gi,"documentOverlays"],ao=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ns=ao,Po=[...ns,"indexConfiguration","indexState","indexEntries"],El=Po,rs=[...Po,"globals"];class Ll extends zs{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Yi(a,t){const r=Un(a);return Io.F(r._e,t)}function cu(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function la(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function Vu(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class Ki{constructor(t,r){this.comparator=t,this.root=r||Ho.EMPTY}insert(t,r){return new Ki(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ho.BLACK,null,null))}remove(t){return new Ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ho.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ss(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ss(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ss(this.root,t,this.comparator,!0)}}class Ss{constructor(t,r,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=r?s(t.key,r):1,r&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ho{constructor(t,r,s,u,f){this.key=t,this.value=r,this.color=null!=s?s:Ho.RED,this.left=null!=u?u:Ho.EMPTY,this.right=null!=f?f:Ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,u,f){return new Ho(null!=t?t:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,r,s),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ho.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(t,u.key)){if(u.right.isEmpty())return Ho.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ir();const t=this.left.check();if(t!==this.right.check())throw ir();return t+(this.isRed()?0:1)}}Ho.EMPTY=null,Ho.RED=!0,Ho.BLACK=!1,Ho.EMPTY=new class{constructor(){this.size=0}get key(){throw ir()}get value(){throw ir()}get color(){throw ir()}get left(){throw ir()}get right(){throw ir()}copy(t,r,s,u,f){return this}insert(t,r,s){return new Ho(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(t){this.comparator=t,this.data=new Ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new mi(this.data.getIterator())}getIteratorFrom(t){return new mi(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new yi(this.comparator);return r.data=t,r}}class mi{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Vl(a){return a.hasNext()?a.getNext():void 0}class zo{constructor(t){this.fields=t,t.sort(Hr.comparator)}static empty(){return new zo([])}unionWith(t){let r=new yi(Hr.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new zo(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return oi(this.fields,t.fields,(r,s)=>r.isEqual(s))}}class ms extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ji{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new ms("Invalid base64 string: "+f):f}}(t);return new ji(r)}static fromUint8Array(t){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(t);return new ji(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const du=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(a){if(ar(!!a),"string"==typeof a){let t=0;const r=du.exec(a);if(ar(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:qi(a.seconds),nanos:qi(a.nanos)}}function qi(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Fa(a){return"string"==typeof a?ji.fromBase64String(a):ji.fromUint8Array(a)}function Uu(a){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==a?void 0:a.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Rs(a){const t=a.mapValue.fields.__previous_value__;return Uu(t)?Rs(t):t}function Ul(a){const t=To(a.mapValue.fields.__local_write_time__.timestampValue);return new wr(t.seconds,t.nanos)}class xd{constructor(t,r,s,u,f,m,A,R,z){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=A,this.longPollingOptions=R,this.useFetchStreams=z}}class Al{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Al&&t.projectId===this.projectId&&t.database===this.database}}const Ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$u={nullValue:"NULL_VALUE"};function La(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Uu(a)?4:Up(a)?9007199254740991:Od(a)?10:11:ir()}function Ms(a,t){if(a===t)return!0;const r=La(a);if(r!==La(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ul(a).isEqual(Ul(t));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=To(u.timestampValue),A=To(f.timestampValue);return m.seconds===A.seconds&&m.nanos===A.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return f=t,Fa(a.bytesValue).isEqual(Fa(f.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(u,f){return qi(u.geoPointValue.latitude)===qi(f.geoPointValue.latitude)&&qi(u.geoPointValue.longitude)===qi(f.geoPointValue.longitude)}(a,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return qi(u.integerValue)===qi(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=qi(u.doubleValue),A=qi(f.doubleValue);return m===A?ya(m)===ya(A):isNaN(m)&&isNaN(A)}return!1}(a,t);case 9:return oi(a.arrayValue.values||[],t.arrayValue.values||[],Ms);case 10:case 11:return function(u,f){const m=u.mapValue.fields||{},A=f.mapValue.fields||{};if(cu(m)!==cu(A))return!1;for(const R in m)if(m.hasOwnProperty(R)&&(void 0===A[R]||!Ms(m[R],A[R])))return!1;return!0}(a,t);default:return ir()}var f}function Cl(a,t){return void 0!==(a.values||[]).find(r=>Ms(r,t))}function Go(a,t){if(a===t)return 0;const r=La(a),s=La(t);if(r!==s)return Zn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Zn(a.booleanValue,t.booleanValue);case 2:return function(f,m){const A=qi(f.integerValue||f.doubleValue),R=qi(m.integerValue||m.doubleValue);return A<R?-1:A>R?1:A===R?0:isNaN(A)?isNaN(R)?0:-1:1}(a,t);case 3:return Ur(a.timestampValue,t.timestampValue);case 4:return Ur(Ul(a),Ul(t));case 5:return Zn(a.stringValue,t.stringValue);case 6:return function(f,m){const A=Fa(f),R=Fa(m);return A.compareTo(R)}(a.bytesValue,t.bytesValue);case 7:return function(f,m){const A=f.split("/"),R=m.split("/");for(let z=0;z<A.length&&z<R.length;z++){const re=Zn(A[z],R[z]);if(0!==re)return re}return Zn(A.length,R.length)}(a.referenceValue,t.referenceValue);case 8:return function(f,m){const A=Zn(qi(f.latitude),qi(m.latitude));return 0!==A?A:Zn(qi(f.longitude),qi(m.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return Bu(a.arrayValue,t.arrayValue);case 10:return function(f,m){var A,R,z,re;const At=null===(A=(f.fields||{}).value)||void 0===A?void 0:A.arrayValue,Wt=null===(R=(m.fields||{}).value)||void 0===R?void 0:R.arrayValue,hn=Zn((null===(z=null==At?void 0:At.values)||void 0===z?void 0:z.length)||0,(null===(re=null==Wt?void 0:Wt.values)||void 0===re?void 0:re.length)||0);return 0!==hn?hn:Bu(At,Wt)}(a.mapValue,t.mapValue);case 11:return function(f,m){if(f===Ps.mapValue&&m===Ps.mapValue)return 0;if(f===Ps.mapValue)return 1;if(m===Ps.mapValue)return-1;const A=f.fields||{},R=Object.keys(A),z=m.fields||{},re=Object.keys(z);R.sort(),re.sort();for(let De=0;De<R.length&&De<re.length;++De){const qe=Zn(R[De],re[De]);if(0!==qe)return qe;const At=Go(A[R[De]],z[re[De]]);if(0!==At)return At}return Zn(R.length,re.length)}(a.mapValue,t.mapValue);default:throw ir()}}function Ur(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return Zn(a,t);const r=To(a),s=To(t),u=Zn(r.seconds,s.seconds);return 0!==u?u:Zn(r.nanos,s.nanos)}function Bu(a,t){const r=a.values||[],s=t.values||[];for(let u=0;u<r.length&&u<s.length;++u){const f=Go(r[u],s[u]);if(f)return f}return Zn(r.length,s.length)}function Tl(a){return Rc(a)}function Rc(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=To(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Fa(a.bytesValue).toBase64():"referenceValue"in a?Dn.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const f of r.values||[])u?u=!1:s+=",",s+=Rc(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of s)f?f=!1:u+=",",u+=`${m}:${Rc(r.fields[m])}`;return u+"}"}(a.mapValue):ir()}function hu(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Pc(a){return!!a&&"integerValue"in a}function Mc(a){return!!a&&"arrayValue"in a}function Jh(a){return!!a&&"nullValue"in a}function tl(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Nd(a){return!!a&&"mapValue"in a}function Od(a){var t,r;return"__vector__"===(null===(r=((null===(t=null==a?void 0:a.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function fu(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return la(a.mapValue.fields,(r,s)=>t.mapValue.fields[r]=fu(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=fu(a.arrayValue.values[r]);return t}return Object.assign({},a)}function Up(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const kd={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function rn(a){return"nullValue"in a?$u:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?hu(Al.empty(),Dn.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Od(a)?kd:{mapValue:{}}:ir()}function Jr(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?hu(Al.empty(),Dn.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?kd:"mapValue"in a?Od(a)?{mapValue:{}}:Ps:ir()}function Fd(a,t){const r=Go(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function xc(a,t){const r=Go(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class zr{constructor(t){this.value=t}static empty(){return new zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!Nd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=fu(r)}setAll(t){let r=Hr.emptyPath(),s={},u=[];t.forEach((m,A)=>{if(!r.isImmediateParentOf(A)){const R=this.getFieldsMap(r);this.applyChanges(R,s,u),s={},u=[],r=A.popLast()}m?s[A.lastSegment()]=fu(m):u.push(A.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,u)}delete(t){const r=this.field(t.popLast());Nd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Ms(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=r.mapValue.fields[t.get(s)];Nd(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,s){la(r,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new zr(fu(this.value))}}function Ld(a){const t=[];return la(a.fields,(r,s)=>{const u=new Hr([r]);if(Nd(s)){const f=Ld(s.mapValue).fields;if(0===f.length)t.push(u);else for(const m of f)t.push(u.child(m))}else t.push(u)}),new zo(t)}class Pi{constructor(t,r,s,u,f,m,A){this.key=t,this.documentType=r,this.version=s,this.readTime=u,this.createTime=f,this.data=m,this.documentState=A}static newInvalidDocument(t){return new Pi(t,0,kn.min(),kn.min(),kn.min(),zr.empty(),0)}static newFoundDocument(t,r,s,u){return new Pi(t,1,r,kn.min(),s,u,0)}static newNoDocument(t,r){return new Pi(t,2,r,kn.min(),kn.min(),zr.empty(),0)}static newUnknownDocument(t,r){return new Pi(t,3,r,kn.min(),kn.min(),zr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(kn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fo{constructor(t,r){this.position=t,this.inclusive=r}}function Vd(a,t,r){let s=0;for(let u=0;u<a.position.length;u++){const f=t[u],m=a.position[u];if(s=f.field.isKeyField()?Dn.comparator(Dn.fromName(m.referenceValue),r.key):Go(m,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function Nc(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Ms(a.position[r],t.position[r]))return!1;return!0}class $l{constructor(t,r="asc"){this.field=t,this.dir=r}}function Zy(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class Xm{}class fi extends Xm{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,s):new Qm(t,r,s):"array-contains"===r?new nf(t,s):"in"===r?new gu(t,s):"not-in"===r?new Jm(t,s):"array-contains-any"===r?new Bp(t,s):new fi(t,r,s)}static createKeyFieldInFilter(t,r,s){return"in"===r?new Ym(t,s):new tf(t,s)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Go(r,this.value)):null!==r&&La(this.value)===La(r)&&this.matchesComparison(Go(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ir()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends Xm{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Si(t,r)}matches(t){return pu(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pu(a){return"and"===a.op}function is(a){return"or"===a.op}function Ia(a){return Zh(a)&&pu(a)}function Zh(a){for(const t of a.filters)if(t instanceof Si)return!1;return!0}function vs(a){if(a instanceof fi)return a.field.canonicalString()+a.op.toString()+Tl(a.value);if(Ia(a))return a.filters.map(t=>vs(t)).join(",");{const t=a.filters.map(r=>vs(r)).join(",");return`${a.op}(${t})`}}function nl(a,t){return a instanceof fi?(s=a,(u=t)instanceof fi&&s.op===u.op&&s.field.isEqual(u.field)&&Ms(s.value,u.value)):a instanceof Si?function(s,u){return u instanceof Si&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,m,A)=>f&&nl(m,u.filters[A]),!0)}(a,t):void ir();var s,u}function $p(a,t){const r=a.filters.concat(t);return Si.create(r,a.op)}function ef(a){return a instanceof fi?`${(r=a).field.canonicalString()} ${r.op} ${Tl(r.value)}`:a instanceof Si?function(r){return r.op.toString()+" {"+r.getFilters().map(ef).join(" ,")+"}"}(a):"Filter";var r}class Qm extends fi{constructor(t,r,s){super(t,r,s),this.key=Dn.fromName(s.referenceValue)}matches(t){const r=Dn.comparator(t.key,this.key);return this.matchesComparison(r)}}class Ym extends fi{constructor(t,r){super(t,"in",r),this.keys=Ud(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class tf extends fi{constructor(t,r){super(t,"not-in",r),this.keys=Ud(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Ud(a,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Dn.fromName(s.referenceValue))}class nf extends fi{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Mc(r)&&Cl(r.arrayValue,this.value)}}class gu extends fi{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&Cl(this.value.arrayValue,r)}}class Jm extends fi{constructor(t,r){super(t,"not-in",r)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!Cl(this.value.arrayValue,r)}}class Bp extends fi{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Mc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Cl(this.value.arrayValue,s))}}class rf{constructor(t,r=null,s=[],u=[],f=null,m=null,A=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=m,this.endAt=A,this.ue=null}}function $d(a,t=null,r=[],s=[],u=null,f=null,m=null){return new rf(a,t,r,s,u,f,m)}function Bl(a){const t=Un(a);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>vs(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),aa(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Tl(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Tl(s)).join(",")),t.ue=r}return t.ue}function mu(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Zy(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!nl(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Nc(a.startAt,t.startAt)&&Nc(a.endAt,t.endAt)}function Oc(a){return Dn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function ju(a,t){return a.filters.filter(r=>r instanceof fi&&r.field.isEqual(t))}function jp(a,t,r){let s=$u,u=!0;for(const f of ju(a,t)){let m=$u,A=!0;switch(f.op){case"<":case"<=":m=rn(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,A=!1;break;case"!=":case"not-in":m=$u}Fd({value:s,inclusive:u},{value:m,inclusive:A})<0&&(s=m,u=A)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(t)){const m=r.position[f];Fd({value:s,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(s=m,u=r.inclusive);break}return{value:s,inclusive:u}}function Wo(a,t,r){let s=Ps,u=!0;for(const f of ju(a,t)){let m=Ps,A=!0;switch(f.op){case">=":case">":m=Jr(f.value),A=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,A=!1;break;case"!=":case"not-in":m=Ps}xc({value:s,inclusive:u},{value:m,inclusive:A})>0&&(s=m,u=A)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(t)){const m=r.position[f];xc({value:s,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(s=m,u=r.inclusive);break}return{value:s,inclusive:u}}class xs{constructor(t,r=null,s=[],u=[],f=null,m="F",A=null,R=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=m,this.startAt=A,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function ki(a,t,r,s,u,f,m,A){return new xs(a,t,r,s,u,f,m,A)}function jl(a){return new xs(a)}function Hp(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function kc(a){return null!==a.collectionGroup}function Hu(a){const t=Un(a);if(null===t.ce){t.ce=[];const r=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),r.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let A=new yi(Hr.comparator);return m.filters.forEach(R=>{R.getFlattenedFilters().forEach(z=>{z.isInequality()&&(A=A.add(z.field))})}),A})(t).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||t.ce.push(new $l(f,s))}),r.has(Hr.keyField().canonicalString())||t.ce.push(new $l(Hr.keyField(),s))}return t.ce}function Ko(a){const t=Un(a);return t.le||(t.le=function Hl(a,t){if("F"===a.limitType)return $d(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(u=>new $l(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new Fo(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Fo(a.startAt.position,a.startAt.inclusive):null;return $d(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}(t,Hu(a))),t.le}function Ea(a,t){const r=a.filters.concat([t]);return new xs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function sf(a,t,r){return new xs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function rl(a,t){return mu(Ko(a),Ko(t))&&a.limitType===t.limitType}function zu(a){return`${Bl(Ko(a))}|lt:${a.limitType}`}function Aa(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>ef(u)).join(", ")}]`),aa(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Tl(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Tl(u)).join(",")),`Target(${s})`}(Ko(a))}; limitType=${a.limitType})`}function zl(a,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):Dn.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,t)&&function(s,u){for(const f of Hu(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,t)&&(u=t,!((s=a).startAt&&!function(m,A,R){const z=Vd(m,A,R);return m.inclusive?z<=0:z<0}(s.startAt,Hu(s),u)||s.endAt&&!function(m,A,R){const z=Vd(m,A,R);return m.inclusive?z>=0:z>0}(s.endAt,Hu(s),u)));var s,u}function jd(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function af(a){return(t,r)=>{let s=!1;for(const u of Hu(a)){const f=Zm(u,t,r);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function Zm(a,t,r){const s=a.field.isKeyField()?Dn.comparator(t.key,r.key):function(f,m,A){const R=m.data.field(f),z=A.data.field(f);return null!==R&&null!==z?Go(R,z):ir()}(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return ir()}}class Gs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,t))return f}has(t){return void 0!==this.get(t)}set(t,r){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,(r,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return Vu(this.inner)}size(){return this.innerSize}}const Fc=new Ki(Dn.comparator);function Ws(){return Fc}const Lc=new Ki(Dn.comparator);function Gu(...a){let t=Lc;for(const r of a)t=t.insert(r.key,r);return t}function zp(a){let t=Lc;return a.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function il(){return p()}function C(){return p()}function p(){return new Gs(a=>a.toString(),(a,t)=>a.isEqual(t))}const v=new Ki(Dn.comparator),w=new yi(Dn.comparator);function W(...a){let t=w;for(const r of a)t=t.add(r);return t}const Ie=new yi(Zn);function gt(){return Ie}function Ht(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ya(t)?"-0":t}}function yn(a){return{integerValue:""+a}}function lr(a,t){return ws(t)?yn(t):Ht(a,t)}class gr{constructor(){this._=void 0}}function ti(a,t,r){return a instanceof sl?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Uu(f)&&(f=Rs(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,t):a instanceof Gl?ca(a,t):a instanceof Wl?Wu(a,t):function(u,f){const m=ol(u,f),A=Hd(m)+Hd(u.Pe);return Pc(m)&&Pc(u.Pe)?yn(A):Ht(u.serializer,A)}(a,t)}function ua(a,t,r){return a instanceof Gl?ca(a,t):a instanceof Wl?Wu(a,t):r}function ol(a,t){return a instanceof al?Pc(s=t)||(f=s)&&"doubleValue"in f?t:{integerValue:0}:null;var s,f}class sl extends gr{}class Gl extends gr{constructor(t){super(),this.elements=t}}function ca(a,t){const r=Ku(t);for(const s of a.elements)r.some(u=>Ms(u,s))||r.push(s);return{arrayValue:{values:r}}}class Wl extends gr{constructor(t){super(),this.elements=t}}function Wu(a,t){let r=Ku(t);for(const s of a.elements)r=r.filter(u=>!Ms(u,s));return{arrayValue:{values:r}}}class al extends gr{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function Hd(a){return qi(a.integerValue||a.doubleValue)}function Ku(a){return Mc(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class bl{constructor(t,r){this.field=t,this.transform=r}}class Wp{constructor(t,r){this.version=t,this.transformResults=r}}class Hi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Hi}static exists(t){return new Hi(void 0,t)}static updateTime(t){return new Hi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class lf{}function e0(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new Bc(a.key,Hi.none()):new Uc(a.key,a.data,Hi.none());{const r=a.data,s=zr.empty();let u=new yi(Hr.comparator);for(let f of t.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?s.delete(f):s.set(f,m),u=u.add(f)}return new Ca(a.key,s,new zo(u.toArray()),Hi.none())}}function Kp(a,t,r){a instanceof Uc?function(u,f,m){const A=u.value.clone(),R=qo(u.fieldTransforms,f,m.transformResults);A.setAll(R),f.convertToFoundDocument(m.version,A).setHasCommittedMutations()}(a,t,r):a instanceof Ca?function(u,f,m){if(!Vc(u.precondition,f))return void f.convertToUnknownDocument(m.version);const A=qo(u.fieldTransforms,f,m.transformResults),R=f.data;R.setAll($c(u)),R.setAll(A),f.convertToFoundDocument(m.version,R).setHasCommittedMutations()}(a,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function wl(a,t,r,s){return a instanceof Uc?function(f,m,A,R){if(!Vc(f.precondition,m))return A;const z=f.value.clone(),re=t0(f.fieldTransforms,R,m);return z.setAll(re),m.convertToFoundDocument(m.version,z).setHasLocalMutations(),null}(a,t,r,s):a instanceof Ca?function(f,m,A,R){if(!Vc(f.precondition,m))return A;const z=t0(f.fieldTransforms,R,m),re=m.data;return re.setAll($c(f)),re.setAll(z),m.convertToFoundDocument(m.version,re).setHasLocalMutations(),null===A?null:A.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(De=>De.field))}(a,t,r,s):(A=r,Vc(a.precondition,m=t)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):A);var m,A}function vA(a,t){let r=null;for(const s of a.fieldTransforms){const u=t.data.field(s.field),f=ol(s.transform,u||null);null!=f&&(null===r&&(r=zr.empty()),r.set(s.field,f))}return r||null}function ev(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&oi(s,u,(f,m)=>function Gp(a,t){return a.field.isEqual(t.field)&&(u=t.transform,(s=a.transform)instanceof Gl&&u instanceof Gl||s instanceof Wl&&u instanceof Wl?oi(s.elements,u.elements,Ms):s instanceof al&&u instanceof al?Ms(s.Pe,u.Pe):s instanceof sl&&u instanceof sl);var s,u}(f,m))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var s,u}class Uc extends lf{constructor(t,r,s,u=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ca extends lf{constructor(t,r,s,u,f=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function $c(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}}),t}function qo(a,t,r){const s=new Map;ar(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,A=t.data.field(f.field);s.set(f.field,ua(m,A,r[u]))}return s}function t0(a,t,r){const s=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);s.set(u.field,ti(f,m,t))}return s}class Bc extends lf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uf extends lf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tv{constructor(t,r,s,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&Kp(f,t,s[u])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=wl(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=wl(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=C();return this.mutations.forEach(u=>{const f=t.get(u.key),m=f.overlayedDocument;let A=this.applyToLocalView(m,f.mutatedFields);A=r.has(u.key)?null:A;const R=e0(m,A);null!==R&&s.set(u.key,R),m.isValidDocument()||m.convertToNoDocument(kn.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),W())}isEqual(t){return this.batchId===t.batchId&&oi(this.mutations,t.mutations,(r,s)=>ev(r,s))&&oi(this.baseMutations,t.baseMutations,(r,s)=>ev(r,s))}}class qp{constructor(t,r,s,u){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(t,r,s){ar(t.mutations.length===s.length);let u=function(){return v}();const f=t.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,s[m].version);return new qp(t,r,s,u)}}class zd{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class r0{constructor(t,r){this.count=t,this.unchangedNames=r}}var Mo,Ii;function nv(a){switch(a){default:return ir();case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0}}function o0(a){if(void 0===a)return xi("GRPC error has no .code"),Gt.UNKNOWN;switch(a){case Mo.OK:return Gt.OK;case Mo.CANCELLED:return Gt.CANCELLED;case Mo.UNKNOWN:return Gt.UNKNOWN;case Mo.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case Mo.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case Mo.INTERNAL:return Gt.INTERNAL;case Mo.UNAVAILABLE:return Gt.UNAVAILABLE;case Mo.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case Mo.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case Mo.NOT_FOUND:return Gt.NOT_FOUND;case Mo.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case Mo.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case Mo.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case Mo.ABORTED:return Gt.ABORTED;case Mo.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case Mo.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case Mo.DATA_LOSS:return Gt.DATA_LOSS;default:return ir()}}(Ii=Mo||(Mo={}))[Ii.OK=0]="OK",Ii[Ii.CANCELLED=1]="CANCELLED",Ii[Ii.UNKNOWN=2]="UNKNOWN",Ii[Ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ii[Ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ii[Ii.NOT_FOUND=5]="NOT_FOUND",Ii[Ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ii[Ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ii[Ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ii[Ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ii[Ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ii[Ii.ABORTED=10]="ABORTED",Ii[Ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ii[Ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ii[Ii.INTERNAL=13]="INTERNAL",Ii[Ii.UNAVAILABLE=14]="UNAVAILABLE",Ii[Ii.DATA_LOSS=15]="DATA_LOSS";function s0(){return new TextEncoder}const a0=new Bs([4294967295,4294967295],0);function l0(a){const t=s0().encode(a),r=new Lu;return r.update(t),new Uint8Array(r.digest())}function rv(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new Bs([r,s],0),new Bs([u,f],0)]}class iv{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new cf(`Invalid padding: ${r}`);if(s<0)throw new cf(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new cf(`Invalid hash count: ${s}`);if(0===t.length&&0!==r)throw new cf(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=Bs.fromNumber(this.Ie)}Ee(t,r,s){let u=t.add(r.multiply(Bs.fromNumber(s)));return 1===u.compare(a0)&&(u=new Bs([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=l0(t),[s,u]=rv(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);if(!this.de(m))return!1}return!0}static create(t,r,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),m=new iv(f,u,r);return s.forEach(A=>m.insert(A)),m}insert(t){if(0===this.Ie)return;const r=l0(t),[s,u]=rv(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);this.Ae(m)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qp{constructor(t,r,s,u,f){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const u=new Map;return u.set(t,Gd.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Qp(kn.min(),u,new Ki(Zn),Ws(),W())}}class Gd{constructor(t,r,s,u,f){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Gd(s,r,W(),W(),W())}}class df{constructor(t,r,s,u){this.Re=t,this.removedTargetIds=r,this.key=s,this.Ve=u}}class Ks{constructor(t,r){this.targetId=t,this.me=r}}class _A{constructor(t,r,s=ji.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=u}}class u0{constructor(){this.fe=0,this.ge=yA(),this.pe=ji.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=W(),r=W(),s=W();return this.ge.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:ir()}}),new Gd(this.pe,this.ye,t,r,s)}Ce(){this.we=!1,this.ge=yA()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ar(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nb{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ws(),this.qe=ov(),this.Qe=new Ki(Zn)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const s=this.Ge(r);switch(t.state){case 0:this.ze(r)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(t.resumeToken));break;default:ir()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(t){const r=t.targetId,s=t.me.count,u=this.Je(r);if(u){const f=u.target;if(Oc(f))if(0===s){const m=new Dn(f.path);this.Ue(r,m,Pi.newNoDocument(m,kn.min()))}else ar(1===s);else{const m=this.Ye(r);if(m!==s){const A=this.Ze(t),R=A?this.Xe(A,t,m):1;0!==R&&(this.je(r),this.Qe=this.Qe.insert(r,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=r;let m,A;try{m=Fa(s).toUint8Array()}catch(R){if(R instanceof ms)return So("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{A=new iv(m,u,f)}catch(R){return So(R instanceof cf?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===A.Ie?null:A}Xe(t,r,s){return r.me.count===s-this.nt(t,r.targetId)?0:2}nt(t,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(f=>{const m=this.Le.tt(),A=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;t.mightContain(A)||(this.Ue(r,f,null),u++)}),u}rt(t){const r=new Map;this.Be.forEach((f,m)=>{const A=this.Je(m);if(A){if(f.current&&Oc(A.target)){const R=new Dn(A.target.path);null!==this.ke.get(R)||this.it(m,R)||this.Ue(m,R,Pi.newNoDocument(R,t))}f.be&&(r.set(m,f.ve()),f.Ce())}});let s=W();this.qe.forEach((f,m)=>{let A=!0;m.forEachWhile(R=>{const z=this.Je(R);return!z||"TargetPurposeLimboResolution"===z.purpose||(A=!1,!1)}),A&&(s=s.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(t));const u=new Qp(t,r,this.Qe,this.ke,s);return this.ke=Ws(),this.qe=ov(),this.Qe=new Ki(Zn),u}$e(t,r){if(!this.ze(t))return;const s=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new u0,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new yi(Zn),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||Cn("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new u0),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function ov(){return new Ki(Dn.comparator)}function yA(){return new Ki(Dn.comparator)}const sv={asc:"ASCENDING",desc:"DESCENDING"},c0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hf={and:"AND",or:"OR"};class IA{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function av(a,t){return a.useProto3Json||aa(t)?t:{value:t}}function ll(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EA(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function AA(a,t){return ll(a,t.toTimestamp())}function Li(a){return ar(!!a),kn.fromTimestamp(function(r){const s=To(r);return new wr(s.seconds,s.nanos)}(a))}function Wd(a,t){return Yp(a,t).canonicalString()}function Yp(a,t){const r=(u=a,new Sn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?r:r.child(t)}function lv(a){const t=Sn.fromString(a);return ar(Hc(t)),t}function Jp(a,t){return Wd(a.databaseId,t.path)}function ul(a,t){const r=lv(t);if(r.get(1)!==a.databaseId.projectId)throw new _n(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new _n(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Dn(h0(r))}function ff(a,t){return Wd(a.databaseId,t)}function d0(a){const t=lv(a);return 4===t.length?Sn.emptyPath():h0(t)}function lo(a){return new Sn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function h0(a){return ar(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Zp(a,t,r){return{name:Jp(a,t),fields:r.value.mapValue.fields}}function f0(a,t,r){const s=ul(a,t.name),u=Li(t.updateTime),f=t.createTime?Li(t.createTime):kn.min(),m=new zr({mapValue:{fields:t.fields}}),A=Pi.newFoundDocument(s,u,f,m);return r&&A.setHasCommittedMutations(),r?A.setHasCommittedMutations():A}function Kd(a,t){let r;if(t instanceof Uc)r={update:Zp(a,t.key,t.value)};else if(t instanceof Bc)r={delete:Jp(a,t.key)};else if(t instanceof Ca)r={update:Zp(a,t.key,t.data),updateMask:bA(t.fieldMask)};else{if(!(t instanceof uf))return ir();r={verify:Jp(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(f,m){const A=m.transform;if(A instanceof sl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Gl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Wl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof al)return{fieldPath:m.field.canonicalString(),increment:A.Pe};throw ir()}(0,s))),t.precondition.isNone||(r.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:AA(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:ir()),r;var f}function eg(a,t){const r=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?Hi.updateTime(Li(f.updateTime)):void 0!==f.exists?Hi.exists(f.exists):Hi.none():Hi.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(m,A){let R=null;"setToServerValue"in A?(ar("REQUEST_TIME"===A.setToServerValue),R=new sl):"appendMissingElements"in A?R=new Gl(A.appendMissingElements.values||[]):"removeAllFromArray"in A?R=new Wl(A.removeAllFromArray.values||[]):"increment"in A?R=new al(m,A.increment):ir();const z=Hr.fromServerFormat(A.fieldPath);return new bl(z,R)}(a,u)):[];var f;if(t.update){const u=ul(a,t.update.name),f=new zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const m=new zo((t.updateMask.fieldPaths||[]).map(re=>Hr.fromServerFormat(re)));return new Ca(u,f,m,r,s)}return new Uc(u,f,r,s)}if(t.delete){const u=ul(a,t.delete);return new Bc(u,r)}if(t.verify){const u=ul(a,t.verify);return new uf(u,r)}return ir()}function p0(a,t){return{documents:[ff(a,t.path)]}}function tg(a,t){const r={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=ff(a,u);const f=function(z){if(0!==z.length)return TA(Si.create(z,"and"))}(t.filters);f&&(r.structuredQuery.where=f);const m=function(z){if(0!==z.length)return z.map(re=>{return{field:jc((qe=re).field),direction:v0(qe.dir)};var qe})}(t.orderBy);m&&(r.structuredQuery.orderBy=m);const A=av(a,t.limit);return null!==A&&(r.structuredQuery.limit=A),t.startAt&&(r.structuredQuery.startAt={before:(z=t.startAt).inclusive,values:z.position}),t.endAt&&(r.structuredQuery.endAt=function(z){return{before:!z.inclusive,values:z.position}}(t.endAt)),{_t:r,parent:u};var z}function g0(a){let t=d0(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){ar(1===s);const re=r.from[0];re.allDescendants?u=re.collectionId:t=t.child(re.collectionId)}let f=[];r.where&&(f=function(De){const qe=m0(De);return qe instanceof Si&&Ia(qe)?qe.getFilters():[qe]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(qe=>{return new $l(pf((Wt=qe).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Wt.direction));var Wt}));let A=null;r.limit&&(A=function(De){let qe;return qe="object"==typeof De?De.value:De,aa(qe)?null:qe}(r.limit));let R=null;var De;r.startAt&&(R=new Fo((De=r.startAt).values||[],!!De.before));let z=null;return r.endAt&&(z=function(De){return new Fo(De.values||[],!De.before)}(r.endAt)),ki(t,u,m,f,A,"F",R,z)}function m0(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=pf(r.unaryFilter.field);return fi.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=pf(r.unaryFilter.field);return fi.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=pf(r.unaryFilter.field);return fi.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=pf(r.unaryFilter.field);return fi.create(m,"!=",{nullValue:"NULL_VALUE"});default:return ir()}}(a):void 0!==a.fieldFilter?fi.create(pf((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ir()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Si.create(r.compositeFilter.filters.map(s=>m0(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ir()}}(r.compositeFilter.op))}(a):ir();var r}function v0(a){return sv[a]}function Ob(a){return c0[a]}function kb(a){return hf[a]}function jc(a){return{fieldPath:a.canonicalString()}}function pf(a){return Hr.fromServerFormat(a.fieldPath)}function TA(a){return a instanceof fi?function(r){if("=="===r.op){if(tl(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NAN"}};if(Jh(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(tl(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NOT_NAN"}};if(Jh(r.value))return{unaryFilter:{field:jc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(r.field),op:Ob(r.op),value:r.value}}}(a):a instanceof Si?function(r){const s=r.getFilters().map(u=>TA(u));return 1===s.length?s[0]:{compositeFilter:{op:kb(r.op),filters:s}}}(a):ir()}function bA(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Hc(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Va{constructor(t,r,s,u,f=kn.min(),m=kn.min(),A=ji.EMPTY_BYTE_STRING,R=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=A,this.expectedCount=R}withSequenceNumber(t){return new Va(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hv{constructor(t){this.ct=t}}function ng(a,t){const r=t.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:qu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:Jp(f=a.ct,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:ll(f,m.version.toTimestamp()),createTime:ll(f,m.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:zc(t.version)};else{if(!t.isUnknownDocument())return ir();s.unknownDocument={path:r.path.toArray(),version:zc(t.version)}}var f,m;return s}function qu(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function zc(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _u(a){const t=new wr(a.seconds,a.nanoseconds);return kn.fromTimestamp(t)}function Xu(a,t){const r=(t.baseMutations||[]).map(f=>eg(a.ct,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const s=t.mutations.map(f=>eg(a.ct,f)),u=wr.fromMillis(t.localWriteTimeMs);return new tv(t.batchId,u,r,s)}function yu(a){const t=_u(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?_u(a.lastLimboFreeSnapshotVersion):kn.min();let s;return s=void 0!==a.query.documents?(ar(1===(f=a.query).documents.length),Ko(jl(d0(f.documents[0])))):function(f){return Ko(g0(f))}(a.query),new Va(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,r,ji.fromBase64String(a.resumeToken));var f}function qd(a,t){const r=zc(t.snapshotVersion),s=zc(t.lastLimboFreeSnapshotVersion);let u;u=Oc(t.target)?p0(a.ct,t.target):tg(a.ct,t.target)._t;const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Bl(t.target),readTime:r,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function rg(a){const t=g0({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?sf(t,t.limit,"L"):t}function gf(a,t){return new zd(t.largestBatchId,eg(a.ct,t.overlayMutation))}function _0(a,t){const r=t.path.lastSegment();return[a,so(t.path.popLast()),r]}function y0(a,t,r,s){return{indexId:a,uid:t,sequenceNumber:r,readTime:zc(s.readTime),documentKey:so(s.documentKey.path),largestBatchId:s.largestBatchId}}class DA{getBundleMetadata(t,r){return fv(t).get(r).next(s=>{if(s)return{id:(f=s).bundleId,createTime:_u(f.createTime),version:f.version};var f})}saveBundleMetadata(t,r){return fv(t).put({bundleId:(u=r).id,createTime:zc(Li(u.createTime)),version:u.version});var u}getNamedQuery(t,r){return ig(t).get(r).next(s=>{if(s)return{name:(f=s).name,query:rg(f.bundledQuery),readTime:_u(f.readTime)};var f})}saveNamedQuery(t,r){return ig(t).put({name:(u=r).name,readTime:zc(Li(u.readTime)),bundledQuery:u.bundledQuery});var u}}function fv(a){return Yi(a,"bundles")}function ig(a){return Yi(a,"namedQueries")}class og{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new og(t,r.uid||"")}getOverlay(t,r){return _s(t).get(_0(this.userId,r)).next(s=>s?gf(this.serializer,s):null)}getOverlays(t,r){const s=il();return Pt.forEach(r,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,r,s){const u=[];return s.forEach((f,m)=>{const A=new zd(r,m);u.push(this.ht(t,A))}),Pt.waitFor(u)}removeOverlaysForBatchId(t,r,s){const u=new Set;r.forEach(m=>u.add(so(m.getCollectionPath())));const f=[];return u.forEach(m=>{const A=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);f.push(_s(t).j("collectionPathOverlayIndex",A))}),Pt.waitFor(f)}getOverlaysForCollection(t,r,s){const u=il(),f=so(r),m=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return _s(t).U("collectionPathOverlayIndex",m).next(A=>{for(const R of A){const z=gf(this.serializer,R);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(t,r,s,u){const f=il();let m;const A=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return _s(t).J({index:"collectionGroupOverlayIndex",range:A},(R,z,re)=>{const De=gf(this.serializer,z);f.size()<u||De.largestBatchId===m?(f.set(De.getKey(),De),m=De.largestBatchId):re.done()}).next(()=>f)}ht(t,r){return _s(t).put(function(u,f,m){const[A,R,z]=_0(f,m.mutation.key);return{userId:f,collectionPath:R,documentId:z,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:Kd(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function _s(a){return Yi(a,"documentOverlays")}class pv{Pt(t){return Yi(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const s=null==r?void 0:r.value;return s?ji.fromUint8Array(s):ji.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class Qu{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(qi(t.integerValue));else if("doubleValue"in t){const s=qi(t.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),ya(s)?r.At(0):r.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(r,20),"string"==typeof s&&(s=To(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(Fa(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in t?Up(t)?this.dt(r,Number.MAX_SAFE_INTEGER):Od(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):ir()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const s=t.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(t,r){var s,u;const f=t.fields||{};this.dt(r,53);const m="value",A=(null===(u=null===(s=f[m].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(qi(A)),this.Vt(m,r),this.Tt(f[m],r)}bt(t,r){const s=t.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(t,r){this.dt(r,37),Dn.fromName(t).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function sg(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function SA(a){const t=64-function(s){let u=0;for(let f=0;f<8;++f){const m=sg(255&s[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(t/8)}Qu.vt=new Qu;class Fb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ot(s.value),s=r.next();this.Nt()}Lt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const r=this.qt(t),s=SA(r);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(t){const r=this.qt(t),s=SA(r);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(t),s=!!(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class qs{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Xd{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Qd{constructor(){this.jt=new Fb,this.Ht=new qs(this.jt),this.Jt=new Xd(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Yu{constructor(t,r,s,u){this.indexId=t,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new Yu(this.indexId,this.documentKey,this.arrayValue,s)}}function Ju(a,t){let r=a.indexId-t.indexId;return 0!==r?r:(r=gv(a.arrayValue,t.arrayValue),0!==r?r:(r=gv(a.directionalValue,t.directionalValue),0!==r?r:Dn.comparator(a.documentKey,t.documentKey)))}function gv(a,t){for(let r=0;r<a.length&&r<t.length;++r){const s=a[r]-t[r];if(0!==s)return s}return a.length-t.length}class I0{constructor(t){this.Xt=new yi((r,s)=>Hr.comparator(r.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const s=r;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(ar(t.collectionGroup===this.collectionId),this.nn)return!1;const r=ps(t);if(void 0!==r&&!this.sn(r))return!1;const s=pi(t);let u=new Set,f=0,m=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const A=this.Xt.getIterator().getNext();if(!u.has(A.field.canonicalString())){const R=s[f];if(!this.on(A,R)||!this._n(this.en[m++],R))return!1}++f}for(;f<s.length;++f)if(m>=this.en.length||!this._n(this.en[m++],s[f]))return!1;return!0}an(){if(this.nn)return null;let t=new yi(Hr.comparator);const r=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new yo(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),r.push(new yo(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),r.push(new yo(s.field,"asc"===s.dir?0:1)));return new Wi(Wi.UNKNOWN_ID,this.collectionId,r,sa.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function mv(a){var t,r;if(ar(a instanceof fi||a instanceof Si),a instanceof fi){if(a instanceof gu){const u=(null===(r=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(f=>fi.create(a.field,"==",f)))||[];return Si.create(u,"or")}return a}const s=a.filters.map(u=>mv(u));return Si.create(s,a.op)}function RA(a){if(0===a.getFilters().length)return[];const t=_v(mv(a));return ar(E0(t)),ag(t)||vv(t)?[t]:t.getFilters()}function ag(a){return a instanceof fi}function vv(a){return a instanceof Si&&Ia(a)}function E0(a){return ag(a)||vv(a)||function(r){if(r instanceof Si&&is(r)){for(const s of r.getFilters())if(!ag(s)&&!vv(s))return!1;return!0}return!1}(a)}function _v(a){if(ar(a instanceof fi||a instanceof Si),a instanceof fi)return a;if(1===a.filters.length)return _v(a.filters[0]);const t=a.filters.map(s=>_v(s));let r=Si.create(t,a.op);return r=mf(r),E0(r)?r:(ar(r instanceof Si),ar(pu(r)),ar(r.filters.length>1),r.filters.reduce((s,u)=>yv(s,u)))}function yv(a,t){let r;return ar(a instanceof fi||a instanceof Si),ar(t instanceof fi||t instanceof Si),r=a instanceof fi?t instanceof fi?Si.create([a,t],"and"):Iv(a,t):t instanceof fi?Iv(t,a):function(u,f){if(ar(u.filters.length>0&&f.filters.length>0),pu(u)&&pu(f))return $p(u,f.getFilters());const m=is(u)?u:f,A=is(u)?f:u,R=m.filters.map(z=>yv(z,A));return Si.create(R,"or")}(a,t),mf(r)}function Iv(a,t){if(pu(t))return $p(t,a.getFilters());{const r=t.filters.map(s=>yv(a,s));return Si.create(r,"or")}}function mf(a){if(ar(a instanceof fi||a instanceof Si),a instanceof fi)return a;const t=a.getFilters();if(1===t.length)return mf(t[0]);if(Zh(a))return a;const r=t.map(u=>mf(u)),s=[];return r.forEach(u=>{u instanceof fi?s.push(u):u instanceof Si&&(u.op===a.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Si.create(s,a.op)}class A0{constructor(){this.un=new Yd}addToCollectionParentIndex(t,r){return this.un.add(r),Pt.resolve()}getCollectionParents(t,r){return Pt.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return Pt.resolve()}deleteFieldIndex(t,r){return Pt.resolve()}deleteAllFieldIndexes(t){return Pt.resolve()}createTargetIndexes(t,r){return Pt.resolve()}getDocumentsMatchingTarget(t,r){return Pt.resolve(null)}getIndexType(t,r){return Pt.resolve(0)}getFieldIndexes(t,r){return Pt.resolve([])}getNextCollectionGroupToUpdate(t){return Pt.resolve(null)}getMinOffset(t,r){return Pt.resolve(di.min())}getMinOffsetFromCollectionGroup(t,r){return Pt.resolve(di.min())}updateCollectionGroup(t,r,s){return Pt.resolve()}updateIndexEntries(t,r){return Pt.resolve()}}class Yd{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r]||new yi(Sn.comparator),f=!u.has(s);return this.index[r]=u.add(s),f}has(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(t){return(this.index[t]||new yi(Sn.comparator)).toArray()}}const vf=new Uint8Array(0);class C0{constructor(t,r){this.databaseId=r,this.cn=new Yd,this.ln=new Gs(s=>Bl(s),(s,u)=>mu(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const s=r.lastSegment(),u=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const f={collectionId:s,parent:so(u)};return Ev(t).put(f)}return Pt.resolve()}getCollectionParents(t,r){const s=[],u=IDBKeyRange.bound([r,""],[Ni(r),""],!1,!0);return Ev(t).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;s.push(Ds(m.parent))}return s})}addFieldIndex(t,r){const s=_f(t),u={indexId:(A=r).indexId,collectionGroup:A.collectionGroup,fields:A.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var A;delete u.indexId;const f=s.add(u);if(r.indexState){const m=Jd(t);return f.next(A=>{m.put(y0(A,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(t,r){const s=_f(t),u=Jd(t),f=Gc(t);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=_f(t),s=Gc(t),u=Jd(t);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,r){return Pt.forEach(this.hn(r),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const f=new I0(s).an();if(null!=f)return this.addFieldIndex(t,f)}}))}getDocumentsMatchingTarget(t,r){const s=Gc(t);let u=!0;const f=new Map;return Pt.forEach(this.hn(r),m=>this.Pn(t,m).next(A=>{u&&(u=!!A),f.set(m,A)})).next(()=>{if(u){let m=W();const A=[];return Pt.forEach(f,(R,z)=>{var zn;Cn("IndexedDbIndexManager",`Using index ${zn=R,`id=${zn.indexId}|cg=${zn.collectionGroup}|f=${zn.fields.map(jn=>`${jn.fieldPath}:${jn.kind}`).join(",")}`} to execute ${Bl(r)}`);const re=function(zn,jn){const Rr=ps(jn);if(void 0===Rr)return null;for(const _r of ju(zn,Rr.fieldPath))switch(_r.op){case"array-contains-any":return _r.value.arrayValue.values||[];case"array-contains":return[_r.value]}return null}(z,R),De=function(zn,jn){const Rr=new Map;for(const _r of pi(jn))for(const Ct of ju(zn,_r.fieldPath))switch(Ct.op){case"==":case"in":Rr.set(_r.fieldPath.canonicalString(),Ct.value);break;case"not-in":case"!=":return Rr.set(_r.fieldPath.canonicalString(),Ct.value),Array.from(Rr.values())}return null}(z,R),qe=function(zn,jn){const Rr=[];let _r=!0;for(const Ct of pi(jn)){const Ze=0===Ct.kind?jp(zn,Ct.fieldPath,zn.startAt):Wo(zn,Ct.fieldPath,zn.startAt);Rr.push(Ze.value),_r&&(_r=Ze.inclusive)}return new Fo(Rr,_r)}(z,R),At=function(zn,jn){const Rr=[];let _r=!0;for(const Ct of pi(jn)){const Ze=0===Ct.kind?Wo(zn,Ct.fieldPath,zn.endAt):jp(zn,Ct.fieldPath,zn.endAt);Rr.push(Ze.value),_r&&(_r=Ze.inclusive)}return new Fo(Rr,_r)}(z,R),Wt=this.In(R,z,qe),hn=this.In(R,z,At),Jt=this.Tn(R,z,De),Bn=this.En(R.indexId,re,Wt,qe.inclusive,hn,At.inclusive,Jt);return Pt.forEach(Bn,or=>s.G(or,r.limit).next(zn=>{zn.forEach(jn=>{const Rr=Dn.fromSegments(jn.documentKey);m.has(Rr)||(m=m.add(Rr),A.push(Rr))})}))}).next(()=>A)}return Pt.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:RA(Si.create(t.filters,"and")).map(s=>$d(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,s,u,f,m,A){const R=(null!=r?r.length:1)*Math.max(s.length,f.length),z=R/(null!=r?r.length:1),re=[];for(let De=0;De<R;++De){const qe=r?this.dn(r[De/z]):vf,At=this.An(t,qe,s[De%z],u),Wt=this.Rn(t,qe,f[De%z],m),hn=A.map(Jt=>this.An(t,qe,Jt,!0));re.push(...this.createRange(At,Wt,hn))}return re}An(t,r,s,u){const f=new Yu(t,Dn.empty(),r,s);return u?f:f.Zt()}Rn(t,r,s,u){const f=new Yu(t,Dn.empty(),r,s);return u?f.Zt():f}Pn(t,r){const s=new I0(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,u).next(f=>{let m=null;for(const A of f)s.rn(A)&&(!m||A.fields.length>m.fields.length)&&(m=A);return m})}getIndexType(t,r){let s=2;const u=this.hn(r);return Pt.forEach(u,f=>this.Pn(t,f).next(m=>{m?0!==s&&m.fields.length<function(R){let z=new yi(Hr.comparator),re=!1;for(const De of R.filters)for(const qe of De.getFlattenedFilters())qe.field.isKeyField()||("array-contains"===qe.op||"array-contains-any"===qe.op?re=!0:z=z.add(qe.field));for(const De of R.orderBy)De.field.isKeyField()||(z=z.add(De.field));return z.size+(re?1:0)}(f)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}Vn(t,r){const s=new Qd;for(const u of pi(t)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=s.Yt(u.kind);Qu.vt.It(f,m)}return s.zt()}dn(t){const r=new Qd;return Qu.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const s=new Qd;return Qu.vt.It(hu(this.databaseId,r),s.Yt(function(f){const m=pi(f);return 0===m.length?0:m[m.length-1].kind}(t))),s.zt()}Tn(t,r,s){if(null===s)return[];let u=[];u.push(new Qd);let f=0;for(const m of pi(t)){const A=s[f++];for(const R of u)if(this.fn(r,m.fieldPath)&&Mc(A))u=this.gn(u,m,A);else{const z=R.Yt(m.kind);Qu.vt.It(A,z)}}return this.pn(u)}In(t,r,s){return this.Tn(t,r,s.position)}pn(t){const r=[];for(let s=0;s<t.length;++s)r[s]=t[s].zt();return r}gn(t,r,s){const u=[...t],f=[];for(const m of s.arrayValue.values||[])for(const A of u){const R=new Qd;R.seed(A.zt()),Qu.vt.It(m,R.Yt(r.kind)),f.push(R)}return f}fn(t,r){return!!t.filters.find(s=>s instanceof fi&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,r){const s=_f(t),u=Jd(t);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(f=>{const m=[];return Pt.forEach(f,A=>u.get([A.indexId,this.uid]).next(R=>{m.push(function(re,De){const qe=De?new sa(De.sequenceNumber,new di(_u(De.readTime),new Dn(Ds(De.documentKey)),De.largestBatchId)):sa.empty(),At=re.fields.map(([Wt,hn])=>new yo(Hr.fromServerFormat(Wt),hn));return new Wi(re.indexId,re.collectionGroup,At,qe)}(A,R))})).next(()=>m)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Zn(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,s){const u=_f(t),f=Jd(t);return this.yn(t).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(A=>Pt.forEach(A,R=>f.put(y0(R.indexId,this.uid,m,s)))))}updateIndexEntries(t,r){const s=new Map;return Pt.forEach(r,(u,f)=>{const m=s.get(u.collectionGroup);return(m?Pt.resolve(m):this.getFieldIndexes(t,u.collectionGroup)).next(A=>(s.set(u.collectionGroup,A),Pt.forEach(A,R=>this.wn(t,u,R).next(z=>{const re=this.Sn(f,R);return z.isEqual(re)?Pt.resolve():this.bn(t,f,R,z,re)}))))})}Dn(t,r,s,u){return Gc(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,r.key),documentKey:r.key.path.toArray()})}vn(t,r,s,u){return Gc(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,r.key),r.key.path.toArray()])}wn(t,r,s){const u=Gc(t);let f=new yi(Ju);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,r)])},(m,A)=>{f=f.add(new Yu(s.indexId,r,A.arrayValue,A.directionalValue))}).next(()=>f)}Sn(t,r){let s=new yi(Ju);const u=this.Vn(r,t);if(null==u)return s;const f=ps(r);if(null!=f){const m=t.data.field(f.fieldPath);if(Mc(m))for(const A of m.arrayValue.values||[])s=s.add(new Yu(r.indexId,t.key,this.dn(A),u))}else s=s.add(new Yu(r.indexId,t.key,vf,u));return s}bn(t,r,s,u,f){Cn("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(R,z,re,De,qe){const At=R.getIterator(),Wt=z.getIterator();let hn=Vl(At),Jt=Vl(Wt);for(;hn||Jt;){let Bn=!1,or=!1;if(hn&&Jt){const zn=re(hn,Jt);zn<0?or=!0:zn>0&&(Bn=!0)}else null!=hn?or=!0:Bn=!0;Bn?(De(Jt),Jt=Vl(Wt)):or?(qe(hn),hn=Vl(At)):(hn=Vl(At),Jt=Vl(Wt))}}(u,f,Ju,A=>{m.push(this.Dn(t,r,s,A))},A=>{m.push(this.vn(t,r,s,A))}),Pt.waitFor(m)}yn(t){let r=1;return Jd(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(t,r,s){s=s.sort((m,A)=>Ju(m,A)).filter((m,A,R)=>!A||0!==Ju(m,R[A-1]));const u=[];u.push(t);for(const m of s){const A=Ju(m,t),R=Ju(m,r);if(0===A)u[0]=t.Zt();else if(A>0&&R<0)u.push(m),u.push(m.Zt());else if(R>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Cn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,vf,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,vf,[]]))}return f}Cn(t,r){return Ju(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(T0)}getMinOffset(t,r){return Pt.mapArray(this.hn(r),s=>this.Pn(t,s).next(u=>u||ir())).next(T0)}}function Ev(a){return Yi(a,"collectionParents")}function Gc(a){return Yi(a,"indexEntries")}function _f(a){return Yi(a,"indexConfiguration")}function Jd(a){return Yi(a,"indexState")}function T0(a){ar(0!==a.length);let t=a[0].indexState.offset,r=t.largestBatchId;for(let s=1;s<a.length;s++){const u=a[s].indexState.offset;Il(u,t)<0&&(t=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new di(t.readTime,t.documentKey,r)}const b0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ns{constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new Ns(t,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PA(a,t,r){const s=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let A=0;const R=s.J({range:m},(re,De,qe)=>(A++,qe.delete()));f.push(R.next(()=>{ar(1===A)}));const z=[];for(const re of r.mutations){const De=Md(t,re.key.path,r.batchId);f.push(u.delete(De)),z.push(re.key)}return Pt.waitFor(f).next(()=>z)}function yf(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw ir();t=a.noDocument}return JSON.stringify(t).length}Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(41943040,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);class lg{constructor(t,r,s,u){this.userId=t,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,r,s,u){ar(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new lg(f,r,s,u)}checkEmpty(t){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wc(t).J({index:"userMutationsIndex",range:s},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(t,r,s,u){const f=Zd(t),m=Wc(t);return m.add({}).next(A=>{ar("number"==typeof A);const R=new tv(A,r,s,u),z=function(At,Wt,hn){const Jt=hn.baseMutations.map(or=>Kd(At.ct,or)),Bn=hn.mutations.map(or=>Kd(At.ct,or));return{userId:Wt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:Jt,mutations:Bn}}(this.serializer,this.userId,R),re=[];let De=new yi((qe,At)=>Zn(qe.canonicalString(),At.canonicalString()));for(const qe of u){const At=Md(this.userId,qe.key.path,A);De=De.add(qe.key.path.popLast()),re.push(m.put(z)),re.push(f.put(At,Vp))}return De.forEach(qe=>{re.push(this.indexManager.addToCollectionParentIndex(t,qe))}),t.addOnCommittedListener(()=>{this.Fn[A]=R.keys()}),Pt.waitFor(re).next(()=>R)})}lookupMutationBatch(t,r){return Wc(t).get(r).next(s=>s?(ar(s.userId===this.userId),Xu(this.serializer,s)):null)}Mn(t,r){return this.Fn[r]?Pt.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(s=>{if(s){const u=s.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(t,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return Wc(t).J({index:"userMutationsIndex",range:u},(m,A,R)=>{A.userId===this.userId&&(ar(A.batchId>=s),f=Xu(this.serializer,A)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Wc(t).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{s=f.batchId,m.done()}).next(()=>s)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wc(t).U("userMutationsIndex",r).next(s=>s.map(u=>Xu(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,r){const s=Sc(this.userId,r.path),u=IDBKeyRange.lowerBound(s),f=[];return Zd(t).J({range:u},(m,A,R)=>{const[z,re,De]=m,qe=Ds(re);if(z===this.userId&&r.path.isEqual(qe))return Wc(t).get(De).next(At=>{if(!At)throw ir();ar(At.userId===this.userId),f.push(Xu(this.serializer,At))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new yi(Zn);const u=[];return r.forEach(f=>{const m=Sc(this.userId,f.path),A=IDBKeyRange.lowerBound(m),R=Zd(t).J({range:A},(z,re,De)=>{const[qe,At,Wt]=z,hn=Ds(At);qe===this.userId&&f.path.isEqual(hn)?s=s.add(Wt):De.done()});u.push(R)}),Pt.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1,f=Sc(this.userId,s),m=IDBKeyRange.lowerBound(f);let A=new yi(Zn);return Zd(t).J({range:m},(R,z,re)=>{const[De,qe,At]=R,Wt=Ds(qe);De===this.userId&&s.isPrefixOf(Wt)?Wt.length===u&&(A=A.add(At)):re.done()}).next(()=>this.xn(t,A))}xn(t,r){const s=[],u=[];return r.forEach(f=>{u.push(Wc(t).get(f).next(m=>{if(null===m)throw ir();ar(m.userId===this.userId),s.push(Xu(this.serializer,m))}))}),Pt.waitFor(u).next(()=>s)}removeMutationBatch(t,r){return PA(t._e,this.userId,r).next(s=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),Pt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return Pt.resolve();const s=IDBKeyRange.lowerBound(function(m){return[m]}(this.userId)),u=[];return Zd(t).J({range:s},(f,m,A)=>{if(f[0]===this.userId){const R=Ds(f[1]);u.push(R)}else A.done()}).next(()=>{ar(0===u.length)})})}containsKey(t,r){return w0(t,this.userId,r)}Nn(t){return Av(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function w0(a,t,r){const s=Sc(t,r.path),u=s[1],f=IDBKeyRange.lowerBound(s);let m=!1;return Zd(a).J({range:f,H:!0},(A,R,z)=>{const[re,De,qe]=A;re===t&&De===u&&(m=!0),z.done()}).next(()=>m)}function Wc(a){return Yi(a,"mutations")}function Zd(a){return Yi(a,"documentMutations")}function Av(a){return Yi(a,"mutationQueues")}class Iu{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Iu(0)}static kn(){return new Iu(-1)}}class MA{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const s=new Iu(r.highestTargetId);return r.highestTargetId=s.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>kn.fromTimestamp(new wr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(t,u)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(r,s),this.Qn(t,s))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>Ua(t).delete(r.targetId)).next(()=>this.qn(t)).next(s=>(ar(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,r,s){let u=0;const f=[];return Ua(t).J((m,A)=>{const R=yu(A);R.sequenceNumber<=r&&null===s.get(R.targetId)&&(u++,f.push(this.removeTargetData(t,R)))}).next(()=>Pt.waitFor(f)).next(()=>u)}forEachTarget(t,r){return Ua(t).J((s,u)=>{const f=yu(u);r(f)})}qn(t){return If(t).get("targetGlobalKey").next(r=>(ar(null!==r),r))}Qn(t,r){return If(t).put("targetGlobalKey",r)}Kn(t,r){return Ua(t).put(qd(this.serializer,r))}$n(t,r){let s=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,s=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const s=Bl(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Ua(t).J({range:u,index:"queryTargetsIndex"},(m,A,R)=>{const z=yu(A);mu(r,z.target)&&(f=z,R.done())}).next(()=>f)}addMatchingKeys(t,r,s){const u=[],f=Zu(t);return r.forEach(m=>{const A=so(m.path);u.push(f.put({targetId:s,path:A})),u.push(this.referenceDelegate.addReference(t,s,m))}),Pt.waitFor(u)}removeMatchingKeys(t,r,s){const u=Zu(t);return Pt.forEach(r,f=>{const m=so(f.path);return Pt.waitFor([u.delete([s,m]),this.referenceDelegate.removeReference(t,s,f)])})}removeMatchingKeysForTargetId(t,r){const s=Zu(t),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Zu(t);let f=W();return u.J({range:s,H:!0},(m,A,R)=>{const z=Ds(m[1]),re=new Dn(z);f=f.add(re)}).next(()=>f)}containsKey(t,r){const s=so(r.path),u=IDBKeyRange.bound([s],[Ni(s)],!1,!0);let f=0;return Zu(t).J({index:"documentTargetsIndex",H:!0,range:u},([m,A],R,z)=>{0!==m&&(f++,z.done())}).next(()=>f>0)}ot(t,r){return Ua(t).get(r).next(s=>s?yu(s):null)}}function Ua(a){return Yi(a,"targets")}function If(a){return Yi(a,"targetGlobal")}function Zu(a){return Yi(a,"targetDocuments")}function Cv([a,t],[r,s]){const u=Zn(a,r);return 0===u?Zn(t,s):u}class ug{constructor(t){this.Un=t,this.buffer=new yi(Cv),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Cv(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class xA{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;Cn("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,c.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){jo(s)?Cn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield gs(s)}yield r.Hn(3e5)}))}}class Lb{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(0===r)return Pt.resolve(Ro.oe);const s=new ug(r);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Jn.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(Cn("LruGarbageCollector","Garbage collection skipped; disabled"),Pt.resolve(b0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Cn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b0):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let s,u,f,m,A,R,z;const re=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(De=>(De>this.params.maximumSequenceNumbersToCollect?(Cn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${De}`),u=this.params.maximumSequenceNumbersToCollect):u=De,m=Date.now(),this.nthSequenceNumber(t,u))).next(De=>(s=De,A=Date.now(),this.removeTargets(t,s,r))).next(De=>(f=De,R=Date.now(),this.removeOrphanedDocuments(t,s))).next(De=>(z=Date.now(),ko()<=jt.$b.DEBUG&&Cn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-re}ms\n\tDetermined least recently used ${u} in `+(A-m)+`ms\n\tRemoved ${f} targets in `+(R-A)+`ms\n\tRemoved ${De} documents in `+(z-R)+`ms\nTotal Duration: ${z-re}ms`),Pt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:De})))}}class NA{constructor(t,r){this.db=t,this.garbageCollector=function D0(a,t){return new Lb(a,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>r.next(u=>s+u))}er(t){let r=0;return this.Zn(t,s=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(s,u)=>r(u))}addReference(t,r,s){return cg(t,s)}removeReference(t,r,s){return cg(t,s)}removeTargets(t,r,s){return this.db.getTargetCache().removeTargets(t,r,s)}markPotentiallyOrphaned(t,r){return cg(t,r)}nr(t,r){return function(u,f){let m=!1;return Av(u).Y(A=>w0(u,A,f).next(R=>(R&&(m=!0),Pt.resolve(!R)))).next(()=>m)}(t,r)}removeOrphanedDocuments(t,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(t,(m,A)=>{if(A<=r){const R=this.nr(t,m).next(z=>{if(!z)return f++,s.getEntry(t,m).next(()=>(s.removeEntry(m,kn.min()),Zu(t).delete([0,so(m.path)])))});u.push(R)}}).next(()=>Pt.waitFor(u)).next(()=>s.apply(t)).next(()=>f)}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,r){return cg(t,r)}tr(t,r){const s=Zu(t);let u,f=Ro.oe;return s.J({index:"documentTargetsIndex"},([m,A],{path:R,sequenceNumber:z})=>{0===m?(f!==Ro.oe&&r(new Dn(Ds(u)),f),f=z,u=R):f=Ro.oe}).next(()=>{f!==Ro.oe&&r(new Dn(Ds(u)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function cg(a,t){return Zu(a).put((u=a.currentSequenceNumber,{targetId:0,path:so(t.path),sequenceNumber:u}));var u}class OA{constructor(){this.changes=new Gs(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Pi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Pt.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Vb{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,s){return Eu(t).put(s)}removeEntry(t,r,s){return Eu(t).delete(function(f,m){const A=f.path.toArray();return[A.slice(0,A.length-2),A[A.length-2],qu(m),A[A.length-1]]}(r,s))}updateMetadata(t,r){return this.getMetadata(t).next(s=>(s.byteSize+=r,this.rr(t,s)))}getEntry(t,r){let s=Pi.newInvalidDocument(r);return Eu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kl(r))},(u,f)=>{s=this.ir(r,f)}).next(()=>s)}sr(t,r){let s={size:0,document:Pi.newInvalidDocument(r)};return Eu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kl(r))},(u,f)=>{s={document:this.ir(r,f),size:yf(f)}}).next(()=>s)}getEntries(t,r){let s=Ws();return this._r(t,r,(u,f)=>{const m=this.ir(u,f);s=s.insert(u,m)}).next(()=>s)}ar(t,r){let s=Ws(),u=new Ki(Dn.comparator);return this._r(t,r,(f,m)=>{const A=this.ir(f,m);s=s.insert(f,A),u=u.insert(f,yf(m))}).next(()=>({documents:s,ur:u}))}_r(t,r,s){if(r.isEmpty())return Pt.resolve();let u=new yi(Af);r.forEach(R=>u=u.add(R));const f=IDBKeyRange.bound(Kl(u.first()),Kl(u.last())),m=u.getIterator();let A=m.getNext();return Eu(t).J({index:"documentKeyIndex",range:f},(R,z,re)=>{const De=Dn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;A&&Af(A,De)<0;)s(A,null),A=m.getNext();A&&A.isEqual(De)&&(s(A,z),A=m.hasNext()?m.getNext():null),A?re.$(Kl(A)):re.done()}).next(()=>{for(;A;)s(A,null),A=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(t,r,s,u,f){const m=r.path,A=[m.popLast().toArray(),m.lastSegment(),qu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eu(t).U(IDBKeyRange.bound(A,R,!0)).next(z=>{null==f||f.incrementDocumentReadCount(z.length);let re=Ws();for(const De of z){const qe=this.ir(Dn.fromSegments(De.prefixPath.concat(De.collectionGroup,De.documentId)),De);qe.isFoundDocument()&&(zl(r,qe)||u.has(qe.key))&&(re=re.insert(qe.key,qe))}return re})}getAllFromCollectionGroup(t,r,s,u){let f=Ws();const m=eh(r,s),A=eh(r,di.max());return Eu(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,A,!0)},(R,z,re)=>{const De=this.ir(Dn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);f=f.insert(De.key,De),f.size===u&&re.done()}).next(()=>f)}newChangeBuffer(t){return new kA(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return dg(t).get("remoteDocumentGlobalKey").next(r=>(ar(!!r),r))}rr(t,r){return dg(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const s=function wA(a,t){let r;if(t.document)r=f0(a.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=Dn.fromSegments(t.noDocument.path),u=_u(t.noDocument.readTime);r=Pi.newNoDocument(s,u),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return ir();{const s=Dn.fromSegments(t.unknownDocument.path),u=_u(t.unknownDocument.version);r=Pi.newUnknownDocument(s,u)}}return t.readTime&&r.setReadTime(function(u){const f=new wr(u[0],u[1]);return kn.fromTimestamp(f)}(t.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(kn.min()))return s}return Pi.newInvalidDocument(t)}}function Ef(a){return new Vb(a)}class kA extends OA{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new Gs(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const r=[];let s=0,u=new yi((f,m)=>Zn(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const A=this.lr.get(f);if(r.push(this.cr.removeEntry(t,f,A.readTime)),m.isValidDocument()){const R=ng(this.cr.serializer,m);u=u.add(f.path.popLast());const z=yf(R);s+=z-A.size,r.push(this.cr.addEntry(t,f,R))}else if(s-=A.size,this.trackRemovals){const R=ng(this.cr.serializer,m.convertToNoDocument(kn.min()));r.push(this.cr.addEntry(t,f,R))}}),u.forEach(f=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,f))}),r.push(this.cr.updateMetadata(t,s)),Pt.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(s=>(this.lr.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:s,ur:u})=>(u.forEach((f,m)=>{this.lr.set(f,{size:m,readTime:s.get(f).readTime})}),s))}}function dg(a){return Yi(a,"remoteDocumentGlobal")}function Eu(a){return Yi(a,"remoteDocumentsV14")}function Kl(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function eh(a,t){const r=t.documentKey.path.toArray();return[a,qu(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Af(a,t){const r=a.path.toArray(),s=t.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<s.length-2;++f)if(u=Zn(r[f],s[f]),u)return u;return u=Zn(r.length,s.length),u||(u=Zn(r[r.length-2],s[s.length-2]),u||Zn(r[r.length-1],s[s.length-1]))}class th{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class nh{constructor(t,r,s,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(null!==s&&wl(s.mutation,u,zo.empty(),wr.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,W()).next(()=>s))}getLocalViewOfDocuments(t,r,s=W()){const u=il();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,s).next(f=>{let m=Gu();return f.forEach((A,R)=>{m=m.insert(A,R.overlayedDocument)}),m}))}getOverlayedDocuments(t,r){const s=il();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,W()))}populateOverlays(t,r,s){const u=[];return s.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((m,A)=>{r.set(m,A)})})}computeViews(t,r,s,u){let f=Ws();const m=p(),A=p();return r.forEach((R,z)=>{const re=s.get(z.key);u.has(z.key)&&(void 0===re||re.mutation instanceof Ca)?f=f.insert(z.key,z):void 0!==re?(m.set(z.key,re.mutation.getFieldMask()),wl(re.mutation,z,re.mutation.getFieldMask(),wr.now())):m.set(z.key,zo.empty())}),this.recalculateAndSaveOverlays(t,f).next(R=>(R.forEach((z,re)=>m.set(z,re)),r.forEach((z,re)=>{var De;return A.set(z,new th(re,null!==(De=m.get(z))&&void 0!==De?De:null))}),A))}recalculateAndSaveOverlays(t,r){const s=p();let u=new Ki((m,A)=>m-A),f=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(m=>{for(const A of m)A.keys().forEach(R=>{const z=r.get(R);if(null===z)return;let re=s.get(R)||zo.empty();re=A.applyToLocalView(z,re),s.set(R,re);const De=(u.get(A.batchId)||W()).add(R);u=u.insert(A.batchId,De)})}).next(()=>{const m=[],A=u.getReverseIterator();for(;A.hasNext();){const R=A.getNext(),z=R.key,re=R.value,De=C();re.forEach(qe=>{if(!f.has(qe)){const At=e0(r.get(qe),s.get(qe));null!==At&&De.set(qe,At),f=f.add(qe)}}),m.push(this.documentOverlayCache.saveOverlays(t,z,De))}return Pt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,u){return Dn.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):kc(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,u):this.getDocumentsMatchingCollectionQuery(t,r,s,u);var m}getNextDocuments(t,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,u-f.size):Pt.resolve(il());let A=-1,R=f;return m.next(z=>Pt.forEach(z,(re,De)=>(A<De.largestBatchId&&(A=De.largestBatchId),f.get(re)?Pt.resolve():this.remoteDocumentCache.getEntry(t,re).next(qe=>{R=R.insert(re,qe)}))).next(()=>this.populateOverlays(t,z,f)).next(()=>this.computeViews(t,R,z,W())).next(re=>({batchId:A,changes:zp(re)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Dn(r)).next(s=>{let u=Gu();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,s,u){const f=r.collectionGroup;let m=Gu();return this.indexManager.getCollectionParents(t,f).next(A=>Pt.forEach(A,R=>{const z=(De=r,qe=R.child(f),new xs(qe,null,De.explicitOrderBy.slice(),De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt));var De,qe;return this.getDocumentsMatchingCollectionQuery(t,z,s,u).next(re=>{re.forEach((De,qe)=>{m=m.insert(De,qe)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,r,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,f,u))).next(m=>{f.forEach((R,z)=>{const re=z.getKey();null===m.get(re)&&(m=m.insert(re,Pi.newInvalidDocument(re)))});let A=Gu();return m.forEach((R,z)=>{const re=f.get(R);void 0!==re&&wl(re.mutation,z,zo.empty(),wr.now()),zl(r,z)&&(A=A.insert(R,z))}),A})}}class rh{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return Pt.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Li(u.createTime)}),Pt.resolve();var u}getNamedQuery(t,r){return Pt.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(u=r).name,query:rg(u.bundledQuery),readTime:Li(u.readTime)}),Pt.resolve();var u}}class Tv{constructor(){this.overlays=new Ki(Dn.comparator),this.Ir=new Map}getOverlay(t,r){return Pt.resolve(this.overlays.get(r))}getOverlays(t,r){const s=il();return Pt.forEach(r,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((u,f)=>{this.ht(t,r,f)}),Pt.resolve()}removeOverlaysForBatchId(t,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),Pt.resolve()}getOverlaysForCollection(t,r,s){const u=il(),f=r.length+1,m=new Dn(r.child("")),A=this.overlays.getIteratorFrom(m);for(;A.hasNext();){const R=A.getNext().value,z=R.getKey();if(!r.isPrefixOf(z.path))break;z.path.length===f&&R.largestBatchId>s&&u.set(R.getKey(),R)}return Pt.resolve(u)}getOverlaysForCollectionGroup(t,r,s,u){let f=new Ki((z,re)=>z-re);const m=this.overlays.getIterator();for(;m.hasNext();){const z=m.getNext().value;if(z.getKey().getCollectionGroup()===r&&z.largestBatchId>s){let re=f.get(z.largestBatchId);null===re&&(re=il(),f=f.insert(z.largestBatchId,re)),re.set(z.getKey(),z)}}const A=il(),R=f.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((z,re)=>A.set(z,re)),!(A.size()>=u)););return Pt.resolve(A)}ht(t,r,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new zd(r,s));let f=this.Ir.get(r);void 0===f&&(f=W(),this.Ir.set(r,f)),this.Ir.set(r,f.add(s.key))}}class Cf{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(t){return Pt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Pt.resolve()}}class ec{constructor(){this.Tr=new yi(Lo.Er),this.dr=new yi(Lo.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const s=new Lo(t,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Vr(new Lo(t,r))}mr(t,r){t.forEach(s=>this.removeReference(s,r))}gr(t){const r=new Dn(new Sn([])),s=new Lo(r,t),u=new Lo(r,t+1),f=[];return this.dr.forEachInRange([s,u],m=>{this.Vr(m),f.push(m.key)}),f}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new Dn(new Sn([])),s=new Lo(r,t),u=new Lo(r,t+1);let f=W();return this.dr.forEachInRange([s,u],m=>{f=f.add(m.key)}),f}containsKey(t){const r=new Lo(t,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&t.isEqual(s.key)}}class Lo{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return Dn.comparator(t.key,r.key)||Zn(t.wr,r.wr)}static Ar(t,r){return Zn(t.wr,r.wr)||Dn.comparator(t.key,r.key)}}class Ub{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new yi(Lo.Er)}checkEmpty(t){return Pt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,s,u){const f=this.Sr;this.Sr++;const m=new tv(f,r,s,u);this.mutationQueue.push(m);for(const A of u)this.br=this.br.add(new Lo(A.key,f)),this.indexManager.addToCollectionParentIndex(t,A.key.path.popLast());return Pt.resolve(m)}lookupMutationBatch(t,r){return Pt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const u=this.vr(r+1),f=u<0?0:u;return Pt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Pt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return Pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new Lo(r,0),u=new Lo(r,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],m=>{const A=this.Dr(m.wr);f.push(A)}),Pt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new yi(Zn);return r.forEach(u=>{const f=new Lo(u,0),m=new Lo(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,m],A=>{s=s.add(A.wr)})}),Pt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1;let f=s;Dn.isDocumentKey(f)||(f=f.child(""));const m=new Lo(new Dn(f),0);let A=new yi(Zn);return this.br.forEachWhile(R=>{const z=R.key.path;return!!s.isPrefixOf(z)&&(z.length===u&&(A=A.add(R.wr)),!0)},m),Pt.resolve(this.Cr(A))}Cr(t){const r=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(t,r){ar(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return Pt.forEach(r.mutations,u=>{const f=new Lo(u.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,r){const s=new Lo(r,0),u=this.br.firstAfterOrEqual(s);return Pt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return Pt.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class bv{constructor(t){this.Mr=t,this.docs=new Ki(Dn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,u=this.docs.get(s),f=u?u.size:0,m=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return Pt.resolve(s?s.document.mutableCopy():Pi.newInvalidDocument(r))}getEntries(t,r){let s=Ws();return r.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Pi.newInvalidDocument(u))}),Pt.resolve(s)}getDocumentsMatchingQuery(t,r,s,u){let f=Ws();const m=r.path,A=new Dn(m.child("")),R=this.docs.getIteratorFrom(A);for(;R.hasNext();){const{key:z,value:{document:re}}=R.getNext();if(!m.isPrefixOf(z.path))break;z.path.length>m.length+1||Il(Fl(re),s)<=0||(u.has(re.key)||zl(r,re))&&(f=f.insert(re.key,re.mutableCopy()))}return Pt.resolve(f)}getAllFromCollectionGroup(t,r,s,u){ir()}Or(t,r){return Pt.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new Tf(this)}getSize(t){return Pt.resolve(this.size)}}class Tf extends OA{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),Pt.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class FA{constructor(t){this.persistence=t,this.Nr=new Gs(r=>Bl(r),mu),this.lastRemoteSnapshotVersion=kn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ec,this.targetCount=0,this.kr=Iu.Bn()}forEachTarget(t,r){return this.Nr.forEach((s,u)=>r(u)),Pt.resolve()}getLastRemoteSnapshotVersion(t){return Pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Pt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Pt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),Pt.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Iu(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,Pt.resolve()}updateTargetData(t,r){return this.Kn(r),Pt.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Pt.resolve()}removeTargets(t,r,s){let u=0;const f=[];return this.Nr.forEach((m,A)=>{A.sequenceNumber<=r&&null===s.get(A.targetId)&&(this.Nr.delete(m),f.push(this.removeMatchingKeysForTargetId(t,A.targetId)),u++)}),Pt.waitFor(f).next(()=>u)}getTargetCount(t){return Pt.resolve(this.targetCount)}getTargetData(t,r){const s=this.Nr.get(r)||null;return Pt.resolve(s)}addMatchingKeys(t,r,s){return this.Br.Rr(r,s),Pt.resolve()}removeMatchingKeys(t,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(t,m))}),Pt.waitFor(f)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),Pt.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Br.yr(r);return Pt.resolve(s)}containsKey(t,r){return Pt.resolve(this.Br.containsKey(r))}}class hg{constructor(t,r){this.qr={},this.overlays={},this.Qr=new Ro(0),this.Kr=!1,this.Kr=!0,this.$r=new Cf,this.referenceDelegate=t(this),this.Ur=new FA(this),this.indexManager=new A0,this.remoteDocumentCache=new bv(s=>this.referenceDelegate.Wr(s)),this.serializer=new hv(r),this.Gr=new rh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Tv,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.qr[t.toKey()];return s||(s=new Ub(r,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,s){Cn("MemoryPersistence","Starting transaction:",t);const u=new LA(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(t,r){return Pt.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,r)))}}class LA extends zs{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.Jr=new ec,this.Yr=null}static Zr(t){return new fg(t)}get Xr(){if(this.Yr)return this.Yr;throw ir()}addReference(t,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),Pt.resolve()}removeReference(t,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),Pt.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),Pt.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pt.forEach(this.Xr,s=>{const u=Dn.fromPath(s);return this.ei(t,u).next(f=>{f||r.removeEntry(u,kn.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return Pt.or([()=>Pt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class S0{constructor(t){this.serializer=t}O(t,r,s,u){const f=new Oi("createOrUpgrade",r);var R;s<1&&u>=1&&(t.createObjectStore("owner"),(R=t).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pd,{unique:!0}),R.createObjectStore("documentMutations"),R0(t),function(R){R.createObjectStore("remoteDocuments")}(t));let m=Pt.resolve();return s<3&&u>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(t),R0(t)),m=m.next(()=>function(R){const z=R.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kn.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",re)}(f))),s<4&&u>=4&&(0!==s&&(m=m.next(()=>function(R,z){return z.store("mutations").U().next(re=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Pd,{unique:!0});const De=z.store("mutations"),qe=re.map(At=>De.put(At));return Pt.waitFor(qe)})}(t,f))),m=m.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(m=m.next(()=>this.ni(f))),s<6&&u>=6&&(m=m.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(t),this.ri(f)))),s<7&&u>=7&&(m=m.next(()=>this.ii(f))),s<8&&u>=8&&(m=m.next(()=>this.si(t,f))),s<9&&u>=9&&(m=m.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(m=m.next(()=>this.oi(f))),s<11&&u>=11&&(m=m.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(m=m.next(()=>{!function(R){const z=R.createObjectStore("documentOverlays",{keyPath:Mt});z.createIndex("collectionPathOverlayIndex",Hn,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",Nr,{unique:!1})}(t)})),s<13&&u>=13&&(m=m.next(()=>function(R){const z=R.createObjectStore("remoteDocumentsV14",{keyPath:Km});z.createIndex("documentKeyIndex",qm),z.createIndex("collectionGroupIndex",E)}(t)).next(()=>this._i(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(m=m.next(()=>this.ai(t,f))),s<15&&u>=15&&(m=m.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:pe}).createIndex("sequenceNumberIndex",Ee,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:bt}).createIndex("documentKeyIndex",cn,{unique:!1})}(t))),s<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),s<17&&u>=17&&(m=m.next(()=>{!function(R){R.createObjectStore("globals",{keyPath:"name"})}(t)})),m}ri(t){let r=0;return t.store("remoteDocuments").J((s,u)=>{r+=yf(u)}).next(()=>{const s={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const r=t.store("mutationQueues"),s=t.store("mutations");return r.U().next(u=>Pt.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",m).next(A=>Pt.forEach(A,R=>{ar(R.userId===f.userId);const z=Xu(this.serializer,R);return PA(t,f.userId,z).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((m,A)=>{const R=new Sn(m),z=[0,so(R)];f.push(r.get(z).next(re=>re?Pt.resolve():r.put({targetId:0,path:so(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Pt.waitFor(f))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:U});const s=r.store("collectionParents"),u=new Yd,f=m=>{if(u.add(m)){const A=m.lastSegment(),R=m.popLast();return s.put({collectionId:A,parent:so(R)})}};return r.store("remoteDocuments").J({H:!0},(m,A)=>{const R=new Sn(m);return f(R.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,A,R],z)=>{const re=Ds(A);return f(re.popLast())}))}oi(t){const r=t.store("targets");return r.J((s,u)=>{const f=yu(u),m=qd(this.serializer,f);return r.put(m)})}_i(t,r){const s=r.store("remoteDocuments"),u=[];return s.J((f,m)=>{const A=r.store("remoteDocumentsV14"),R=(De=m,De.document?new Dn(Sn.fromString(De.document.name).popFirst(5)):De.noDocument?Dn.fromSegments(De.noDocument.path):De.unknownDocument?Dn.fromSegments(De.unknownDocument.path):ir()).path.toArray(),z={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var De;u.push(A.put(z))}).next(()=>Pt.waitFor(u))}ai(t,r){const s=r.store("mutations"),u=Ef(this.serializer),f=new hg(fg.Zr,this.serializer.ct);return s.U().next(m=>{const A=new Map;return m.forEach(R=>{var z;let re=null!==(z=A.get(R.userId))&&void 0!==z?z:W();Xu(this.serializer,R).keys().forEach(De=>re=re.add(De)),A.set(R.userId,re)}),Pt.forEach(A,(R,z)=>{const re=new $i(z),De=og.lt(this.serializer,re),qe=f.getIndexManager(re),At=lg.lt(re,this.serializer,qe,f.referenceDelegate);return new nh(u,At,De,qe).recalculateAndSaveOverlaysForDocumentKeys(new Ll(r,Ro.oe),R).next()})})}}function R0(a){a.createObjectStore("targetDocuments",{keyPath:k}).createIndex("documentTargetsIndex",D,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",S,{unique:!0}),a.createObjectStore("targetGlobal")}const wv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kc{constructor(t,r,s,u,f,m,A,R,z,re,De=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=s,this.ui=f,this.window=m,this.document=A,this.ci=z,this.li=re,this.hi=De,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=qe=>Promise.resolve(),!Kc.D())throw new _n(Gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NA(this,u),this.Ai=r+"main",this.serializer=new hv(R),this.Ri=new Io(this.Ai,this.hi,new S0(this.serializer)),this.$r=new pv,this.Ur=new MA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ef(this.serializer),this.Gr=new DA,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===re&&xi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _n(Gt.FAILED_PRECONDITION,wv);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Ro(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var s=(0,c.A)(function*(u){if(r.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,c.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>sh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(jo(t))return Cn("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Cn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return oh(t).get("owner").next(r=>Pt.resolve(this.vi(r)))}Ci(t){return sh(t).delete(this.clientId)}Fi(){var t=this;return(0,c.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Yi(s,"clientMetadata");return u.U().next(f=>{const m=t.xi(f,18e5),A=f.filter(R=>-1===m.indexOf(R));return Pt.forEach(A,R=>u.delete(R.clientId)).next(()=>A)})}).catch(()=>[]);if(t.Vi)for(const s of r)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?Pt.resolve(!0):oh(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new _n(Gt.FAILED_PRECONDITION,wv);return!1}}return!(!this.networkEnabled||!this.inForeground)||sh(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Cn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,c.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ll(r,Ro.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(s=>this.Mi(s.updateTimeMs,r)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>sh(t).U().next(r=>this.xi(r,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return lg.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new C0(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return og.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,s){Cn("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===r?"readonly":"readwrite",f=17===(R=this.hi)?rs:16===R?El:15===R?Po:14===R?ns:13===R?ao:12===R?jr:11===R?gi:void ir();var R;let m;return this.Ri.runTransaction(t,u,f,A=>(m=new Ll(A,this.Qr?this.Qr.next():Ro.oe),"readwrite-primary"===r?this.wi(m).next(R=>!!R||this.Si(m)).next(R=>{if(!R)throw xi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new _n(Gt.FAILED_PRECONDITION,Ja);return s(m)}).next(R=>this.Di(m).next(()=>R)):this.Ki(m).next(()=>s(m)))).then(A=>(m.raiseOnCommittedEvent(),A))}Ki(t){return oh(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new _n(Gt.FAILED_PRECONDITION,wv)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return oh(t).put("owner",r)}static D(){return Io.D()}bi(t){const r=oh(t);return r.get("owner").next(s=>this.vi(s)?(Cn("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Pt.resolve())}Mi(t,r){const s=Date.now();return!(t<s-r||t>s&&(xi(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,we.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const s=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return Cn("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return xi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){xi("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function oh(a){return Yi(a,"owner")}function sh(a){return Yi(a,"clientMetadata")}function Dv(a,t){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+t+"/"+r+"/"}class P0{constructor(t,r,s,u){this.targetId=t,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(t,r){let s=W(),u=W();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new P0(t,r.fromCache,s,u)}}class $b{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ah{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,we.nr)()?8:hr((0,we.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,s,u){const f={result:null};return this.Yi(t,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Zi(t,r,u,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new $b;return this.Xi(t,r,m).next(A=>{if(f.result=A,this.zi)return this.es(t,r,m,A.size)})}).next(()=>f.result)}es(t,r,s,u){return s.documentReadCount<this.ji?(ko()<=jt.$b.DEBUG&&Cn("QueryEngine","SDK will not create cache indexes for query:",Aa(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Pt.resolve()):(ko()<=jt.$b.DEBUG&&Cn("QueryEngine","Query:",Aa(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(ko()<=jt.$b.DEBUG&&Cn("QueryEngine","The SDK decides to create cache indexes for query:",Aa(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ko(r))):Pt.resolve())}Yi(t,r){if(Hp(r))return Pt.resolve(null);let s=Ko(r);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=sf(r,null,"F"),s=Ko(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const m=W(...f);return this.Ji.getDocuments(t,m).next(A=>this.indexManager.getMinOffset(t,s).next(R=>{const z=this.ts(r,A);return this.ns(r,z,m,R.readTime)?this.Yi(t,sf(r,null,"F")):this.rs(t,z,r,R)}))})))}Zi(t,r,s,u){return Hp(r)||u.isEqual(kn.min())?Pt.resolve(null):this.Ji.getDocuments(t,s).next(f=>{const m=this.ts(r,f);return this.ns(r,m,s,u)?Pt.resolve(null):(ko()<=jt.$b.DEBUG&&Cn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Aa(r)),this.rs(t,m,r,Hs(u,-1)).next(A=>A))})}ts(t,r){let s=new yi(af(t));return r.forEach((u,f)=>{zl(t,f)&&(s=s.add(f))}),s}ns(t,r,s,u){if(null===t.limit)return!1;if(s.size!==r.size)return!0;const f="F"===t.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(t,r,s){return ko()<=jt.$b.DEBUG&&Cn("QueryEngine","Using full collection scan to execute query:",Aa(r)),this.Ji.getDocumentsMatchingQuery(t,r,di.min(),s)}rs(t,r,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class VA{constructor(t,r,s,u){this.persistence=t,this.ss=r,this.serializer=u,this.os=new Ki(Zn),this._s=new Gs(f=>Bl(f),mu),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function bf(a,t,r,s){return new VA(a,t,r,s)}function pg(a,t){return gg.apply(this,arguments)}function gg(){return(gg=(0,c.A)(function*(a,t){const r=Un(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,r.ls(t),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],A=[];let R=W();for(const z of u){m.push(z.batchId);for(const re of z.mutations)R=R.add(re.key)}for(const z of f){A.push(z.batchId);for(const re of z.mutations)R=R.add(re.key)}return r.localDocuments.getDocuments(s,R).next(z=>({hs:z,removedBatchIds:m,addedBatchIds:A}))})})})).apply(this,arguments)}function Sv(a){const t=Un(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function Pv(a,t,r){let s=W(),u=W();return r.forEach(f=>s=s.add(f)),t.getEntries(a,s).next(f=>{let m=Ws();return r.forEach((A,R)=>{const z=f.get(A);R.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(A)),R.isNoDocument()&&R.version.isEqual(kn.min())?(t.removeEntry(A,R.readTime),m=m.insert(A,R)):!z.isValidDocument()||R.version.compareTo(z.version)>0||0===R.version.compareTo(z.version)&&z.hasPendingWrites?(t.addEntry(R),m=m.insert(A,R)):Cn("LocalStore","Ignoring outdated watch update for ",A,". Current version:",z.version," Watch version:",R.version)}),{Ps:m,Is:u}})}function qc(a,t){const r=Un(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Xc(a,t){const r=Un(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Ur.getTargetData(s,t).next(f=>f?(u=f,Pt.resolve(u)):r.Ur.allocateTargetId(s).next(m=>(u=new Va(t,m,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(t,s.targetId)),s})}function Au(a,t,r){return mg.apply(this,arguments)}function mg(){return(mg=(0,c.A)(function*(a,t,r){const s=Un(a),u=s.os.get(t),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!jo(m))throw m;Cn("LocalStore",`Failed to update sequence numbers for target ${t}: ${m}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function wf(a,t,r){const s=Un(a);let u=kn.min(),f=W();return s.persistence.runTransaction("Execute query","readwrite",m=>function(R,z,re){const De=Un(R),qe=De._s.get(re);return void 0!==qe?Pt.resolve(De.os.get(qe)):De.Ur.getTargetData(z,re)}(s,m,Ko(t)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(m,A.targetId).next(R=>{f=R})}).next(()=>s.ss.getDocumentsMatchingQuery(m,t,r?u:kn.min(),r?f:W())).next(A=>(xv(s,jd(t),A),{documents:A,Ts:f})))}function Mv(a,t){const r=Un(a),s=Un(r.Ur),u=r.os.get(t);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,t).next(m=>m?m.target:null))}function vg(a,t){const r=Un(a),s=r.us.get(t)||kn.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,t,Hs(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(xv(r,t,u),u))}function xv(a,t,r){let s=a.us.get(t)||kn.min();r.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.us.set(t,s)}function Df(){return(Df=(0,c.A)(function*(a,t,r,s){const u=Un(a);let f=W(),m=Ws();for(const z of r){const re=t.Es(z.metadata.name);z.document&&(f=f.add(re));const De=t.ds(z);De.setReadTime(t.As(z.metadata.readTime)),m=m.insert(re,De)}const A=u.cs.newChangeBuffer({trackRemovals:!0}),R=yield Xc(u,(re=s,Ko(jl(Sn.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>Pv(z,A,m).next(re=>(A.apply(z),re)).next(re=>u.Ur.removeMatchingKeysForTargetId(z,R.targetId).next(()=>u.Ur.addMatchingKeys(z,f,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,re.Ps,re.Is)).next(()=>re.Ps)))})).apply(this,arguments)}function lh(a,t){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,c.A)(function*(a,t,r=W()){const s=yield Xc(a,Ko(rg(t.bundledQuery))),u=Un(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=Li(t.readTime);if(s.snapshotVersion.compareTo(m)>=0)return u.Gr.saveNamedQuery(f,t);const A=s.withResumeToken(ji.EMPTY_BYTE_STRING,m);return u.os=u.os.insert(A.targetId,A),u.Ur.updateTargetData(f,A).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,r,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,t))})})).apply(this,arguments)}function M0(a,t){return`firestore_clients_${a}_${t}`}function $A(a,t,r){let s=`firestore_mutations_${a}_${r}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function uh(a,t){return`firestore_targets_${a}_${t}`}class ch{constructor(t,r,s,u){this.user=t,this.batchId=r,this.state=s,this.error=u}static Rs(t,r,s){const u=JSON.parse(s);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new _n(u.error.code,u.error.message))),m?new ch(t,r,u.state,f):(xi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dh{constructor(t,r,s){this.targetId=t,this.state=r,this.error=s}static Rs(t,r){const s=JSON.parse(r);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new _n(s.error.code,s.error.message))),f?new dh(t,s.state,u):(xi("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Sf{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=gt();for(let m=0;u&&m<s.activeTargetIds.length;++m)u=ws(s.activeTargetIds[m]),f=f.add(s.activeTargetIds[m]);return u?new Sf(t,f):(xi("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class yg{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new yg(r.clientId,r.onlineState):(xi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ig{constructor(){this.activeTargetIds=gt()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ov{constructor(t,r,s,u,f){this.window=t,this.ui=r,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ki(Zn),this.started=!1,this.bs=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=M0(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Ig),this.Cs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,c.A)(function*(){const r=yield t.syncEngine.Qi();for(const u of r){if(u===t.ps)continue;const f=t.getItem(M0(t.persistenceKey,u));if(f){const m=Sf.Rs(u,f);m&&(t.Ss=t.Ss.insert(m.clientId,m))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,s){this.qs(t,r,s),this.Qs(t)}addLocalQueryTarget(t,r=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(uh(this.persistenceKey,t));if(u){const f=dh.Rs(t,u);f&&(s=f.state)}}return r&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(uh(this.persistenceKey,t))}updateQueryState(t,r,s){this.$s(t,r,s)}handleUserChange(t,r,s){r.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return Cn("SharedClientState","READ",t,r),r}setItem(t,r){Cn("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){Cn("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const s=t;if(s.storageArea===this.storage){if(Cn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void xi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==s.key)if(r.Cs.test(s.key)){if(null==s.newValue){const u=r.Gs(s.key);return r.zs(u,null)}{const u=r.js(s.key,s.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(s.key)){if(null!==s.newValue){const u=r.Hs(s.key,s.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(s.key)){if(null!==s.newValue){const u=r.Ys(s.key,s.newValue);if(u)return r.Zs(u)}}else if(s.key===r.xs){if(null!==s.newValue){const u=r.Ls(s.newValue);if(u)return r.Bs(u)}}else if(s.key===r.vs){const u=function(m){let A=Ro.oe;if(null!=m)try{const R=JSON.parse(m);ar("number"==typeof R),A=R}catch(R){xi("SharedClientState","Failed to read sequence number from WebStorage",R)}return A}(s.newValue);u!==Ro.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Os){const u=r.Xs(s.newValue);yield Promise.all(u.map(f=>r.syncEngine.eo(f)))}}else r.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,s){const u=new ch(this.currentUser,t,r,s),f=$A(this.persistenceKey,this.currentUser,t);this.setItem(f,u.Vs())}Qs(t){const r=$A(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,s){const u=uh(this.persistenceKey,t),f=new dh(t,r,s);this.setItem(u,f.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const s=this.Gs(t);return Sf.Rs(s,r)}Hs(t,r){const s=this.Fs.exec(t),u=Number(s[1]);return ch.Rs(new $i(void 0!==s[2]?s[2]:null),u,r)}Ys(t,r){const s=this.Ms.exec(t),u=Number(s[1]);return dh.Rs(u,r)}Ls(t){return yg.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,c.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);Cn("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const s=r?this.Ss.insert(t,r):this.Ss.remove(t),u=this.ks(this.Ss),f=this.ks(s),m=[],A=[];return f.forEach(R=>{u.has(R)||m.push(R)}),u.forEach(R=>{f.has(R)||A.push(R)}),this.syncEngine.io(m,A).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=gt();return t.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class x0{constructor(){this.so=new Ig,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,s){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Ig,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class BA{_o(t){}shutdown(){}}class N0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Cn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Cn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eg=null;function ql(){return null===Eg?Eg=268435456+Math.round(2147483648*Math.random()):Eg++,"0x"+Eg.toString(16)}const Rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jA{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const da="WebChannelConnection";class Bb extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(r,s,u,f,m){const A=ql(),R=this.xo(r,s.toUriEncodedString());Cn("RestConnection",`Sending RPC '${r}' ${A}:`,R,u);const z={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(z,f,m),this.No(r,R,z,u).then(re=>(Cn("RestConnection",`Received RPC '${r}' ${A}: `,re),re),re=>{throw So("RestConnection",`RPC '${r}' ${A} failed with error: `,re,"url: ",R,"request:",u),re})}Lo(r,s,u,f,m,A){return this.Mo(r,s,u,f,m)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+ia,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}xo(r,s){return`${this.Do}/v1/${s}:${Rf[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,s,u){const f=ql();return new Promise((m,A)=>{const R=new ml;R.setWithCredentials(!0),R.listenOnce(lu.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case ka.NO_ERROR:const re=R.getResponseJson();Cn(da,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(re)),m(re);break;case ka.TIMEOUT:Cn(da,`RPC '${t}' ${f} timed out`),A(new _n(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case ka.HTTP_ERROR:const De=R.getStatus();if(Cn(da,`RPC '${t}' ${f} failed with status:`,De,"response text:",R.getResponseText()),De>0){let qe=R.getResponseJson();Array.isArray(qe)&&(qe=qe[0]);const At=null==qe?void 0:qe.error;if(At&&At.status&&At.message){const Wt=function(Jt){const Bn=Jt.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf(Bn)>=0?Bn:Gt.UNKNOWN}(At.status);A(new _n(Wt,At.message))}else A(new _n(Gt.UNKNOWN,"Server responded with status "+R.getStatus()))}else A(new _n(Gt.UNAVAILABLE,"Connection failed."));break;default:ir()}}finally{Cn(da,`RPC '${t}' ${f} completed.`)}});const z=JSON.stringify(u);Cn(da,`RPC '${t}' ${f} sending request:`,u),R.send(r,"POST",z,s,15)})}Bo(t,r,s){const u=ql(),f=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=Ya(),A=kl(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(R.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(R.useFetchStreams=!0),this.Oo(R.initMessageHeaders,r,s),R.encodeInitMessageHeaders=!0;const re=f.join("");Cn(da,`Creating RPC '${t}' stream ${u}: ${re}`,R);const De=m.createWebChannel(re,R);let qe=!1,At=!1;const Wt=new jA({Io:Jt=>{At?Cn(da,`Not sending because RPC '${t}' stream ${u} is closed:`,Jt):(qe||(Cn(da,`Opening RPC '${t}' stream ${u} transport.`),De.open(),qe=!0),Cn(da,`RPC '${t}' stream ${u} sending:`,Jt),De.send(Jt))},To:()=>De.close()}),hn=(Jt,Bn,or)=>{Jt.listen(Bn,zn=>{try{or(zn)}catch(jn){setTimeout(()=>{throw jn},0)}})};return hn(De,js.EventType.OPEN,()=>{At||(Cn(da,`RPC '${t}' stream ${u} transport opened.`),Wt.yo())}),hn(De,js.EventType.CLOSE,()=>{At||(At=!0,Cn(da,`RPC '${t}' stream ${u} transport closed`),Wt.So())}),hn(De,js.EventType.ERROR,Jt=>{At||(At=!0,So(da,`RPC '${t}' stream ${u} transport errored:`,Jt),Wt.So(new _n(Gt.UNAVAILABLE,"The operation could not be completed")))}),hn(De,js.EventType.MESSAGE,Jt=>{var Bn;if(!At){const or=Jt.data[0];ar(!!or);const jn=or.error||(null===(Bn=or[0])||void 0===Bn?void 0:Bn.error);if(jn){Cn(da,`RPC '${t}' stream ${u} received error:`,jn);const Rr=jn.status;let _r=function(mt){const St=Mo[mt];if(void 0!==St)return o0(St)}(Rr),Ct=jn.message;void 0===_r&&(_r=Gt.INTERNAL,Ct="Unknown error status: "+Rr+" with message "+jn.message),At=!0,Wt.So(new _n(_r,Ct)),De.close()}else Cn(da,`RPC '${t}' stream ${u} received:`,or),Wt.bo(or)}}),hn(A,vl.STAT_EVENT,Jt=>{Jt.stat===ma.PROXY?Cn(da,`RPC '${t}' stream ${u} detected buffering proxy`):Jt.stat===ma.NOPROXY&&Cn(da,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Wt.wo()},0),Wt}}function HA(){return typeof window<"u"?window:null}function kv(){return typeof document<"u"?document:null}function Ag(a){return new IA(a,!0)}class Cg{constructor(t,r,s=1e3,u=1.5,f=6e4){this.ui=t,this.timerId=r,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&Cn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class O0{constructor(t,r,s,u,f,m,A,R){this.ui=t,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=A,this.listener=R,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Cg(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,c.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,c.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var s=this;return(0,c.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():r&&r.code===Gt.RESOURCE_EXHAUSTED?(xi(r.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===Gt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{t(()=>{const u=new _n(Gt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,r){const s=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,c.A)(function*(){t.state=0,t.start()}))}I_(t){return Cn("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(Cn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zA extends O0{constructor(t,r,s,u,f,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function uv(a,t){let r;if("targetChange"in t){const s="NO_CHANGE"===(z=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:ir(),u=t.targetChange.targetIds||[],f=function(z,re){return z.useProto3Json?(ar(void 0===re||"string"==typeof re),ji.fromBase64String(re||"")):(ar(void 0===re||re instanceof Buffer||re instanceof Uint8Array),ji.fromUint8Array(re||new Uint8Array))}(a,t.targetChange.resumeToken),m=t.targetChange.cause,A=m&&function(z){const re=void 0===z.code?Gt.UNKNOWN:o0(z.code);return new _n(re,z.message||"")}(m);r=new _A(s,u,f,A||null)}else if("documentChange"in t){const s=t.documentChange,u=ul(a,s.document.name),f=Li(s.document.updateTime),m=s.document.createTime?Li(s.document.createTime):kn.min(),A=new zr({mapValue:{fields:s.document.fields}}),R=Pi.newFoundDocument(u,f,m,A);r=new df(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in t){const s=t.documentDelete,u=ul(a,s.document),f=s.readTime?Li(s.readTime):kn.min(),m=Pi.newNoDocument(u,f);r=new df([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){const s=t.documentRemove,u=ul(a,s.document);r=new df([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return ir();{const s=t.filter,{count:u=0,unchangedNames:f}=s,m=new r0(u,f);r=new Ks(s.targetId,m)}}var z;return r}(this.serializer,t),s=function(f){if(!("targetChange"in f))return kn.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?kn.min():m.readTime?Li(m.readTime):kn.min()}(t);return this.listener.d_(r,s)}A_(t){const r={};r.database=lo(this.serializer),r.addTarget=function(f,m){let A;const R=m.target;if(A=Oc(R)?{documents:p0(f,R)}:{query:tg(f,R)._t},A.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){A.resumeToken=EA(f,m.resumeToken);const z=av(f,m.expectedCount);null!==z&&(A.expectedCount=z)}else if(m.snapshotVersion.compareTo(kn.min())>0){A.readTime=ll(f,m.snapshotVersion.toTimestamp());const z=av(f,m.expectedCount);null!==z&&(A.expectedCount=z)}return A}(this.serializer,t);const s=function vu(a,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ir()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);s&&(r.labels=s),this.a_(r)}R_(t){const r={};r.database=lo(this.serializer),r.removeTarget=t,this.a_(r)}}class GA extends O0{constructor(t,r,s,u,f,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return ar(!!t.streamToken),this.lastStreamToken=t.streamToken,ar(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){ar(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function cv(a,t){return a&&a.length>0?(ar(void 0!==t),a.map(r=>function(u,f){let m=Li(u.updateTime?u.updateTime:f);return m.isEqual(kn.min())&&(m=Li(f)),new Wp(m,u.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),s=Li(t.commitTime);return this.listener.g_(s,r)}p_(){const t={};t.database=lo(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>Kd(this.serializer,s))};this.a_(r)}}class WA extends class{}{constructor(t,r,s,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new _n(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Mo(t,Yp(r,s),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _n(Gt.UNKNOWN,f.toString())})}Lo(t,r,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,A])=>this.connection.Lo(t,Yp(r,s),u,m,A,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new _n(Gt.UNKNOWN,m.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Fv{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(r),this.D_=!1):Cn("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Cu{constructor(t,r,s,u,f){var m=this;this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(A=>{s.enqueueAndForget((0,c.A)(function*(){var R;Yc(m)&&(Cn("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,c.A)(function*(re){const De=Un(re);De.L_.add(4),yield Qc(De),De.q_.set("Unknown"),De.L_.delete(4),yield Tu(De)}),function z(re){return R.apply(this,arguments)})(m))}))}),this.q_=new Fv(s,u)}}function Tu(a){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,c.A)(function*(a){if(Yc(a))for(const t of a.B_)yield t(!0)})).apply(this,arguments)}function Qc(a){return bg.apply(this,arguments)}function bg(){return(bg=(0,c.A)(function*(a){for(const t of a.B_)yield t(!1)})).apply(this,arguments)}function Lv(a,t){const r=Un(a);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),F0(r)?Mf(r):ph(r).r_()&&k0(r,t))}function Pf(a,t){const r=Un(a),s=ph(r);r.N_.delete(t),s.r_()&&wg(r,t),0===r.N_.size&&(s.r_()?s.o_():Yc(r)&&r.q_.set("Unknown"))}function k0(a,t){if(a.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(kn.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ph(a).A_(t)}function wg(a,t){a.Q_.xe(t),ph(a).R_(t)}function Mf(a){a.Q_=new Nb({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>a.N_.get(t)||null,tt:()=>a.datastore.serializer.databaseId}),ph(a).start(),a.q_.v_()}function F0(a){return Yc(a)&&!ph(a).n_()&&a.N_.size>0}function Yc(a){return 0===Un(a).L_.size}function Vv(a){a.Q_=void 0}function KA(a){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,c.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function qA(a){return $v.apply(this,arguments)}function $v(){return($v=(0,c.A)(function*(a){a.N_.forEach((t,r)=>{k0(a,t)})})).apply(this,arguments)}function XA(a,t){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,c.A)(function*(a,t){Vv(a),F0(a)?(a.q_.M_(t),Mf(a)):a.q_.set("Unknown")})).apply(this,arguments)}function L0(a,t,r){return Bv.apply(this,arguments)}function Bv(){return Bv=(0,c.A)(function*(a,t,r){if(a.q_.set("Online"),t instanceof _A&&2===t.state&&t.cause)try{yield(s=(0,c.A)(function*(f,m){const A=m.cause;for(const R of m.targetIds)f.N_.has(R)&&(yield f.remoteSyncer.rejectListen(R,A),f.N_.delete(R),f.Q_.removeTarget(R))}),function u(f,m){return s.apply(this,arguments)})(a,t)}catch(s){Cn("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Sg(a,s)}else if(t instanceof df?a.Q_.Ke(t):t instanceof Ks?a.Q_.He(t):a.Q_.We(t),!r.isEqual(kn.min()))try{const s=yield Sv(a.localStore);r.compareTo(s)>=0&&(yield function(f,m){const A=f.Q_.rt(m);return A.targetChanges.forEach((R,z)=>{if(R.resumeToken.approximateByteSize()>0){const re=f.N_.get(z);re&&f.N_.set(z,re.withResumeToken(R.resumeToken,m))}}),A.targetMismatches.forEach((R,z)=>{const re=f.N_.get(R);if(!re)return;f.N_.set(R,re.withResumeToken(ji.EMPTY_BYTE_STRING,re.snapshotVersion)),wg(f,R);const De=new Va(re.target,R,z,re.sequenceNumber);k0(f,De)}),f.remoteSyncer.applyRemoteEvent(A)}(a,r))}catch(s){Cn("RemoteStore","Failed to raise snapshot:",s),yield Sg(a,s)}var s}),Bv.apply(this,arguments)}function Sg(a,t,r){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,c.A)(function*(a,t,r){if(!jo(t))throw t;a.L_.add(1),yield Qc(a),a.q_.set("Offline"),r||(r=()=>Sv(a.localStore)),a.asyncQueue.enqueueRetryable((0,c.A)(function*(){Cn("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Tu(a)}))})).apply(this,arguments)}function xf(a,t){return t().catch(r=>Sg(a,r,t))}function hh(a){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,c.A)(function*(a){const t=Un(a),r=bu(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;QA(t);)try{const u=yield qc(t.localStore,s);if(null===u){0===t.O_.length&&r.o_();break}s=u.batchId,fh(t,u)}catch(u){yield Sg(t,u)}V0(t)&&U0(t)})).apply(this,arguments)}function QA(a){return Yc(a)&&a.O_.length<10}function fh(a,t){a.O_.push(t);const r=bu(a);r.r_()&&r.V_&&r.m_(t.mutations)}function V0(a){return Yc(a)&&!bu(a).n_()&&a.O_.length>0}function U0(a){bu(a).start()}function jv(a){return Pg.apply(this,arguments)}function Pg(){return(Pg=(0,c.A)(function*(a){bu(a).p_()})).apply(this,arguments)}function YA(a){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,c.A)(function*(a){const t=bu(a);for(const r of a.O_)t.m_(r.mutations)})).apply(this,arguments)}function JA(a,t,r){return zv.apply(this,arguments)}function zv(){return(zv=(0,c.A)(function*(a,t,r){const s=a.O_.shift(),u=qp.from(s,t,r);yield xf(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield hh(a)})).apply(this,arguments)}function $0(a,t){return B0.apply(this,arguments)}function B0(){return B0=(0,c.A)(function*(a,t){var r;t&&bu(a).V_&&(yield(r=(0,c.A)(function*(u,f){if(nv(A=f.code)&&A!==Gt.ABORTED){const m=u.O_.shift();bu(u).s_(),yield xf(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield hh(u)}var A}),function s(u,f){return r.apply(this,arguments)})(a,t)),V0(a)&&U0(a)}),B0.apply(this,arguments)}function ZA(a,t){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,c.A)(function*(a,t){const r=Un(a);r.asyncQueue.verifyOperationInProgress(),Cn("RemoteStore","RemoteStore received new credentials");const s=Yc(r);r.L_.add(3),yield Qc(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield Tu(r)})).apply(this,arguments)}function Gv(a,t){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,c.A)(function*(a,t){const r=Un(a);t?(r.L_.delete(2),yield Tu(r)):t||(r.L_.add(2),yield Qc(r),r.q_.set("Unknown"))})).apply(this,arguments)}function ph(a){return a.K_||(a.K_=function(r,s,u){const f=Un(r);return f.w_(),new zA(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:KA.bind(null,a),Ro:qA.bind(null,a),mo:XA.bind(null,a),d_:L0.bind(null,a)}),a.B_.push(function(){var t=(0,c.A)(function*(r){r?(a.K_.s_(),F0(a)?Mf(a):a.q_.set("Unknown")):(yield a.K_.stop(),Vv(a))});return function(r){return t.apply(this,arguments)}}())),a.K_}function bu(a){return a.U_||(a.U_=function(r,s,u){const f=Un(r);return f.w_(),new GA(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jv.bind(null,a),mo:$0.bind(null,a),f_:YA.bind(null,a),g_:JA.bind(null,a)}),a.B_.push(function(){var t=(0,c.A)(function*(r){r?(a.U_.s_(),yield hh(a)):(yield a.U_.stop(),a.O_.length>0&&(Cn("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return t.apply(this,arguments)}}())),a.U_}class Kv{constructor(t,r,s,u,f){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new T,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,u,f){const m=Date.now()+s,A=new Kv(t,r,m,u,f);return A.start(s),A}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(Gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gh(a,t){if(xi("AsyncQueue",`${t}: ${a}`),jo(a))return new _n(Gt.UNAVAILABLE,`${t}: ${a}`);throw a}class mh{constructor(t){this.comparator=t?(r,s)=>t(r,s)||Dn.comparator(r.key,s.key):(r,s)=>Dn.comparator(r.key,s.key),this.keyedMap=Gu(),this.sortedSet=new Ki(this.comparator)}static emptySet(t){return new mh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof mh)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const s=new mh;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class j0{constructor(){this.W_=new Ki(Dn.comparator)}track(t){const r=t.doc.key,s=this.W_.get(r);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(r):1===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):ir():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,s)=>{t.push(s)}),t}}class vh{constructor(t,r,s,u,f,m,A,R,z){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=A,this.excludesMetadataChanges=R,this.hasCachedResults=z}static fromInitialDocuments(t,r,s,u,f){const m=[];return r.forEach(A=>{m.push({type:0,doc:A})}),new vh(t,r,mh.emptySet(r),m,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class eC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class qv{constructor(){this.queries=tC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=Un(r),f=u.queries;u.queries=tC(),f.forEach((m,A)=>{for(const R of A.j_)R.onError(s)})}(this,new _n(Gt.ABORTED,"Firestore shutting down"))}}function tC(){return new Gs(a=>zu(a),rl)}function H0(a,t){return Of.apply(this,arguments)}function Of(){return(Of=(0,c.A)(function*(a,t){const r=Un(a);let s=3;const u=t.query;let f=r.queries.get(u);f?!f.H_()&&t.J_()&&(s=2):(f=new eC,s=t.J_()?0:1);try{switch(s){case 0:f.z_=yield r.onListen(u,!0);break;case 1:f.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const A=gh(m,`Initialization of query '${Aa(t.query)}' failed`);return void t.onError(A)}r.queries.set(u,f),f.j_.push(t),t.Z_(r.onlineState),f.z_&&t.X_(f.z_)&&W0(r)})).apply(this,arguments)}function z0(a,t){return G0.apply(this,arguments)}function G0(){return(G0=(0,c.A)(function*(a,t){const r=Un(a),s=t.query;let u=3;const f=r.queries.get(s);if(f){const m=f.j_.indexOf(t);m>=0&&(f.j_.splice(m,1),0===f.j_.length?u=t.J_()?0:1:!f.H_()&&t.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function jb(a,t){const r=Un(a);let s=!1;for(const u of t){const m=r.queries.get(u.query);if(m){for(const A of m.j_)A.X_(u)&&(s=!0);m.z_=u}}s&&W0(r)}function Hb(a,t,r){const s=Un(a),u=s.queries.get(t);if(u)for(const f of u.j_)f.onError(r);s.queries.delete(t)}function W0(a){a.Y_.forEach(t=>{t.next()})}var Xv,kf;(kf=Xv||(Xv={})).ea="default",kf.Cache="cache";class _h{constructor(t,r,s){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new vh(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=vh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Xv.Cache}}class K0{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class Qv{constructor(t){this.serializer=t}Es(t){return ul(this.serializer,t)}ds(t){return t.metadata.exists?f0(this.serializer,t.document,!1):Pi.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Li(t)}}class q0{constructor(t,r,s){this.ca=t,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=X0(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const s=Sn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,s=new Qv(this.serializer);for(const u of t)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const m of u.metadata.queries){const A=(r.get(m)||W()).add(f);r.set(m,A)}}return r}complete(){var t=this;return(0,c.A)(function*(){const r=yield function _g(a,t,r,s){return Df.apply(this,arguments)}(t.localStore,new Qv(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield lh(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function X0(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Q0{constructor(t){this.key=t}}class Yv{constructor(t){this.key=t}}class Zc{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=W(),this.mutatedKeys=W(),this.Aa=af(t),this.Ra=new mh(this.Aa)}get Va(){return this.Ta}ma(t,r){const s=r?r.fa:new j0,u=r?r.Ra:this.Ra;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,A=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((re,De)=>{const qe=u.get(re),At=zl(this.query,De)?De:null,Wt=!!qe&&this.mutatedKeys.has(qe.key),hn=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let Jt=!1;qe&&At?qe.data.isEqual(At.data)?Wt!==hn&&(s.track({type:3,doc:At}),Jt=!0):this.ga(qe,At)||(s.track({type:2,doc:At}),Jt=!0,(R&&this.Aa(At,R)>0||z&&this.Aa(At,z)<0)&&(A=!0)):!qe&&At?(s.track({type:0,doc:At}),Jt=!0):qe&&!At&&(s.track({type:1,doc:qe}),Jt=!0,(R||z)&&(A=!0)),Jt&&(At?(m=m.add(At),f=hn?f.add(re):f.delete(re)):(m=m.delete(re),f=f.delete(re)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const re="F"===this.query.limitType?m.last():m.first();m=m.delete(re.key),f=f.delete(re.key),s.track({type:1,doc:re})}return{Ra:m,fa:s,ns:A,mutatedKeys:f}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,u){const f=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const m=t.fa.G_();m.sort((re,De)=>function(At,Wt){const hn=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ir()}};return hn(At)-hn(Wt)}(re.type,De.type)||this.Aa(re.doc,De.doc)),this.pa(s),u=null!=u&&u;const A=r&&!u?this.ya():[],R=0===this.da.size&&this.current&&!u?1:0,z=R!==this.Ea;return this.Ea=R,0!==m.length||z?{snapshot:new vh(this.query,t.Ra,f,m,t.mutatedKeys,0===R,z,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:A}:{wa:A}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new j0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=W(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return t.forEach(s=>{this.da.has(s)||r.push(new Yv(s))}),this.da.forEach(s=>{t.has(s)||r.push(new Q0(s))}),r}ba(t){this.Ta=t.Ts,this.da=W();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return vh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class $a{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class Ba{constructor(t){this.key=t,this.va=!1}}class Y0{constructor(t,r,s,u,f,m){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new Gs(A=>zu(A),rl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ki(Dn.comparator),this.Na=new Map,this.La=new ec,this.Ba={},this.ka=new Map,this.qa=Iu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function zb(a,t){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,c.A)(function*(a,t,r=!0){const s=zf(a);let u;const f=s.Fa.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield Zv(s,t,r,!0),u})).apply(this,arguments)}function Gb(a,t){return J0.apply(this,arguments)}function J0(){return(J0=(0,c.A)(function*(a,t){const r=zf(a);yield Zv(r,t,!0,!1)})).apply(this,arguments)}function Zv(a,t,r,s){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,c.A)(function*(a,t,r,s){const u=yield Xc(a.localStore,Ko(t)),f=u.targetId,m=a.sharedClientState.addLocalQueryTarget(f,r);let A;return s&&(A=yield Z0(a,t,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&Lv(a.remoteStore,u),A})).apply(this,arguments)}function Z0(a,t,r,s,u){return yh.apply(this,arguments)}function yh(){return yh=(0,c.A)(function*(a,t,r,s,u){a.Ka=(De,qe,At)=>{return(Wt=(0,c.A)(function*(Jt,Bn,or,zn){let jn=Bn.view.ma(or);jn.ns&&(jn=yield wf(Jt.localStore,Bn.query,!1).then(({documents:Ze})=>Bn.view.ma(Ze,jn)));const Rr=zn&&zn.targetChanges.get(Bn.targetId),_r=zn&&null!=zn.targetMismatches.get(Bn.targetId),Ct=Bn.view.applyChanges(jn,Jt.isPrimaryClient,Rr,_r);return Fg(Jt,Bn.targetId,Ct.wa),Ct.snapshot}),function hn(Jt,Bn,or,zn){return Wt.apply(this,arguments)})(a,De,qe,At);var Wt};const f=yield wf(a.localStore,t,!0),m=new Zc(t,f.Ts),A=m.ma(f.documents),R=Gd.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),z=m.applyChanges(A,a.isPrimaryClient,R);Fg(a,r,z.wa);const re=new $a(t,r,m);return a.Fa.set(t,re),a.Ma.has(r)?a.Ma.get(r).push(t):a.Ma.set(r,[t]),z.snapshot}),yh.apply(this,arguments)}function e_(a,t,r){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,c.A)(function*(a,t,r){const s=Un(a),u=s.Fa.get(t),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(m=>!rl(m,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Au(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Pf(s.remoteStore,u.targetId),Ah(s,u.targetId)}).catch(gs))):(Ah(s,u.targetId),yield Au(s.localStore,u.targetId,!0))})).apply(this,arguments)}function nC(a,t){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.A)(function*(a,t){const r=Un(a),s=r.Fa.get(t),u=r.Ma.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Pf(r.remoteStore,s.targetId))})).apply(this,arguments)}function xg(){return(xg=(0,c.A)(function*(a,t,r){const s=$g(a);try{const u=yield function(m,A){const R=Un(m),z=wr.now(),re=A.reduce((At,Wt)=>At.add(Wt.key),W());let De,qe;return R.persistence.runTransaction("Locally write mutations","readwrite",At=>{let Wt=Ws(),hn=W();return R.cs.getEntries(At,re).next(Jt=>{Wt=Jt,Wt.forEach((Bn,or)=>{or.isValidDocument()||(hn=hn.add(Bn))})}).next(()=>R.localDocuments.getOverlayedDocuments(At,Wt)).next(Jt=>{De=Jt;const Bn=[];for(const or of A){const zn=vA(or,De.get(or.key).overlayedDocument);null!=zn&&Bn.push(new Ca(or.key,zn,Ld(zn.value.mapValue),Hi.exists(!0)))}return R.mutationQueue.addMutationBatch(At,z,Bn,A)}).next(Jt=>{qe=Jt;const Bn=Jt.applyToLocalDocumentSet(De,hn);return R.documentOverlayCache.saveOverlays(At,Jt.batchId,Bn)})}).then(()=>({batchId:qe.batchId,changes:zp(De)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(m,A,R){let z=m.Ba[m.currentUser.toKey()];z||(z=new Ki(Zn)),z=z.insert(A,R),m.Ba[m.currentUser.toKey()]=z}(s,u.batchId,r),yield Xl(s,u.changes),yield hh(s.remoteStore)}catch(u){const f=gh(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Ng(a,t){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,c.A)(function*(a,t){const r=Un(a);try{const s=yield function Rv(a,t){const r=Un(a),s=t.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const A=[];t.targetChanges.forEach((re,De)=>{const qe=u.get(De);if(!qe)return;A.push(r.Ur.removeMatchingKeys(f,re.removedDocuments,De).next(()=>r.Ur.addMatchingKeys(f,re.addedDocuments,De)));let At=qe.withSequenceNumber(f.currentSequenceNumber);var hn,Jt,Bn;null!==t.targetMismatches.get(De)?At=At.withResumeToken(ji.EMPTY_BYTE_STRING,kn.min()).withLastLimboFreeSnapshotVersion(kn.min()):re.resumeToken.approximateByteSize()>0&&(At=At.withResumeToken(re.resumeToken,s)),u=u.insert(De,At),Jt=At,Bn=re,(0===(hn=qe).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&A.push(r.Ur.updateTargetData(f,At))});let R=Ws(),z=W();if(t.documentUpdates.forEach(re=>{t.resolvedLimboDocuments.has(re)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(f,re))}),A.push(Pv(f,m,t.documentUpdates).next(re=>{R=re.Ps,z=re.Is})),!s.isEqual(kn.min())){const re=r.Ur.getLastRemoteSnapshotVersion(f).next(De=>r.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));A.push(re)}return Pt.waitFor(A).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,R,z)).next(()=>R)}).then(f=>(r.os=u,f))}(r.localStore,t);t.targetChanges.forEach((u,f)=>{const m=r.Na.get(f);m&&(ar(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.va=!0:u.modifiedDocuments.size>0?ar(m.va):u.removedDocuments.size>0&&(ar(m.va),m.va=!1))}),yield Xl(r,s,t)}catch(s){yield gs(s)}})).apply(this,arguments)}function eI(a,t,r){const s=Un(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((f,m)=>{const A=m.view.Z_(t);A.snapshot&&u.push(A.snapshot)}),function(m,A){const R=Un(m);R.onlineState=A;let z=!1;R.queries.forEach((re,De)=>{for(const qe of De.j_)qe.Z_(A)&&(z=!0)}),z&&W0(R)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function rC(a,t,r){return Og.apply(this,arguments)}function Og(){return(Og=(0,c.A)(function*(a,t,r){const s=Un(a);s.sharedClientState.updateQueryState(t,"rejected",r);const u=s.Na.get(t),f=u&&u.key;if(f){let m=new Ki(Dn.comparator);m=m.insert(f,Pi.newNoDocument(f,kn.min()));const A=W().add(f),R=new Qp(kn.min(),new Map,new Ki(Zn),m,A);yield Ng(s,R),s.Oa=s.Oa.remove(f),s.Na.delete(t),Lg(s)}else yield Au(s.localStore,t,!1).then(()=>Ah(s,t,r)).catch(gs)})).apply(this,arguments)}function iC(a,t){return n_.apply(this,arguments)}function n_(){return(n_=(0,c.A)(function*(a,t){const r=Un(a),s=t.batch.batchId;try{const u=yield function UA(a,t){const r=Un(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=r.cs.newChangeBuffer({trackRemovals:!0});return function(A,R,z,re){const De=z.batch,qe=De.keys();let At=Pt.resolve();return qe.forEach(Wt=>{At=At.next(()=>re.getEntry(R,Wt)).next(hn=>{const Jt=z.docVersions.get(Wt);ar(null!==Jt),hn.version.compareTo(Jt)<0&&(De.applyToRemoteDocument(hn,z),hn.isValidDocument()&&(hn.setReadTime(z.commitVersion),re.addEntry(hn)))})}),At.next(()=>A.mutationQueue.removeMutationBatch(R,De))}(r,s,t,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(A){let R=W();for(let z=0;z<A.mutationResults.length;++z)A.mutationResults[z].transformResults.length>0&&(R=R.add(A.batch.mutations[z].key));return R}(t))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,t);r_(r,s,null),Uf(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Xl(r,u)}catch(u){yield gs(u)}})).apply(this,arguments)}function tI(a,t,r){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,c.A)(function*(a,t,r){const s=Un(a);try{const u=yield function(m,A){const R=Un(m);return R.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let re;return R.mutationQueue.lookupMutationBatch(z,A).next(De=>(ar(null!==De),re=De.keys(),R.mutationQueue.removeMutationBatch(z,De))).next(()=>R.mutationQueue.performConsistencyCheck(z)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(z,re,A)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,re)).next(()=>R.localDocuments.getDocuments(z,re))})}(s.localStore,t);r_(s,t,r),Uf(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),yield Xl(s,u)}catch(u){yield gs(u)}})).apply(this,arguments)}function Eh(){return(Eh=(0,c.A)(function*(a,t){const r=Un(a);Yc(r.remoteStore)||Cn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const A=Un(m);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>A.mutationQueue.getHighestUnacknowledgedBatchId(R))}(r.localStore);if(-1===s)return void t.resolve();const u=r.ka.get(s)||[];u.push(t),r.ka.set(s,u)}catch(s){const u=gh(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Uf(a,t){(a.ka.get(t)||[]).forEach(r=>{r.resolve()}),a.ka.delete(t)}function r_(a,t,r){const s=Un(a);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(r?f.reject(r):f.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function Ah(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Ma.get(t))a.Fa.delete(s),r&&a.Ca.$a(s,r);a.Ma.delete(t),a.isPrimaryClient&&a.La.gr(t).forEach(s=>{a.La.containsKey(s)||kg(a,s)})}function kg(a,t){a.xa.delete(t.path.canonicalString());const r=a.Oa.get(t);null!==r&&(Pf(a.remoteStore,r),a.Oa=a.Oa.remove(t),a.Na.delete(r),Lg(a))}function Fg(a,t,r){for(const s of r)s instanceof Q0?(a.La.addReference(s.key,t),ed(a,s)):s instanceof Yv?(Cn("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,t),a.La.containsKey(s.key)||kg(a,s.key)):ir()}function ed(a,t){const r=t.key,s=r.path.canonicalString();a.Oa.get(r)||a.xa.has(s)||(Cn("SyncEngine","New document in limbo: "+r),a.xa.add(s),Lg(a))}function Lg(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const t=a.xa.values().next().value;a.xa.delete(t);const r=new Dn(Sn.fromString(t)),s=a.qa.next();a.Na.set(s,new Ba(r)),a.Oa=a.Oa.insert(r,s),Lv(a.remoteStore,new Va(Ko(jl(r.path)),s,"TargetPurposeLimboResolution",Ro.oe))}}function Xl(a,t,r){return $f.apply(this,arguments)}function $f(){return $f=(0,c.A)(function*(a,t,r){const s=Un(a),u=[],f=[],m=[];var A;s.Fa.isEmpty()||(s.Fa.forEach((A,R)=>{m.push(s.Ka(R,t,r).then(z=>{var re;if((z||r)&&s.isPrimaryClient){const De=z?!z.fromCache:null===(re=null==r?void 0:r.targetChanges.get(R.targetId))||void 0===re?void 0:re.current;s.sharedClientState.updateQueryState(R.targetId,De?"current":"not-current")}if(z){u.push(z);const De=P0.Wi(R.targetId,z);f.push(De)}}))}),yield Promise.all(m),s.Ca.d_(u),yield(A=(0,c.A)(function*(z,re){const De=Un(z);try{yield De.persistence.runTransaction("notifyLocalViewChanges","readwrite",qe=>Pt.forEach(re,At=>Pt.forEach(At.$i,Wt=>De.persistence.referenceDelegate.addReference(qe,At.targetId,Wt)).next(()=>Pt.forEach(At.Ui,Wt=>De.persistence.referenceDelegate.removeReference(qe,At.targetId,Wt)))))}catch(qe){if(!jo(qe))throw qe;Cn("LocalStore","Failed to update sequence numbers: "+qe)}for(const qe of re){const At=qe.targetId;if(!qe.fromCache){const Wt=De.os.get(At),Jt=Wt.withLastLimboFreeSnapshotVersion(Wt.snapshotVersion);De.os=De.os.insert(At,Jt)}}}),function R(z,re){return A.apply(this,arguments)})(s.localStore,f))}),$f.apply(this,arguments)}function oC(a,t){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,c.A)(function*(a,t){const r=Un(a);if(!r.currentUser.isEqual(t)){Cn("SyncEngine","User change. New user:",t.toKey());const s=yield pg(r.localStore,t);r.currentUser=t,(f=r).ka.forEach(A=>{A.forEach(R=>{R.reject(new _n(Gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Xl(r,s.hs)}var f})).apply(this,arguments)}function nI(a,t){const r=Un(a),s=r.Na.get(t);if(s&&s.va)return W().add(s.key);{let u=W();const f=r.Ma.get(t);if(!f)return u;for(const m of f){const A=r.Fa.get(m);u=u.unionWith(A.view.Va)}return u}}function rI(a,t){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,c.A)(function*(a,t){const r=Un(a),s=yield wf(r.localStore,t.query,!0),u=t.view.ba(s);return r.isPrimaryClient&&Fg(r,t.targetId,u.wa),u})).apply(this,arguments)}function iI(a,t){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,c.A)(function*(a,t){const r=Un(a);return vg(r.localStore,t).then(s=>Xl(r,s))})).apply(this,arguments)}function td(a,t,r,s){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,c.A)(function*(a,t,r,s){const u=Un(a),f=yield function(A,R){const z=Un(A),re=Un(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",De=>re.Mn(De,R).next(qe=>qe?z.localDocuments.getDocuments(De,qe):Pt.resolve(null)))}(u.localStore,t);var R;null!==f?("pending"===r?yield hh(u.remoteStore):"acknowledged"===r||"rejected"===r?(r_(u,t,s||null),Uf(u,t),R=t,Un(Un(u.localStore).mutationQueue).On(R)):ir(),yield Xl(u,f)):Cn("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function nd(){return(nd=(0,c.A)(function*(a,t){const r=Un(a);if(zf(r),$g(r),!0===t&&!0!==r.Qa){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield o_(r,s.toArray());r.Qa=!0,yield Gv(r.remoteStore,!0);for(const f of u)Lv(r.remoteStore,f)}else if(!1===t&&!1!==r.Qa){const s=[];let u=Promise.resolve();r.Ma.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?s.push(m):u=u.then(()=>(Ah(r,m),Au(r.localStore,m,!0))),Pf(r.remoteStore,m)}),yield u,yield o_(r,s),function(m){const A=Un(m);A.Na.forEach((R,z)=>{Pf(A.remoteStore,z)}),A.La.pr(),A.Na=new Map,A.Oa=new Ki(Dn.comparator)}(r),r.Qa=!1,yield Gv(r.remoteStore,!1)}})).apply(this,arguments)}function o_(a,t,r){return jf.apply(this,arguments)}function jf(){return(jf=(0,c.A)(function*(a,t,r){const s=Un(a),u=[],f=[];for(const m of t){let A;const R=s.Ma.get(m);if(R&&0!==R.length){A=yield Xc(s.localStore,Ko(R[0]));for(const z of R){const re=s.Fa.get(z),De=yield rI(s,re);De.snapshot&&f.push(De.snapshot)}}else{const z=yield Mv(s.localStore,m);A=yield Xc(s.localStore,z),yield Z0(s,Hf(z),m,!1,A.resumeToken)}u.push(A)}return s.Ca.d_(f),u})).apply(this,arguments)}function Hf(a){return ki(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function sC(a){return r=Un(a).localStore,Un(Un(r).persistence).Qi();var r}function oI(a,t,r,s){return s_.apply(this,arguments)}function s_(){return(s_=(0,c.A)(function*(a,t,r,s){const u=Un(a);if(u.Qa)return void Cn("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(t);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield vg(u.localStore,jd(f[0])),A=Qp.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,ji.EMPTY_BYTE_STRING);yield Xl(u,m,A);break}case"rejected":yield Au(u.localStore,t,!0),Ah(u,t,s);break;default:ir()}})).apply(this,arguments)}function aC(a,t,r){return a_.apply(this,arguments)}function a_(){return(a_=(0,c.A)(function*(a,t,r){const s=zf(a);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Cn("SyncEngine","Adding an already active target "+u);continue}const f=yield Mv(s.localStore,u),m=yield Xc(s.localStore,f);yield Z0(s,Hf(f),m.targetId,!1,m.resumeToken),Lv(s.remoteStore,m)}for(const u of r)s.Ma.has(u)&&(yield Au(s.localStore,u,!1).then(()=>{Pf(s.remoteStore,u),Ah(s,u)}).catch(gs))}})).apply(this,arguments)}function zf(a){const t=Un(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ng.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rC.bind(null,t),t.Ca.d_=jb.bind(null,t.eventManager),t.Ca.$a=Hb.bind(null,t.eventManager),t}function $g(a){const t=Un(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,t),t}let rd=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,c.A)(function*(){s.serializer=Ag(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return bf(this.persistence,new ah,r.initialUser,this.serializer)}Ga(r){return new hg(fg.Zr,this.serializer)}Wa(r){return new x0}terminate(){var r=this;return(0,c.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class nc extends rd{constructor(t,r,s){super(),this.Ja=t,this.cacheSizeBytes=r,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,t),yield s.Ja.initialize(s,t),yield $g(s.Ja.syncEngine),yield hh(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return bf(this.persistence,new ah,t.initialUser,this.serializer)}ja(t,r){return new xA(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}Ha(t,r){const s=new Eo(r,this.persistence);return new po(t.asyncQueue,s)}Ga(t){const r=Dv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new Kc(this.synchronizeTabs,r,t.clientId,s,t.asyncQueue,HA(),kv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new x0}}class l_ extends nc{constructor(t,r){super(t,r,!1),this.Ja=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof Ov&&(s.sharedClientState.syncEngine={no:td.bind(null,u),ro:oI.bind(null,u),io:aC.bind(null,u),Qi:sC.bind(null,u),eo:iI.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,c.A)(function*(m){yield function i_(a,t){return nd.apply(this,arguments)}(s.Ja.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}Wa(t){const r=HA();if(!Ov.D(r))throw new _n(Gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Dv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ov(r,t.asyncQueue,s,t.clientId,t.initialUser)}}let id=(()=>{class a{initialize(r,s){var u=this;return(0,c.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>eI(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=oC.bind(null,u.syncEngine),yield Gv(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new qv}createDatastore(r){const s=Ag(r.databaseInfo.databaseId),u=new Bb(r.databaseInfo);return new WA(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,f=this.datastore,m=r.asyncQueue,A=s=>eI(this.syncEngine,s,0),R=N0.D()?new N0:new BA,new Cu(u,f,m,A,R);var u,f,m,A,R}createSyncEngine(r,s){return function(f,m,A,R,z,re,De){const qe=new Y0(f,m,A,R,z,re);return De&&(qe.Qa=!0),qe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,c.A)(function*(){var s,u,f;yield(f=(0,c.A)(function*(A){const R=Un(A);Cn("RemoteStore","RemoteStore shutting down."),R.L_.add(5),yield Qc(R),R.k_.shutdown(),R.q_.set("Unknown")}),function m(A){return f.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();function aI(a,t=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+t),done:!1};return r+=t,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class od{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):xi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}class sd{constructor(t,r){this.Xa=t,this.serializer=r,this.metadata=new T,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,c.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,c.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,c.A)(function*(){const r=yield t.nu();if(null===r)return null;const s=t.eu.decode(r),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const f=yield t.iu(u);return new K0(JSON.parse(f),r.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,c.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const r=t.su();r<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),s})()}iu(t){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<t;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const s=r.eu.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,c.A)(function*(){const r=yield t.Xa.read();if(!r.done){const s=new Uint8Array(t.buffer.length+r.value.length);s.set(t.buffer),s.set(r.value,t.buffer.length),t.buffer=s}return r.done})()}}class u_{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new _n(Gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,c.A)(function*(m,A){const R=Un(m),z={documents:A.map(At=>Jp(R.serializer,At))},re=yield R.Lo("BatchGetDocuments",R.serializer.databaseId,Sn.emptyPath(),z,A.length),De=new Map;re.forEach(At=>{const Wt=function CA(a,t){return"found"in t?function(s,u){ar(!!u.found);const f=ul(s,u.found.name),m=Li(u.found.updateTime),A=u.found.createTime?Li(u.found.createTime):kn.min(),R=new zr({mapValue:{fields:u.found.fields}});return Pi.newFoundDocument(f,m,A,R)}(a,t):"missing"in t?function(s,u){ar(!!u.missing),ar(!!u.readTime);const f=ul(s,u.missing),m=Li(u.readTime);return Pi.newNoDocument(f,m)}(a,t):ir()}(R.serializer,At);De.set(Wt.key.toString(),Wt)});const qe=[];return A.forEach(At=>{const Wt=De.get(At.toString());ar(!!Wt),qe.push(Wt)}),qe}),function f(m,A){return u.apply(this,arguments)})(r.datastore,t);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Bc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,c.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var s;t.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const f=Dn.fromPath(u);t.mutations.push(new uf(f,t.precondition(f)))}),yield(s=(0,c.A)(function*(f,m){const A=Un(f),R={writes:m.map(z=>Kd(A.serializer,z))};yield A.Mo("Commit",A.serializer.databaseId,Sn.emptyPath(),R)}),function u(f,m){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw ir();r=kn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!r.isEqual(s))throw new _n(Gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(kn.min())?Hi.exists(!1):Hi.updateTime(r):Hi.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(kn.min()))throw new _n(Gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hi.updateTime(r)}return Hi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Gf{constructor(t,r,s,u,f){this.asyncQueue=t,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=f,this._u=s.maxAttempts,this.t_=new Cg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,c.A)(function*(){const r=new u_(t.datastore),s=t.cu(r);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(u)}).catch(f=>{t.lu(f)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const r=this.updateFunction(t);return!aa(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!nv(r)}return!1}}class lI{constructor(t,r,s,u,f){var m=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=$i.UNAUTHENTICATED,this.clientId=qr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var A=(0,c.A)(function*(R){Cn("FirestoreClient","Received user=",R.uid),yield m.authCredentialListener(R),m.user=R});return function(R){return A.apply(this,arguments)}}()),this.appCheckCredentials.start(s,A=>(Cn("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new T;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=gh(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Wf(a,t){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,c.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),Cn("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,c.A)(function*(f){s.isEqual(f)||(yield pg(t.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),Kf.apply(this,arguments)}function Bg(a,t){return jg.apply(this,arguments)}function jg(){return(jg=(0,c.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const r=yield qf(a);Cn("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,a.configuration),a.setCredentialChangeListener(s=>ZA(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>ZA(t.remoteStore,u)),a._onlineComponents=t})).apply(this,arguments)}function qf(a){return c_.apply(this,arguments)}function c_(){return(c_=(0,c.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Cn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wf(a,a._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Gt.FAILED_PRECONDITION||u.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),yield Wf(a,new rd)}}else Cn("FirestoreClient","Using default OfflineComponentProvider"),yield Wf(a,new rd);var u;return a._offlineComponents})).apply(this,arguments)}function Hg(a){return d_.apply(this,arguments)}function d_(){return(d_=(0,c.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Cn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bg(a,a._uninitializedComponentsProvider._online)):(Cn("FirestoreClient","Using default OnlineComponentProvider"),yield Bg(a,new id))),a._onlineComponents})).apply(this,arguments)}function h_(a){return qf(a).then(t=>t.persistence)}function Th(a){return qf(a).then(t=>t.localStore)}function uI(a){return Hg(a).then(t=>t.remoteStore)}function f_(a){return Hg(a).then(t=>t.syncEngine)}function ad(a){return zg.apply(this,arguments)}function zg(){return(zg=(0,c.A)(function*(a){const t=yield Hg(a),r=t.eventManager;return r.onListen=zb.bind(null,t.syncEngine),r.onUnlisten=e_.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Gb.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=nC.bind(null,t.syncEngine),r})).apply(this,arguments)}function dI(a,t,r={}){const s=new T;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(f,m,A,R,z){const re=new od({next:qe=>{re.Za(),m.enqueueAndForget(()=>z0(f,De));const At=qe.docs.has(A);!At&&qe.fromCache?z.reject(new _n(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):At&&qe.fromCache&&R&&"server"===R.source?z.reject(new _n(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(qe)},error:qe=>z.reject(qe)}),De=new _h(jl(A.path),re,{includeMetadataChanges:!0,_a:!0});return H0(f,De)}(yield ad(a),a.asyncQueue,t,r,s)})),s.promise}function dC(a,t,r={}){const s=new T;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(f,m,A,R,z){const re=new od({next:qe=>{re.Za(),m.enqueueAndForget(()=>z0(f,De)),qe.fromCache&&"server"===R.source?z.reject(new _n(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(qe)},error:qe=>z.reject(qe)}),De=new _h(A,re,{includeMetadataChanges:!0,_a:!0});return H0(f,De)}(yield ad(a),a.asyncQueue,t,r,s)})),s.promise}function pI(a){const t={};return void 0!==a.timeoutSeconds&&(t.timeoutSeconds=a.timeoutSeconds),t}const Gg=new Map;function g_(a,t,r){if(!r)throw new _n(Gt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function gI(a,t,r,s){if(!0===t&&!0===s)throw new _n(Gt.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function mI(a){if(!Dn.isDocumentKey(a))throw new _n(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function vI(a){if(Dn.isDocumentKey(a))throw new _n(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Wg(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(s=a).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof a?"a function":ir()}function Gr(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new _n(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wg(a);throw new _n(Gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function Kg(a,t){if(t<=0)throw new _n(Gt.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class _I{constructor(t){var r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new _n(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _n(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=pI(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new _n(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xf{constructor(t,r,s,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _I({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _n(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new _n(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _I(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new Oe;switch(s.type){case"firstParty":return new qt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _n(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,c.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Gg.get(r);s&&(Cn("ComponentProvider","Removing Datastore"),Gg.delete(r),s.terminate())}(this),Promise.resolve()}}function m_(a,t,r,s={}){var u;const f=(a=Gr(a,Xf))._getSettings(),m=`${t}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),s.mockUserToken){let A,R;if("string"==typeof s.mockUserToken)A=s.mockUserToken,R=$i.MOCK_USER;else{A=(0,we.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new _n(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new $i(z)}a._authCredentials=new B(new H(A,R))}}class ys{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ys(this.firestore,t,this._query)}}class Xi{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Xi(this.firestore,t,this._key)}}class cl extends ys{constructor(t,r,s){super(t,r,jl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Xi(this.firestore,null,new Dn(t))}withConverter(t){return new cl(this.firestore,t,this._path)}}function yI(a,t,...r){if(a=(0,we.Ku)(a),g_("collection","path",t),a instanceof Xf){const s=Sn.fromString(t,...r);return vI(s),new cl(a,null,s)}{if(!(a instanceof Xi||a instanceof cl))throw new _n(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Sn.fromString(t,...r));return vI(s),new cl(a.firestore,null,s)}}function bh(a,t,...r){if(a=(0,we.Ku)(a),1===arguments.length&&(t=qr.newId()),g_("doc","path",t),a instanceof Xf){const s=Sn.fromString(t,...r);return mI(s),new Xi(a,null,new Dn(s))}{if(!(a instanceof Xi||a instanceof cl))throw new _n(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Sn.fromString(t,...r));return mI(s),new Xi(a.firestore,a instanceof cl?a.converter:null,new Dn(s))}}function v_(a,t){return a=(0,we.Ku)(a),t=(0,we.Ku)(t),(a instanceof Xi||a instanceof cl)&&(t instanceof Xi||t instanceof cl)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function wh(a,t){return a=(0,we.Ku)(a),t=(0,we.Ku)(t),a instanceof ys&&t instanceof ys&&a.firestore===t.firestore&&rl(a._query,t._query)&&a.converter===t.converter}class qg{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Cg(this,"async_queue_retry"),this.Vu=()=>{const s=kv();s&&Cn("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const r=kv();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=kv();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new T;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,c.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(r){if(!jo(r))throw r;Cn("AsyncQueue","Operation failed with retryable error: "+r)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,xi("INTERNAL UNHANDLED ERROR: ",function(m){let A=m.message||"";return m.stack&&(A=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),A}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(t,r,s){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const u=Kv.createAndSchedule(this,t,r,s,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&ir()}verifyOperationInProgress(){}wu(){var t=this;return(0,c.A)(function*(){let r;do{r=t.mu,yield r}while(r!==t.mu)})()}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function Dl(a){return function(r){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class mC{constructor(){this._progressObserver={},this._taskCompletionResolver=new T,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,s){this._progressObserver={next:t,error:r,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class zi extends Xf{constructor(t,r,s,u){super(t,r,s,u),this.type="firestore",this._queue=new qg,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var t=this;return(0,c.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new qg(r),t._firestoreClient=void 0,yield r}})()}}function Dh(a,t){const r="object"==typeof a?a:(0,Rt.getApp)(),s="string"==typeof a?a:t||"(default)",u=(0,Rt._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=(0,we.yU)("firestore");f&&m_(u,...f)}return u}function go(a){if(a._terminated)throw new _n(Gt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||rc(a),a._firestoreClient}function rc(a){var t,r,s;const u=a._freezeSettings(),f=(R=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new xd(a._databaseId,R,a._persistenceKey,(re=u).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,pI(re.experimentalLongPollingOptions),re.useFetchStreams));var R,re;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new lI(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(A){const R=null==A?void 0:A._online.build();return{_offline:null==A?void 0:A._offline.build(R),_online:R}}(a._componentsProvider))}function ld(){return(ld=(0,c.A)(function*(a){So("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=a._freezeSettings();y_(a,id.provider,{build:r=>new l_(r,t.cacheSizeBytes)})})).apply(this,arguments)}function y_(a,t,r){if((a=Gr(a,zi))._firestoreClient||a._terminated)throw new _n(Gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new _n(Gt.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:r},rc(a)}class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(ji.fromBase64String(t))}catch(r){throw new _n(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ja(ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wu{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new _n(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ud{constructor(t){this._methodName=t}}class Qf{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new _n(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new _n(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zn(this._lat,t._lat)||Zn(this._long,t._long)}}class Xg{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,t._values)}}const bC=/^__.*__$/;class AI{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return null!==this.fieldMask?new Ca(t,this.data,this.fieldMask,r,this.fieldTransforms):new Uc(t,this.data,r,this.fieldTransforms)}}class Qg{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new Ca(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function I_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ir()}}class ic{constructor(t,r,s,u,f,m){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new ic(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return oc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(I_(this.Cu)&&bC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Yf{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||Ag(t)}Qu(t,r,s,u=!1){return new ic({Cu:t,methodName:r,qu:s,path:Hr.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sl(a){const t=a._freezeSettings(),r=Ag(a._databaseId);return new Yf(a._databaseId,!!t.ignoreUndefinedProperties,r)}function Yg(a,t,r,s,u,f={}){const m=a.Qu(f.merge||f.mergeFields?2:0,t,r,u);C_("Data must be an object, but it was:",m,s);const A=DI(s,m);let R,z;if(f.merge)R=new zo(m.fieldMask),z=m.fieldTransforms;else if(f.mergeFields){const re=[];for(const De of f.mergeFields){const qe=ep(t,De,r);if(!m.contains(qe))throw new _n(Gt.INVALID_ARGUMENT,`Field '${qe}' is specified in your field mask but missing from your input data.`);Jg(re,qe)||re.push(qe)}R=new zo(re),z=m.fieldTransforms.filter(De=>R.covers(De.field))}else R=null,z=m.fieldTransforms;return new AI(new zr(A),R,z)}class Jf extends ud{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jf}}function CI(a,t,r){return new ic({Cu:3,qu:t.settings.qu,methodName:a._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ph extends ud{_toFieldTransform(t){return new bl(t.path,new sl)}isEqual(t){return t instanceof Ph}}class Zf extends ud{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=CI(this,t,!0),s=this.Ku.map(f=>Mh(f,r)),u=new Gl(s);return new bl(t.path,u)}isEqual(t){return t instanceof Zf&&(0,we.bD)(this.Ku,t.Ku)}}class E_ extends ud{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=CI(this,t,!0),s=this.Ku.map(f=>Mh(f,r)),u=new Wl(s);return new bl(t.path,u)}isEqual(t){return t instanceof E_&&(0,we.bD)(this.Ku,t.Ku)}}class TI extends ud{constructor(t,r){super(t),this.$u=r}_toFieldTransform(t){const r=new al(t.serializer,lr(t.serializer,this.$u));return new bl(t.path,r)}isEqual(t){return t instanceof TI&&this.$u===t.$u}}function bI(a,t,r,s){const u=a.Qu(1,t,r);C_("Data must be an object, but it was:",u,s);const f=[],m=zr.empty();la(s,(R,z)=>{const re=xh(t,R,r);z=(0,we.Ku)(z);const De=u.Nu(re);if(z instanceof Jf)f.push(re);else{const qe=Mh(z,De);null!=qe&&(f.push(re),m.set(re,qe))}});const A=new zo(f);return new Qg(m,A,u.fieldTransforms)}function A_(a,t,r,s,u,f){const m=a.Qu(1,t,r),A=[ep(t,s,r)],R=[u];if(f.length%2!=0)throw new _n(Gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let qe=0;qe<f.length;qe+=2)A.push(ep(t,f[qe])),R.push(f[qe+1]);const z=[],re=zr.empty();for(let qe=A.length-1;qe>=0;--qe)if(!Jg(z,A[qe])){const At=A[qe];let Wt=R[qe];Wt=(0,we.Ku)(Wt);const hn=m.Nu(At);if(Wt instanceof Jf)z.push(At);else{const Jt=Mh(Wt,hn);null!=Jt&&(z.push(At),re.set(At,Jt))}}const De=new zo(z);return new Qg(re,De,m.fieldTransforms)}function wI(a,t,r,s=!1){return Mh(r,a.Qu(s?4:3,t))}function Mh(a,t){if(wC(a=(0,we.Ku)(a)))return C_("Unsupported field value:",t,a),DI(a,t);if(a instanceof ud)return function(s,u){if(!I_(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const f=[];let m=0;for(const A of s){let R=Mh(A,u.Lu(m));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),m++}return{arrayValue:{values:f}}}(a,t)}return function(s,u){if(null===(s=(0,we.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return lr(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=wr.fromDate(s);return{timestampValue:ll(u.serializer,f)}}if(s instanceof wr){const f=new wr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ll(u.serializer,f)}}if(s instanceof Qf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ja)return{bytesValue:EA(u.serializer,s._byteString)};if(s instanceof Xi){const f=u.databaseId,m=s.firestore._databaseId;if(!m.isEqual(f))throw u.Bu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Wd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Xg)return A=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(R=>{if("number"!=typeof R)throw A.Bu("VectorValues must only contain numeric values.");return Ht(A.serializer,R)})}}}}};var A;throw u.Bu(`Unsupported field value: ${Wg(s)}`)}(a,t)}function DI(a,t){const r={};return Vu(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(a,(s,u)=>{const f=Mh(u,t.Mu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function wC(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof wr||a instanceof Qf||a instanceof ja||a instanceof Xi||a instanceof ud||a instanceof Xg)}function C_(a,t,r){if(!wC(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Wg(r);throw t.Bu("an object"===s?a+" a custom object":a+" "+s)}var u}function ep(a,t,r){if((t=(0,we.Ku)(t))instanceof wu)return t._internalPath;if("string"==typeof t)return xh(a,t);throw oc("Field path arguments must be of type string or ",a,!1,void 0,r)}const DC=new RegExp("[~\\*/\\[\\]]");function xh(a,t,r){if(t.search(DC)>=0)throw oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new wu(...t.split("."))._internalPath}catch{throw oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function oc(a,t,r,s,u){const f=s&&!s.isEmpty(),m=void 0!==u;let A=`Function ${t}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let R="";return(f||m)&&(R+=" (found",f&&(R+=` in field ${s}`),m&&(R+=` in document ${u}`),R+=")"),new _n(Gt.INVALID_ARGUMENT,A+a+R)}function Jg(a,t){return a.some(r=>r.isEqual(t))}class sc{constructor(t,r,s,u,f){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Xi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(ac("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class SI extends sc{data(){return super.data()}}function ac(a,t){return"string"==typeof t?xh(a,t):t instanceof wu?t._internalPath:t._delegate._internalPath}function T_(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new _n(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class Du extends b_{}function Ql(a,t,...r){let s=[];t instanceof b_&&s.push(t),s=s.concat(r),function(f){const m=f.filter(R=>R instanceof cd).length,A=f.filter(R=>R instanceof Nh).length;if(m>1||m>0&&A>0)throw new _n(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Nh extends Du{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new Nh(t,r,s)}_apply(t){const r=this._parse(t);return OI(t._query,r),new ys(t.firestore,t.converter,Ea(t._query,r))}_parse(t){const r=Sl(t.firestore);return function(f,m,A,R,z,re,De){let qe;if(z.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new _n(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){NI(De,re);const At=[];for(const Wt of De)At.push(rp(R,f,Wt));qe={arrayValue:{values:At}}}else qe=rp(R,f,De)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||NI(De,re),qe=wI(A,"where",De,"in"===re||"not-in"===re);return fi.create(z,re,qe)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class cd extends b_{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new cd(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Si.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(u,f){let m=u;const A=f.getFlattenedFilters();for(const R of A)OI(m,R),m=Ea(m,R)}(t._query,r),new ys(t.firestore,t.converter,Ea(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class w_ extends Du{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new w_(t,r)}_apply(t){const r=function(u,f,m){if(null!==u.startAt)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(f,m)}(t._query,this._field,this._direction);return new ys(t.firestore,t.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new xs(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,r))}}class Zg extends Du{constructor(t,r,s){super(),this.type=t,this._limit=r,this._limitType=s}static _create(t,r,s){return new Zg(t,r,s)}_apply(t){return new ys(t.firestore,t.converter,sf(t._query,this._limit,this._limitType))}}class dd extends Du{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new dd(t,r,s)}_apply(t){const r=em(t,this.type,this._docOrFields,this._inclusive);return new ys(t.firestore,t.converter,(f=r,new xs((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class np extends Du{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new np(t,r,s)}_apply(t){const r=em(t,this.type,this._docOrFields,this._inclusive);return new ys(t.firestore,t.converter,(f=r,new xs((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function em(a,t,r,s){if(r[0]=(0,we.Ku)(r[0]),r[0]instanceof sc)return function(f,m,A,R,z){if(!R)throw new _n(Gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const re=[];for(const De of Hu(f))if(De.field.isKeyField())re.push(hu(m,R.key));else{const qe=R.data.field(De.field);if(Uu(qe))throw new _n(Gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+De.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===qe){const At=De.field.canonicalString();throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${At}' (used as the orderBy) does not exist.`)}re.push(qe)}return new Fo(re,z)}(a._query,a.firestore._databaseId,t,r[0]._document,s);{const u=Sl(a.firestore);return function(m,A,R,z,re,De){const qe=m.explicitOrderBy;if(re.length>qe.length)throw new _n(Gt.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const At=[];for(let Wt=0;Wt<re.length;Wt++){const hn=re[Wt];if(qe[Wt].field.isKeyField()){if("string"!=typeof hn)throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof hn}`);if(!kc(m)&&-1!==hn.indexOf("/"))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${hn}' contains a slash.`);const Jt=m.path.child(Sn.fromString(hn));if(!Dn.isDocumentKey(Jt))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const Bn=new Dn(Jt);At.push(hu(A,Bn))}else{const Jt=wI(R,z,hn);At.push(Jt)}}return new Fo(At,De)}(a._query,a.firestore._databaseId,u,t,r,s)}}function rp(a,t,r){if("string"==typeof(r=(0,we.Ku)(r))){if(""===r)throw new _n(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kc(t)&&-1!==r.indexOf("/"))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(Sn.fromString(r));if(!Dn.isDocumentKey(s))throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return hu(a,new Dn(s))}if(r instanceof Xi)return hu(a,r._key);throw new _n(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wg(r)}.`)}function NI(a,t){if(!Array.isArray(a)||0===a.length)throw new _n(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function OI(a,t){const r=function(u,f){for(const m of u)for(const A of m.getFlattenedFilters())if(f.indexOf(A.op)>=0)return A.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new _n(Gt.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class D_{convertValue(t,r="none"){switch(La(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Fa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ir()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return la(t,(u,f)=>{s[u]=this.convertValue(f,r)}),s}convertVectorValue(t){var r,s,u;const f=null===(u=null===(s=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(m=>qi(m.doubleValue));return new Xg(f)}convertGeoPoint(t){return new Qf(qi(t.latitude),qi(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Rs(t);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const r=To(t);return new wr(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=Sn.fromString(t);ar(Hc(s));const u=new Al(s.get(1),s.get(3)),f=new Dn(s.popFirst(5));return u.isEqual(r)||xi(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function tm(a,t,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,s}class MC extends D_{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Xi(this.firestore,null,r)}}class Rl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dl extends sc{constructor(t,r,s,u,f,m){super(t,r,s,u,m),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(ac("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class rm extends dl{data(t={}){return super.data(t)}}class lc{constructor(t,r,s,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new Rl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new rm(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _n(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new rm(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Rl(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>f||3!==A.type).map(A=>{const R=new rm(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Rl(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let z=-1,re=-1;return 0!==A.type&&(z=m.indexOf(A.doc.key),m=m.delete(A.doc.key)),1!==A.type&&(m=m.add(A.doc),re=m.indexOf(A.doc.key)),{type:VI(A.type),doc:R,oldIndex:z,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function VI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ir()}}function im(a,t){return a instanceof dl&&t instanceof dl?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof lc&&t instanceof lc&&a._firestore===t._firestore&&wh(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}function UI(a){a=Gr(a,Xi);const t=Gr(a.firestore,zi);return dI(go(t),a._key).then(r=>x_(t,a,r))}class Su extends D_{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Xi(this.firestore,null,r)}}function R_(a,t,r){a=Gr(a,Xi);const s=Gr(a.firestore,zi),u=tm(a.converter,t,r);return uc(s,[Yg(Sl(s),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,Hi.none())])}function P_(a,t,r,...s){a=Gr(a,Xi);const u=Gr(a.firestore,zi),f=Sl(u);let m;return m="string"==typeof(t=(0,we.Ku)(t))||t instanceof wu?A_(f,"updateDoc",a._key,t,r,s):bI(f,"updateDoc",a._key,t),uc(u,[m.toMutation(a._key,Hi.exists(!0))])}function HI(a){return uc(Gr(a.firestore,zi),[new Bc(a._key,Hi.none())])}function zI(a,t){const r=Gr(a.firestore,zi),s=bh(a),u=tm(a.converter,t);return uc(r,[Yg(Sl(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,Hi.exists(!1))]).then(()=>s)}function M_(a,...t){var r,s,u;a=(0,we.Ku)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof t[m]||Dl(t[m])||(f=t[m],m++);const A={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Dl(t[m])){const De=t[m];t[m]=null===(r=De.next)||void 0===r?void 0:r.bind(De),t[m+1]=null===(s=De.error)||void 0===s?void 0:s.bind(De),t[m+2]=null===(u=De.complete)||void 0===u?void 0:u.bind(De)}let R,z,re;if(a instanceof Xi)z=Gr(a.firestore,zi),re=jl(a._key.path),R={next:De=>{t[m]&&t[m](x_(z,a,De))},error:t[m+1],complete:t[m+2]};else{const De=Gr(a,ys);z=Gr(De.firestore,zi),re=De._query;const qe=new Su(z);R={next:At=>{t[m]&&t[m](new lc(z,qe,De,At))},error:t[m+1],complete:t[m+2]},T_(a._query)}return function(qe,At,Wt,hn){const Jt=new od(hn),Bn=new _h(At,Jt,Wt);return qe.asyncQueue.enqueueAndForget((0,c.A)(function*(){return H0(yield ad(qe),Bn)})),()=>{Jt.Za(),qe.asyncQueue.enqueueAndForget((0,c.A)(function*(){return z0(yield ad(qe),Bn)}))}}(go(z),re,A,R)}function uc(a,t){return function(s,u){const f=new T;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function t_(a,t,r){return xg.apply(this,arguments)}(yield f_(s),u,f)})),f.promise}(go(a),t)}function x_(a,t,r){const s=r.docs.get(t._key),u=new Su(a);return new dl(a,u,t._key,s,new Rl(r.hasPendingWrites,r.fromCache),t.converter)}const GI={maxAttempts:5};class WI{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Sl(t)}set(t,r,s){this._verifyNotCommitted();const u=Ru(t,this._firestore),f=tm(u.converter,r,s),m=Yg(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(m.toMutation(u._key,Hi.none())),this}update(t,r,s,...u){this._verifyNotCommitted();const f=Ru(t,this._firestore);let m;return m="string"==typeof(r=(0,we.Ku)(r))||r instanceof wu?A_(this._dataReader,"WriteBatch.update",f._key,r,s,u):bI(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,Hi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=Ru(t,this._firestore);return this._mutations=this._mutations.concat(new Bc(r._key,Hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _n(Gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ru(a,t){if((a=(0,we.Ku)(a)).firestore!==t)throw new _n(Gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class om extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Sl(r)}get(r){const s=Ru(r,this._firestore),u=new MC(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return ir();const m=f[0];if(m.isFoundDocument())return new sc(this._firestore,u,m.key,m,s.converter);if(m.isNoDocument())return new sc(this._firestore,u,s._key,null,s.converter);throw ir()})}set(r,s,u){const f=Ru(r,this._firestore),m=tm(f.converter,s,u),A=Yg(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,A),this}update(r,s,u,...f){const m=Ru(r,this._firestore);let A;return A="string"==typeof(s=(0,we.Ku)(s))||s instanceof wu?A_(this._dataReader,"Transaction.update",m._key,s,u,f):bI(this._dataReader,"Transaction.update",m._key,s),this._transaction.update(m._key,A),this}delete(r){const s=Ru(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Ru(t,this._firestore),s=new Su(this._firestore);return super.get(t).then(u=>new dl(this._firestore,s,r._key,u._document,new Rl(!1,!1),r.converter))}}function Oh(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _n("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function U_(){if(typeof Uint8Array>"u")throw new _n("unimplemented","Uint8Arrays are not available in this environment.")}function kh(){if(!function Qh(){return typeof atob<"u"}())throw new _n("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){ia=Rt.SDK_VERSION,(0,Rt._registerComponent)(new In.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const m=s.getProvider("app").getImmediate(),A=new zi(new ge(s.getProvider("auth-internal")),new br(s.getProvider("app-check-internal")),function(z,re){if(!Object.prototype.hasOwnProperty.apply(z.options,["projectId"]))throw new _n(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(z.options.projectId,re)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),A._setSettings(f),A},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(bc,"4.7.3",t),(0,Rt.registerVersion)(bc,"4.7.3","esm2017")}();class ap{constructor(t){this._delegate=t}static fromBase64String(t){return kh(),new ap(ja.fromBase64String(t))}static fromUint8Array(t){return U_(),new ap(ja.fromUint8Array(t))}toBase64(){return kh(),this._delegate.toBase64()}toUint8Array(){return U_(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $_(a){return function B_(a,t){if("object"!=typeof a||null===a)return!1;const r=a;for(const s of t)if(s in r&&"function"==typeof r[s])return!0;return!1}(a,["next","error","complete"])}class QI{enableIndexedDbPersistence(t,r){return function Sh(a,t){So("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return y_(a,id.provider,{build:s=>new nc(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function __(a){return ld.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function EI(a){if(a._initialized&&!a._terminated)throw new _n(Gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new T;return a._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(u){if(!Io.D())return Promise.resolve();const f=u+"main";yield Io.delete(f)}),function s(u){return r.apply(this,arguments)})(Dv(a._databaseId,a._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class Pu{constructor(t,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Al||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&So("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,s={}){m_(this._delegate,t,r,s)}enableNetwork(){return function yC(a){return function lC(a){return a.asyncQueue.enqueue((0,c.A)(function*(){const t=yield h_(a),r=yield uI(a);return t.setNetworkEnabled(!0),function(u){const f=Un(u);return f.L_.delete(0),Tu(f)}(r)}))}(go(a=Gr(a,zi)))}(this._delegate)}disableNetwork(){return function IC(a){return function uC(a){return a.asyncQueue.enqueue((0,c.A)(function*(){const t=yield h_(a),r=yield uI(a);return t.setNetworkEnabled(!1),(s=(0,c.A)(function*(f){const m=Un(f);m.L_.add(0),yield Qc(m),m.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(r);var s}))}(go(a=Gr(a,zi)))}(this._delegate)}enablePersistence(t){let r=!1,s=!1;return t&&(r=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,gI("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _C(a){return function(r){const s=new T;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Vf(a,t){return Eh.apply(this,arguments)}(yield f_(r),s)})),s.promise}(go(a=Gr(a,zi)))}(this._delegate)}onSnapshotsInSync(t){return function OC(a,t){return function hI(a,t){const r=new od(t);return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield ad(a),f=r,Un(u).Y_.add(f),void f.next();var u,f})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield ad(a),f=r,void Un(u).Y_.delete(f);var u,f}))}}(go(a=Gr(a,zi)),Dl(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new _n("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Fh(this,yI(this._delegate,t))}catch(r){throw os(r,"collection()","Firestore.collection()")}}doc(t){try{return new hl(this,bh(this._delegate,t))}catch(r){throw os(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ha(this,function II(a,t){if(a=Gr(a,Xf),g_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _n(Gt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(a,null,(s=t,new xs(Sn.emptyPath(),s)));var s}(this._delegate,t))}catch(r){throw os(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function $C(a,t,r){a=Gr(a,zi);const s=Object.assign(Object.assign({},GI),r);return function(f){if(f.maxAttempts<1)throw new _n(Gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,m,A){const R=new T;return f.asyncQueue.enqueueAndForget((0,c.A)(function*(){const z=yield function cI(a){return Hg(a).then(t=>t.datastore)}(f);new Gf(f.asyncQueue,z,A,m,R).au()})),R.promise}(go(a),u=>t(new om(a,u)),s)}(this._delegate,r=>t(new lp(this,r)))}batch(){return go(this._delegate),new j_(new WI(this._delegate,t=>uc(this._delegate,t)))}loadBundle(t){return function EC(a,t){const r=go(a=Gr(a,zi)),s=new mC;return function hC(a,t,r,s){const u=function(m,A){let R;return R="string"==typeof m?s0().encode(m):m,re=function(re){if(re instanceof Uint8Array)return aI(re,void 0);if(re instanceof ArrayBuffer)return aI(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new sd(re,A);var re}(r,Ag(t));a.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function Yr(a,t,r){const s=Un(a);var u;(u=(0,c.A)(function*(m,A,R){try{const z=yield A.getMetadata();if(yield function(Wt,hn){const Jt=Un(Wt),Bn=Li(hn.createTime);return Jt.persistence.runTransaction("hasNewerBundle","readonly",or=>Jt.Gr.getBundleMetadata(or,hn.id)).then(or=>!!or&&or.createTime.compareTo(Bn)>=0)}(m.localStore,z))return yield A.close(),R._completeWith({taskState:"Success",documentsLoaded:(Wt=z).totalDocuments,bytesLoaded:Wt.totalBytes,totalDocuments:Wt.totalDocuments,totalBytes:Wt.totalBytes}),Promise.resolve(new Set);R._updateProgress(X0(z));const re=new q0(z,m.localStore,A.serializer);let De=yield A.Ua();for(;De;){const At=yield re.la(De);At&&R._updateProgress(At),De=yield A.Ua()}const qe=yield re.complete();return yield Xl(m,qe.Ia,void 0),yield function(Wt,hn){const Jt=Un(Wt);return Jt.persistence.runTransaction("Save bundle","readwrite",Bn=>Jt.Gr.saveBundleMetadata(Bn,hn))}(m.localStore,z),R._completeWith(qe.progress),Promise.resolve(qe.Pa)}catch(z){return So("SyncEngine",`Loading bundle failed with ${z}`),R._failWith(z),Promise.resolve(new Set)}var Wt}),function f(m,A,R){return u.apply(this,arguments)})(s,t,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield f_(a),u,s)}))}(r,a._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function AC(a,t){return function fC(a,t){return a.asyncQueue.enqueue((0,c.A)(function*(){return function(s,u){const f=Un(s);return f.persistence.runTransaction("Get named query","readonly",m=>f.Gr.getNamedQuery(m,u))}(yield Th(a),t)}))}(go(a=Gr(a,zi)),t).then(r=>r?new ys(a,null,r.query):null)}(this._delegate,t).then(r=>r?new ha(this,r):null)}}class dc extends D_{constructor(t){super(),this.firestore=t}convertBytes(t){return new ap(new ja(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return hl.forKey(r,this.firestore,null)}}class lp{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new dc(t)}get(t){const r=Yl(t);return this._delegate.get(r).then(s=>new up(this._firestore,new dl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(t,r,s){const u=Yl(t);return s?(Oh("Transaction.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(t,r,s,...u){const f=Yl(t);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...u),this}delete(t){const r=Yl(t);return this._delegate.delete(r),this}}class j_{constructor(t){this._delegate=t}set(t,r,s){const u=Yl(t);return s?(Oh("WriteBatch.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(t,r,s,...u){const f=Yl(t);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...u),this}delete(t){const r=Yl(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class hc{constructor(t,r,s){this._firestore=t,this._userDataWriter=r,this._delegate=s}fromFirestore(t,r){const s=new rm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new cp(this._firestore,s),null!=r?r:{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const s=hc.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let f=u.get(r);return f||(f=new hc(t,new dc(t),r),u.set(r,f)),f}}hc.INSTANCES=new WeakMap;class hl{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new dc(t)}static forPath(t,r,s){if(t.length%2!=0)throw new _n("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new hl(r,new Xi(r._delegate,s,new Dn(t)))}static forKey(t,r,s){return new hl(r,new Xi(r._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new Fh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Fh(this.firestore,yI(this._delegate,t))}catch(r){throw os(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,we.Ku)(t))instanceof Xi&&v_(this._delegate,t)}set(t,r){r=Oh("DocumentReference.set",r);try{return r?R_(this._delegate,t,r):R_(this._delegate,t)}catch(s){throw os(s,"setDoc()","DocumentReference.set()")}}update(t,r,...s){try{return 1===arguments.length?P_(this._delegate,t):P_(this._delegate,t,r,...s)}catch(u){throw os(u,"updateDoc()","DocumentReference.update()")}}delete(){return HI(this._delegate)}onSnapshot(...t){const r=YI(t),s=JI(t,u=>new up(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return M_(this._delegate,r,s)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function NC(a){a=Gr(a,Xi);const t=Gr(a.firestore,zi),r=go(t),s=new Su(t);return function Ta(a,t){const r=new T;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(f,m,A){try{const R=yield function(re,De){const qe=Un(re);return qe.persistence.runTransaction("read document","readonly",At=>qe.localDocuments.getDocument(At,De))}(f,m);R.isFoundDocument()?A.resolve(R):R.isNoDocument()?A.resolve(null):A.reject(new _n(Gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const z=gh(R,`Failed to get document '${m} from cache`);A.reject(z)}}),function u(f,m,A){return s.apply(this,arguments)})(yield Th(a),t,r);var s})),r.promise}(r,a._key).then(u=>new dl(t,s,a._key,u,new Rl(null!==u&&u.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function $I(a){a=Gr(a,Xi);const t=Gr(a.firestore,zi);return dI(go(t),a._key,{source:"server"}).then(r=>x_(t,a,r))}(this._delegate):UI(this._delegate),r.then(s=>new up(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new hl(this.firestore,this._delegate.withConverter(t?hc.getInstance(this.firestore,t):null))}}function os(a,t,r){return a.message=a.message.replace(t,r),a}function YI(a){for(const t of a)if("object"==typeof t&&!$_(t))return t;return{}}function JI(a,t){var r,s;let u;return u=$_(a[0])?a[0]:$_(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:f=>{u.next&&u.next(t(f))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class up{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new hl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return im(this._delegate,t._delegate)}}class cp extends up{data(t){const r=this._delegate.data(t);return this._delegate._converter||function yl(a){a||ir()}(void 0!==r),r}}class ha{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new dc(t)}where(t,r,s){try{return new ha(this.firestore,Ql(this._delegate,function RI(a,t,r){const s=t,u=ac("where",a);return Nh._create(u,s,r)}(t,r,s)))}catch(u){throw os(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new ha(this.firestore,Ql(this._delegate,function tp(a,t="asc"){const r=t,s=ac("orderBy",a);return w_._create(s,r)}(t,r)))}catch(s){throw os(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ha(this.firestore,Ql(this._delegate,function SC(a){return Kg("limit",a),Zg._create("limit",a,"F")}(t)))}catch(r){throw os(r,"limit()","Query.limit()")}}limitToLast(t){try{return new ha(this.firestore,Ql(this._delegate,function RC(a){return Kg("limitToLast",a),Zg._create("limitToLast",a,"L")}(t)))}catch(r){throw os(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ha(this.firestore,Ql(this._delegate,function PI(...a){return dd._create("startAt",a,!0)}(...t)))}catch(r){throw os(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ha(this.firestore,Ql(this._delegate,function MI(...a){return dd._create("startAfter",a,!1)}(...t)))}catch(r){throw os(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ha(this.firestore,Ql(this._delegate,function PC(...a){return np._create("endBefore",a,!1)}(...t)))}catch(r){throw os(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ha(this.firestore,Ql(this._delegate,function xI(...a){return np._create("endAt",a,!0)}(...t)))}catch(r){throw os(r,"endAt()","Query.endAt()")}}isEqual(t){return wh(this._delegate,t._delegate)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function jI(a){a=Gr(a,ys);const t=Gr(a.firestore,zi),r=go(t),s=new Su(t);return function cC(a,t){const r=new T;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(f,m,A){try{const R=yield wf(f,m,!0),z=new Zc(m,R.Ts),re=z.ma(R.documents),De=z.applyChanges(re,!1);A.resolve(De.snapshot)}catch(R){const z=gh(R,`Failed to execute query '${m} against cache`);A.reject(z)}}),function u(f,m,A){return s.apply(this,arguments)})(yield Th(a),t,r);var s})),r.promise}(r,a._query).then(u=>new lc(t,s,a,u))}(this._delegate):"server"===(null==t?void 0:t.source)?function S_(a){a=Gr(a,ys);const t=Gr(a.firestore,zi),r=go(t),s=new Su(t);return dC(r,a._query,{source:"server"}).then(u=>new lc(t,s,a,u))}(this._delegate):function BI(a){a=Gr(a,ys);const t=Gr(a.firestore,zi),r=go(t),s=new Su(t);return T_(a._query),dC(r,a._query).then(u=>new lc(t,s,a,u))}(this._delegate),r.then(s=>new H_(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const r=YI(t),s=JI(t,u=>new H_(this.firestore,new lc(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return M_(this._delegate,r,s)}withConverter(t){return new ha(this.firestore,this._delegate.withConverter(t?hc.getInstance(this.firestore,t):null))}}class KC{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new cp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class H_{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new ha(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new cp(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new KC(this._firestore,r))}forEach(t,r){this._delegate.forEach(s=>{t.call(r,new cp(this._firestore,s))})}isEqual(t){return im(this._delegate,t._delegate)}}class Fh extends ha{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new hl(this.firestore,t):null}doc(t){try{return new hl(this.firestore,void 0===t?bh(this._delegate):bh(this._delegate,t))}catch(r){throw os(r,"doc()","CollectionReference.doc()")}}add(t){return zI(this._delegate,t).then(r=>new hl(this.firestore,r))}isEqual(t){return v_(this._delegate,t._delegate)}withConverter(t){return new Fh(this.firestore,this._delegate.withConverter(t?hc.getInstance(this.firestore,t):null))}}function Yl(a){return Gr(a,Xi)}class z_{constructor(...t){this._delegate=new wu(...t)}static documentId(){return new z_(Hr.keyField().canonicalString())}isEqual(t){return(t=(0,we.Ku)(t))instanceof wu&&this._delegate._internalPath.isEqual(t._internalPath)}}class pd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function KI(){return new Ph("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new pd(t)}static delete(){const t=function BC(){return new Jf("deleteField")}();return t._methodName="FieldValue.delete",new pd(t)}static arrayUnion(...t){const r=function jC(...a){return new Zf("arrayUnion",a)}(...t);return r._methodName="FieldValue.arrayUnion",new pd(r)}static arrayRemove(...t){const r=function HC(...a){return new E_("arrayRemove",a)}(...t);return r._methodName="FieldValue.arrayRemove",new pd(r)}static increment(t){const r=function fd(a){return new TI("increment",a)}(t);return r._methodName="FieldValue.increment",new pd(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const ZI={Firestore:Pu,GeoPoint:Qf,Timestamp:wr,Blob:ap,Transaction:lp,WriteBatch:j_,DocumentReference:hl,DocumentSnapshot:up,Query:ha,QueryDocumentSnapshot:cp,QuerySnapshot:H_,CollectionReference:Fh,FieldPath:z_,FieldValue:pd,setLogLevel:function iw(a){!function _l(a){ro.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};function nE(a,t){return function tE(a,t=Vn.E){return new Ce.c(r=>{let s;return null!=t?t.schedule(()=>{s=a.onSnapshot({includeMetadataChanges:!0},r)}):s=a.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(a,t)}function dp(a,t){return nE(a,t).pipe((0,ft.T)(r=>({payload:r,type:"query"})))}!function G_(a){(function eE(a,t){a.INTERNAL.registerComponent(new In.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},ZI)))})(a,(t,r)=>new Pu(t,r,new QI)),a.registerVersion("@firebase/firestore-compat","0.3.38")}(Jn.A);class W_{constructor(t,r){(0,L.A)(this,"ref",void 0),(0,L.A)(this,"afs",void 0),this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const s=this.ref.collection(t),{ref:u,query:f}=oE(s,r);return new X_(u,f,this.afs)}snapshotChanges(){return function rE(a,t){return nE(a,t).pipe((0,xa.Z)(void 0),fs(),(0,ft.T)(r=>{const[s,u]=r;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(he.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ft.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,fe.H)(this.ref.get(t)).pipe(he.U0)}}function hp(a,t){return dp(a,t).pipe((0,xa.Z)(void 0),fs(),(0,ft.T)(r=>{const[s,u]=r,f=u.payload.docChanges(),m=f.map(A=>({type:A.type,payload:A}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((A,R)=>{const z=f.find(De=>De.doc.ref.isEqual(A.ref)),re=null==s?void 0:s.payload.docs.find(De=>De.ref.isEqual(A.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(A.metadata)||!z&&re&&JSON.stringify(re.metadata)===JSON.stringify(A.metadata)||m.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:A}})}),m}))}function iE(a,t,r){return hp(a,r).pipe((0,Na.S)((s,u)=>function qC(a,t,r){return t.forEach(s=>{r.indexOf(s.type)>-1&&(a=function q_(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return K_(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=a.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return K_(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return K_(a,t.oldIndex,1)}return a}(a,s))}),a}(s,u.map(f=>f.payload),t),[]),(0,Dd.F)(),(0,ft.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function K_(a,t,r,...s){const u=a.slice();return u.splice(t,r,...s),u}function um(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class X_{constructor(t,r,s){(0,L.A)(this,"ref",void 0),(0,L.A)(this,"query",void 0),(0,L.A)(this,"afs",void 0),this.ref=t,this.query=r,this.afs=s}stateChanges(t){let r=hp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,ft.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),r.pipe((0,xa.Z)(void 0),fs(),(0,En.p)(([s,u])=>u.length>0||!s),(0,ft.T)(([,s])=>s),he.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Na.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=um(t);return iE(this.query,r,this.afs.schedulers.outsideAngular).pipe(he.U0)}valueChanges(t={}){return dp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.T)(r=>r.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),he.U0)}get(t){return(0,fe.H)(this.query.get(t)).pipe(he.U0)}add(t){return this.ref.add(t)}doc(t){return new W_(this.ref.doc(t),this.afs)}}class Q_{constructor(t,r){(0,L.A)(this,"query",void 0),(0,L.A)(this,"afs",void 0),this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?hp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.T)(r=>r.filter(s=>t.indexOf(s.type)>-1)),(0,En.p)(r=>r.length>0),he.U0):hp(this.query,this.afs.schedulers.outsideAngular).pipe(he.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Na.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=um(t);return iE(this.query,r,this.afs.schedulers.outsideAngular).pipe(he.U0)}valueChanges(t={}){return dp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),he.U0)}get(t){return(0,fe.H)(this.query.get(t)).pipe(he.U0)}}const Y_=new h.nKC("angularfire2.enableFirestorePersistence"),XC=new h.nKC("angularfire2.firestore.persistenceSettings"),QC=new h.nKC("angularfire2.firestore.settings"),YC=new h.nKC("angularfire2.firestore.use-emulator");function oE(a,t=r=>r){return{query:t(a),ref:a}}let sE=(()=>{var a;class t{constructor(s,u,f,m,A,R,z,re,De,qe,At,Wt,hn,Jt,Bn,or,zn){(0,L.A)(this,"schedulers",void 0),(0,L.A)(this,"firestore",void 0),(0,L.A)(this,"persistenceEnabled$",void 0),this.schedulers=z;const jn=(0,ye.iB)(s,R,u),Rr=De;qe&&ve(jn,R,At,hn,Jt,Bn,Wt,or),[this.firestore,this.persistenceEnabled$]=(0,ye.BM)(`${jn.name}.firestore`,"AngularFirestore",jn.name,()=>{const _r=R.runOutsideAngular(()=>jn.firestore());if(m&&_r.settings(m),Rr&&_r.useEmulator(...Rr),f&&!(0,le.Vy)(A)){const Ct=()=>{try{return(0,fe.H)(_r.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(Ze){return typeof console<"u"&&console.warn(Ze),(0,Ge.of)(!1)}};return[_r,R.runOutsideAngular(Ct)]}return[_r,(0,Ge.of)(!1)]},[m,Rr,f])}collection(s,u){let f;f="string"==typeof s?this.firestore.collection(s):s;const{ref:m,query:A}=oE(f,u),R=this.schedulers.ngZone.run(()=>m);return new X_(R,A,this)}collectionGroup(s,u){const f=u||(A=>A),m=this.firestore.collectionGroup(s);return new Q_(f(m),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const f=this.schedulers.ngZone.run(()=>u);return new W_(f,this)}createId(){return this.firestore.collection("_").doc().id}}return a=t,(0,L.A)(t,"\u0275fac",function(s){return new(s||a)(h.KVO(ye.rx),h.KVO(ye.uP,8),h.KVO(Y_,8),h.KVO(QC,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(he.u0),h.KVO(XC,8),h.KVO(YC,8),h.KVO(Me,8),h.KVO(_t,8),h.KVO(Pe,8),h.KVO(te,8),h.KVO(ne,8),h.KVO(de,8),h.KVO(me,8),h.KVO(he.Jv,8))}),(0,L.A)(t,"\u0275prov",h.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),t})();O(2214);var pp=function(){return pp=Object.assign||function(t){for(var r,s=1,u=arguments.length;s<u;s++)for(var f in r=arguments[s])Object.prototype.hasOwnProperty.call(r,f)&&(t[f]=r[f]);return t},pp.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var dE={includeMetadataChanges:!1};function dw(a,t){return void 0===t&&(t={}),function cw(a){return function Z_(a,t){return void 0===t&&(t=dE),new Ce.c(function(r){return{unsubscribe:M_(a,t,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}})}(a,{includeMetadataChanges:!0}).pipe((0,ft.T)(function(t){return t.docs}))}(a).pipe((0,ft.T)(function(r){return r.map(function(s){return function aT(a,t){var r;void 0===t&&(t={});var s=a.data(t);return a.exists()&&"object"==typeof s&&null!==s&&t.idField?pp(pp({},s),((r={})[t.idField]=a.id,r)):s}(s,t)})}))}const mE=(0,he.S3)(dw,!0),pT=(0,he.S3)(zI,!0),_E=(0,he.S3)(yI,!0),Sw=(0,he.S3)(HI,!0),gp=(0,he.S3)(bh,!0),gm=(0,he.S3)(UI,!0),Jl=(0,he.S3)(Dh,!0),$h=(0,he.S3)(Ql,!0),TE=(0,he.S3)(R_,!0),ym=(0,he.S3)(P_,!0);var DT=O(5265);let wE=(()=>{var a;class t{constructor(){this.auth=(0,h.WQX)(Me),this.firestore=(0,h.WQX)(sE),this.utilSvc=(0,h.WQX)(DT.T),this.storage=(0,h.WQX)(Qi)}getAuth(){return(0,Xe.o)()}signIn(s){return(0,Xe.ab)((0,Xe.o)(),s.email,s.password)}signUp(s){return(0,Xe.aa)((0,Xe.o)(),s.email,s.password)}updateUser(s){return(0,Xe.ak)((0,Xe.o)().currentUser,{displayName:s})}sendRecoveryEmail(s){return(0,Xe.a5)((0,Xe.o)(),s)}signOut(){(0,Xe.o)().signOut(),localStorage.removeItem("user"),this.utilSvc.routerLink("/auth")}getCollectionData(s,u){const f=_E(Jl(),s);return mE($h(f,u),{idField:"id"})}setDocument(s,u){return TE(gp(Jl(),s),u)}getDocument(s){return(0,c.A)(function*(){return(yield gm(gp(Jl(),s))).data()})()}addDocument(s,u){return pT(_E(Jl(),s),u)}updateDocument(s,u){return ym(gp(Jl(),s),u)}deleteDocument(s){return Sw(gp(Jl(),s))}uploadImage(s,u){return(0,c.A)(function*(){return vo(ea(ui(),s),u,"data_url").then(()=>Ma(ea(ui(),s)))})()}}return(a=t).\u0275fac=function(s){return new(s||a)},a.\u0275prov=h.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),t})()},5265:(bn,ht,O)=>{"use strict";O.d(ht,{T:()=>de});var c=O(467),h=O(4438),L=O(9384),Se=O(4742);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var fe=function(me){return me.Unimplemented="UNIMPLEMENTED",me.Unavailable="UNAVAILABLE",me}(fe||{});class $e extends Error{constructor(ve,Me,Ye){super(ve),this.message=ve,this.code=Me,this.data=Ye}}const Be=me=>{var ve,Me,Ye,Xe,Rt;const we=me.CapacitorCustomPlatform||null,jt=me.Capacitor||{},In=jt.Plugins=jt.Plugins||{},Vn=me.CapacitorPlatforms,qn=(null===(ve=null==Vn?void 0:Vn.currentPlatform)||void 0===ve?void 0:ve.getPlatform)||(()=>null!==we?we.name:(me=>{var ve,Me;return null!=me&&me.androidBridge?"android":null!==(Me=null===(ve=null==me?void 0:me.webkit)||void 0===ve?void 0:ve.messageHandlers)&&void 0!==Me&&Me.bridge?"ios":"web"})(me)),nr=(null===(Me=null==Vn?void 0:Vn.currentPlatform)||void 0===Me?void 0:Me.isNativePlatform)||(()=>"web"!==qn()),tn=(null===(Ye=null==Vn?void 0:Vn.currentPlatform)||void 0===Ye?void 0:Ye.isPluginAvailable)||(Pn=>{const ur=yr.get(Pn);return!!(null!=ur&&ur.platforms.has(qn())||Ft(Pn))}),Ft=(null===(Xe=null==Vn?void 0:Vn.currentPlatform)||void 0===Xe?void 0:Xe.getPluginHeader)||(Pn=>{var ur;return null===(ur=jt.PluginHeaders)||void 0===ur?void 0:ur.find(Ir=>Ir.name===Pn)}),yr=new Map,On=(null===(Rt=null==Vn?void 0:Vn.currentPlatform)||void 0===Rt?void 0:Rt.registerPlugin)||((Pn,ur={})=>{const Ir=yr.get(Pn);if(Ir)return console.warn(`Capacitor plugin "${Pn}" already registered. Cannot register plugins twice.`),Ir.proxy;const Qn=qn(),Kn=Ft(Pn);let mr;const Xr=function(){var $n=(0,c.A)(function*(){return!mr&&Qn in ur?mr=mr="function"==typeof ur[Qn]?yield ur[Qn]():ur[Qn]:null!==we&&!mr&&"web"in ur&&(mr=mr="function"==typeof ur.web?yield ur.web():ur.web),mr});return function(){return $n.apply(this,arguments)}}(),Pr=$n=>{let Rn;const Or=(...vr)=>{const Tt=Xr().then(nt=>{const kt=(($n,Rn)=>{var Or,vr;if(!Kn){if($n)return null===(vr=$n[Rn])||void 0===vr?void 0:vr.bind($n);throw new $e(`"${Pn}" plugin is not implemented on ${Qn}`,fe.Unimplemented)}{const Tt=null==Kn?void 0:Kn.methods.find(nt=>Rn===nt.name);if(Tt)return"promise"===Tt.rtype?nt=>jt.nativePromise(Pn,Rn.toString(),nt):(nt,kt)=>jt.nativeCallback(Pn,Rn.toString(),nt,kt);if($n)return null===(Or=$n[Rn])||void 0===Or?void 0:Or.bind($n)}})(nt,$n);if(kt){const rt=kt(...vr);return Rn=null==rt?void 0:rt.remove,rt}throw new $e(`"${Pn}.${$n}()" is not implemented on ${Qn}`,fe.Unimplemented)});return"addListener"===$n&&(Tt.remove=(0,c.A)(function*(){return Rn()})),Tt};return Or.toString=()=>`${$n.toString()}() { [capacitor code] }`,Object.defineProperty(Or,"name",{value:$n,writable:!1,configurable:!1}),Or},Ln=Pr("addListener"),si=Pr("removeListener"),Cr=($n,Rn)=>{const Or=Ln({eventName:$n},Rn),vr=function(){var nt=(0,c.A)(function*(){const kt=yield Or;si({eventName:$n,callbackId:kt},Rn)});return function(){return nt.apply(this,arguments)}}(),Tt=new Promise(nt=>Or.then(()=>nt({remove:vr})));return Tt.remove=(0,c.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield vr()}),Tt},Zr=new Proxy({},{get($n,Rn){switch(Rn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Kn?Cr:Ln;case"removeListener":return si;default:return Pr(Rn)}}});return In[Pn]=Zr,yr.set(Pn,{name:Pn,proxy:Zr,platforms:new Set([...Object.keys(ur),...Kn?[Qn]:[]])}),Zr});return jt.convertFileSrc||(jt.convertFileSrc=Pn=>Pn),jt.getPlatform=qn,jt.handleError=Pn=>me.console.error(Pn),jt.isNativePlatform=nr,jt.isPluginAvailable=tn,jt.pluginMethodNoop=(Pn,ur,Ir)=>Promise.reject(`${Ir} does not have an implementation of "${ur}".`),jt.registerPlugin=On,jt.Exception=$e,jt.DEBUG=!!jt.DEBUG,jt.isLoggingEnabled=!!jt.isLoggingEnabled,jt.platform=jt.getPlatform(),jt.isNative=jt.isNativePlatform(),jt},dt=(me=>me.Capacitor=Be(me))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),lt=dt.registerPlugin;class Ke{constructor(ve){this.listeners={},this.retainedEventArguments={},this.windowListeners={},ve&&(console.warn(`Capacitor WebPlugin "${ve.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=ve)}addListener(ve,Me){var Ye=this;let Xe=!1;this.listeners[ve]||(this.listeners[ve]=[],Xe=!0),this.listeners[ve].push(Me);const we=this.windowListeners[ve];we&&!we.registered&&this.addWindowListener(we),Xe&&this.sendRetainedArgumentsForEvent(ve);const jt=function(){var Vn=(0,c.A)(function*(){return Ye.removeListener(ve,Me)});return function(){return Vn.apply(this,arguments)}}();return Promise.resolve({remove:jt})}removeAllListeners(){var ve=this;return(0,c.A)(function*(){ve.listeners={};for(const Me in ve.windowListeners)ve.removeWindowListener(ve.windowListeners[Me]);ve.windowListeners={}})()}notifyListeners(ve,Me,Ye){const Xe=this.listeners[ve];if(Xe)Xe.forEach(Rt=>Rt(Me));else if(Ye){let Rt=this.retainedEventArguments[ve];Rt||(Rt=[]),Rt.push(Me),this.retainedEventArguments[ve]=Rt}}hasListeners(ve){return!!this.listeners[ve].length}registerWindowListener(ve,Me){this.windowListeners[Me]={registered:!1,windowEventName:ve,pluginEventName:Me,handler:Ye=>{this.notifyListeners(Me,Ye)}}}unimplemented(ve="not implemented"){return new dt.Exception(ve,fe.Unimplemented)}unavailable(ve="not available"){return new dt.Exception(ve,fe.Unavailable)}removeListener(ve,Me){var Ye=this;return(0,c.A)(function*(){const Xe=Ye.listeners[ve];if(!Xe)return;const Rt=Xe.indexOf(Me);Ye.listeners[ve].splice(Rt,1),Ye.listeners[ve].length||Ye.removeWindowListener(Ye.windowListeners[ve])})()}addWindowListener(ve){window.addEventListener(ve.windowEventName,ve.handler),ve.registered=!0}removeWindowListener(ve){ve&&(window.removeEventListener(ve.windowEventName,ve.handler),ve.registered=!1)}sendRetainedArgumentsForEvent(ve){const Me=this.retainedEventArguments[ve];Me&&(delete this.retainedEventArguments[ve],Me.forEach(Ye=>{this.notifyListeners(ve,Ye)}))}}const be=me=>encodeURIComponent(me).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ke=me=>me.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class it extends Ke{getCookies(){return(0,c.A)(function*(){const ve=document.cookie,Me={};return ve.split(";").forEach(Ye=>{if(Ye.length<=0)return;let[Xe,Rt]=Ye.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Xe=ke(Xe).trim(),Rt=ke(Rt).trim(),Me[Xe]=Rt}),Me})()}setCookie(ve){return(0,c.A)(function*(){try{const Me=be(ve.key),Ye=be(ve.value),Xe=`; expires=${(ve.expires||"").replace("expires=","")}`,Rt=(ve.path||"/").replace("path=",""),we=null!=ve.url&&ve.url.length>0?`domain=${ve.url}`:"";document.cookie=`${Me}=${Ye||""}${Xe}; path=${Rt}; ${we};`}catch(Me){return Promise.reject(Me)}})()}deleteCookie(ve){return(0,c.A)(function*(){try{document.cookie=`${ve.key}=; Max-Age=0`}catch(Me){return Promise.reject(Me)}})()}clearCookies(){return(0,c.A)(function*(){try{const ve=document.cookie.split(";")||[];for(const Me of ve)document.cookie=Me.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(ve){return Promise.reject(ve)}})()}clearAllCookies(){var ve=this;return(0,c.A)(function*(){try{yield ve.clearCookies()}catch(Me){return Promise.reject(Me)}})()}}lt("CapacitorCookies",{web:()=>new it});const Dt=function(){var me=(0,c.A)(function*(ve){return new Promise((Me,Ye)=>{const Xe=new FileReader;Xe.onload=()=>{const Rt=Xe.result;Me(Rt.indexOf(",")>=0?Rt.split(",")[1]:Rt)},Xe.onerror=Rt=>Ye(Rt),Xe.readAsDataURL(ve)})});return function(Me){return me.apply(this,arguments)}}();class Qt extends Ke{request(ve){return(0,c.A)(function*(){const Me=((me,ve={})=>{const Me=Object.assign({method:me.method||"GET",headers:me.headers},ve),Xe=((me={})=>{const ve=Object.keys(me);return Object.keys(me).map(Xe=>Xe.toLocaleLowerCase()).reduce((Xe,Rt,we)=>(Xe[Rt]=me[ve[we]],Xe),{})})(me.headers)["content-type"]||"";if("string"==typeof me.data)Me.body=me.data;else if(Xe.includes("application/x-www-form-urlencoded")){const Rt=new URLSearchParams;for(const[we,jt]of Object.entries(me.data||{}))Rt.set(we,jt);Me.body=Rt.toString()}else if(Xe.includes("multipart/form-data")||me.data instanceof FormData){const Rt=new FormData;if(me.data instanceof FormData)me.data.forEach((jt,In)=>{Rt.append(In,jt)});else for(const jt of Object.keys(me.data))Rt.append(jt,me.data[jt]);Me.body=Rt;const we=new Headers(Me.headers);we.delete("content-type"),Me.headers=we}else(Xe.includes("application/json")||"object"==typeof me.data)&&(Me.body=JSON.stringify(me.data));return Me})(ve,ve.webFetchExtra),Ye=((me,ve=!0)=>me?Object.entries(me).reduce((Ye,Xe)=>{const[Rt,we]=Xe;let jt,In;return Array.isArray(we)?(In="",we.forEach(Vn=>{jt=ve?encodeURIComponent(Vn):Vn,In+=`${Rt}=${jt}&`}),In.slice(0,-1)):(jt=ve?encodeURIComponent(we):we,In=`${Rt}=${jt}`),`${Ye}&${In}`},"").substr(1):null)(ve.params,ve.shouldEncodeUrlParams),Xe=Ye?`${ve.url}?${Ye}`:ve.url,Rt=yield fetch(Xe,Me),we=Rt.headers.get("content-type")||"";let In,Vn,{responseType:jt="text"}=Rt.ok?ve:{};switch(we.includes("application/json")&&(jt="json"),jt){case"arraybuffer":case"blob":Vn=yield Rt.blob(),In=yield Dt(Vn);break;case"json":In=yield Rt.json();break;default:In=yield Rt.text()}const tr={};return Rt.headers.forEach((qn,Jn)=>{tr[Jn]=qn}),{data:In,headers:tr,status:Rt.status,url:Rt.url}})()}get(ve){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},ve),{method:"GET"}))})()}post(ve){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},ve),{method:"POST"}))})()}put(ve){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},ve),{method:"PUT"}))})()}patch(ve){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},ve),{method:"PATCH"}))})()}delete(ve){var Me=this;return(0,c.A)(function*(){return Me.request(Object.assign(Object.assign({},ve),{method:"DELETE"}))})()}}lt("CapacitorHttp",{web:()=>new Qt});var Zt=function(me){return me.Prompt="PROMPT",me.Camera="CAMERA",me.Photos="PHOTOS",me}(Zt||{}),Nn=function(me){return me.Rear="REAR",me.Front="FRONT",me}(Nn||{}),_t=function(me){return me.Uri="uri",me.Base64="base64",me.DataUrl="dataUrl",me}(_t||{});class Pe extends Ke{getPhoto(ve){var Me=this;return(0,c.A)(function*(){return new Promise(function(){var Ye=(0,c.A)(function*(Xe,Rt){if(ve.webUseInput||ve.source===Zt.Photos)Me.fileInputExperience(ve,Xe,Rt);else if(ve.source===Zt.Prompt){let we=document.querySelector("pwa-action-sheet");we||(we=document.createElement("pwa-action-sheet"),document.body.appendChild(we)),we.header=ve.promptLabelHeader||"Photo",we.cancelable=!1,we.options=[{title:ve.promptLabelPhoto||"From Photos"},{title:ve.promptLabelPicture||"Take Picture"}],we.addEventListener("onSelection",function(){var jt=(0,c.A)(function*(In){0===In.detail?Me.fileInputExperience(ve,Xe,Rt):Me.cameraExperience(ve,Xe,Rt)});return function(In){return jt.apply(this,arguments)}}())}else Me.cameraExperience(ve,Xe,Rt)});return function(Xe,Rt){return Ye.apply(this,arguments)}}())})()}pickImages(ve){var Me=this;return(0,c.A)(function*(){return new Promise(function(){var Ye=(0,c.A)(function*(Xe,Rt){Me.multipleFileInputExperience(Xe,Rt)});return function(Xe,Rt){return Ye.apply(this,arguments)}}())})()}cameraExperience(ve,Me,Ye){var Xe=this;return(0,c.A)(function*(){if(customElements.get("pwa-camera-modal")){const Rt=document.createElement("pwa-camera-modal");Rt.facingMode=ve.direction===Nn.Front?"user":"environment",document.body.appendChild(Rt);try{yield Rt.componentOnReady(),Rt.addEventListener("onPhoto",function(){var we=(0,c.A)(function*(jt){const In=jt.detail;null===In?Ye(new $e("User cancelled photos app")):In instanceof Error?Ye(In):Me(yield Xe._getCameraPhoto(In,ve)),Rt.dismiss(),document.body.removeChild(Rt)});return function(jt){return we.apply(this,arguments)}}()),Rt.present()}catch{Xe.fileInputExperience(ve,Me,Ye)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),Xe.fileInputExperience(ve,Me,Ye)})()}fileInputExperience(ve,Me,Ye){let Xe=document.querySelector("#_capacitor-camera-input");const Rt=()=>{var we;null===(we=Xe.parentNode)||void 0===we||we.removeChild(Xe)};Xe||(Xe=document.createElement("input"),Xe.id="_capacitor-camera-input",Xe.type="file",Xe.hidden=!0,document.body.appendChild(Xe),Xe.addEventListener("change",we=>{const jt=Xe.files[0];let In="jpeg";if("image/png"===jt.type?In="png":"image/gif"===jt.type&&(In="gif"),"dataUrl"===ve.resultType||"base64"===ve.resultType){const Vn=new FileReader;Vn.addEventListener("load",()=>{if("dataUrl"===ve.resultType)Me({dataUrl:Vn.result,format:In});else if("base64"===ve.resultType){const tr=Vn.result.split(",")[1];Me({base64String:tr,format:In})}Rt()}),Vn.readAsDataURL(jt)}else Me({webPath:URL.createObjectURL(jt),format:In}),Rt()}),Xe.addEventListener("cancel",we=>{Ye(new $e("User cancelled photos app")),Rt()})),Xe.accept="image/*",Xe.capture=!0,ve.source===Zt.Photos||ve.source===Zt.Prompt?Xe.removeAttribute("capture"):ve.direction===Nn.Front?Xe.capture="user":ve.direction===Nn.Rear&&(Xe.capture="environment"),Xe.click()}multipleFileInputExperience(ve,Me){let Ye=document.querySelector("#_capacitor-camera-input-multiple");const Xe=()=>{var Rt;null===(Rt=Ye.parentNode)||void 0===Rt||Rt.removeChild(Ye)};Ye||(Ye=document.createElement("input"),Ye.id="_capacitor-camera-input-multiple",Ye.type="file",Ye.hidden=!0,Ye.multiple=!0,document.body.appendChild(Ye),Ye.addEventListener("change",Rt=>{const we=[];for(let jt=0;jt<Ye.files.length;jt++){const In=Ye.files[jt];let Vn="jpeg";"image/png"===In.type?Vn="png":"image/gif"===In.type&&(Vn="gif"),we.push({webPath:URL.createObjectURL(In),format:Vn})}ve({photos:we}),Xe()}),Ye.addEventListener("cancel",Rt=>{Me(new $e("User cancelled photos app")),Xe()})),Ye.accept="image/*",Ye.click()}_getCameraPhoto(ve,Me){return new Promise((Ye,Xe)=>{const Rt=new FileReader,we=ve.type.split("/")[1];"uri"===Me.resultType?Ye({webPath:URL.createObjectURL(ve),format:we,saved:!1}):(Rt.readAsDataURL(ve),Rt.onloadend=()=>{const jt=Rt.result;Ye("dataUrl"===Me.resultType?{dataUrl:jt,format:we,saved:!1}:{base64String:jt.split(",")[1],format:we,saved:!1})},Rt.onerror=jt=>{Xe(jt)})})}checkPermissions(){var ve=this;return(0,c.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw ve.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw ve.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var ve=this;return(0,c.A)(function*(){throw ve.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var ve=this;return(0,c.A)(function*(){throw ve.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var ve=this;return(0,c.A)(function*(){throw ve.unavailable("Not implemented on web.")})()}}new Pe;const ne=lt("Camera",{web:()=>new Pe});let de=(()=>{var me;class ve{constructor(){this.loadingCtrl=(0,h.WQX)(Se.Xi),this.toastCtrl=(0,h.WQX)(Se.K_),this.router=(0,h.WQX)(L.Ix),this.modalCtrl=(0,h.WQX)(Se.W3),this.alertCtrl=(0,h.WQX)(Se.hG)}takePicture(Ye){return(0,c.A)(function*(){return yield ne.getPhoto({quality:90,allowEditing:!0,resultType:_t.DataUrl,source:Zt.Prompt,promptLabelHeader:Ye,promptLabelPhoto:"Seleccionar foto",promptLabelPicture:"Tomar foto",promptLabelCancel:"Cancelar"})})()}loading(){return this.loadingCtrl.create({spinner:"crescent"})}presentToast(Ye){var Xe=this;return(0,c.A)(function*(){(yield Xe.toastCtrl.create(Ye)).present()})()}routerLink(Ye){return this.router.navigateByUrl(Ye)}saveInLocalStorage(Ye,Xe){return localStorage.setItem(Ye,JSON.stringify(Xe))}getFromLocalStorage(Ye){return JSON.parse(localStorage.getItem(Ye))}removeFromLocalStorage(Ye){return localStorage.removeItem(Ye)}presentModal(Ye){var Xe=this;return(0,c.A)(function*(){const Rt=yield Xe.modalCtrl.create(Ye);yield Rt.present();const{data:we}=yield Rt.onWillDismiss();if(we)return we})()}dissmissModal(Ye){return this.modalCtrl.dismiss(Ye)}presentAlert(Ye){var Xe=this;return(0,c.A)(function*(){yield(yield Xe.alertCtrl.create(Ye)).present()})()}}return(me=ve).\u0275fac=function(Ye){return new(Ye||me)},me.\u0275prov=h.jDH({token:me,factory:me.\u0275fac,providedIn:"root"}),ve})()},5312:(bn,ht,O)=>{"use strict";O.d(ht,{c:()=>c});const c={production:!0,firebaseConfig:{apiKey:"AIzaSyB3RV3NaVeapB0DNym3cNVUfYSTTmRpNl0",authDomain:"tellevo-49259.firebaseapp.com",projectId:"tellevo-49259",storageBucket:"tellevo-49259.appspot.com",messagingSenderId:"658419843742",appId:"1:658419843742:web:5d5ba6926b2b5bd4e9318f"},baseUrl:"https://pokeapi.co/api/v2",googleMapsApiKey:"AIzaSyCw_crDbkK7hvoszPRpZTWp9bnyw8QGpGM"}},1094:(bn,ht,O)=>{"use strict";var c=O(345),h=O(9384),L=O(2872),Se=O(4742),le=O(4438);let he=(()=>{var Ke;class tt{constructor(){}}return(Ke=tt).\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275cmp=le.VBU({type:Ke,selectors:[["app-root"]],decls:2,vars:0,template:function(ke,it){1&ke&&(le.j41(0,"ion-app"),le.nrm(1,"ion-router-outlet"),le.k0s())},dependencies:[Se.U1,Se.Rg]}),tt})();var ye=O(385),Le=O(5265);const fe=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([O.e(2076),O.e(7651)]).then(O.bind(O,7651)).then(Ke=>Ke.AuthPageModule),canActivate:[(()=>{var Ke;class tt{constructor(){this.firebaseSvc=(0,le.WQX)(ye.f),this.utilSvc=(0,le.WQX)(Le.T)}canActivate(ke,it){return localStorage.getItem("user"),new Promise(Dt=>{this.firebaseSvc.getAuth().onAuthStateChanged(ze=>{ze?this.utilSvc.routerLink("/main/home"):Dt(!0),Dt(!1)})})}}return(Ke=tt).\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275prov=le.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),tt})()]},{path:"main",loadChildren:()=>Promise.all([O.e(2076),O.e(2547)]).then(O.bind(O,2547)).then(Ke=>Ke.MainPageModule),canActivate:[(()=>{var Ke;class tt{constructor(){this.firebaseSvc=(0,le.WQX)(ye.f),this.utilSvc=(0,le.WQX)(Le.T)}canActivate(ke,it){let vt=localStorage.getItem("user");return new Promise(Dt=>{this.firebaseSvc.getAuth().onAuthStateChanged(ze=>{ze?vt&&Dt(!0):this.firebaseSvc.signOut(),Dt(!1)})})}}return(Ke=tt).\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275prov=le.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),tt})()]},{path:"**",loadComponent:()=>Promise.all([O.e(2076),O.e(1867)]).then(O.bind(O,1867)).then(Ke=>Ke.NotFoundComponent)}];let $e=(()=>{var Ke;class tt{}return(Ke=tt).\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275mod=le.$C({type:Ke}),Ke.\u0275inj=le.G2t({imports:[h.iI.forRoot(fe,{preloadingStrategy:h.Kp}),h.iI]}),tt})();var He=O(9253),Be=O(5312),st=O(1626);let dt=(()=>{var Ke;class tt{}return(Ke=tt).\u0275fac=function(ke){return new(ke||Ke)},Ke.\u0275mod=le.$C({type:Ke,bootstrap:[he]}),Ke.\u0275inj=le.G2t({providers:[{provide:h.b,useClass:L.jM}],imports:[c.Bb,Se.bv.forRoot({mode:"md"}),$e,He.bf.initializeApp(Be.c.firebaseConfig),st.q1]}),tt})();var lt=O(1288);c.sG().bootstrapModule(dt).catch(Ke=>console.log(Ke)),window,typeof window>"u"?Promise.resolve():(0,lt.p)().then(()=>(0,lt.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},4412:(bn,ht,O)=>{"use strict";O.d(ht,{t:()=>h});var c=O(1413);class h extends c.B{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const le=super._subscribe(Se);return!le.closed&&Se.next(this._value),le}getValue(){const{hasError:Se,thrownError:le,_value:he}=this;if(Se)throw le;return this._throwIfClosed(),he}next(Se){super.next(this._value=Se)}}},1985:(bn,ht,O)=>{"use strict";O.d(ht,{c:()=>Le});var c=O(7707),h=O(8359),L=O(3494),Se=O(1203),le=O(1026),he=O(8071),ye=O(9786);let Le=(()=>{class $e{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const st=new $e;return st.source=this,st.operator=Be,st}subscribe(Be,st,dt){const lt=function fe($e){return $e&&$e instanceof c.vU||function Ce($e){return $e&&(0,he.T)($e.next)&&(0,he.T)($e.error)&&(0,he.T)($e.complete)}($e)&&(0,h.Uv)($e)}(Be)?Be:new c.Ms(Be,st,dt);return(0,ye.Y)(()=>{const{operator:et,source:ft}=this;lt.add(et?et.call(lt,ft):ft?this._subscribe(lt):this._trySubscribe(lt))}),lt}_trySubscribe(Be){try{return this._subscribe(Be)}catch(st){Be.error(st)}}forEach(Be,st){return new(st=Ge(st))((dt,lt)=>{const et=new c.Ms({next:ft=>{try{Be(ft)}catch(Ke){lt(Ke),et.unsubscribe()}},error:lt,complete:dt});this.subscribe(et)})}_subscribe(Be){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(Be)}[L.s](){return this}pipe(...Be){return(0,Se.m)(Be)(this)}toPromise(Be){return new(Be=Ge(Be))((st,dt)=>{let lt;this.subscribe(et=>lt=et,et=>dt(et),()=>st(lt))})}}return $e.create=He=>new $e(He),$e})();function Ge($e){var He;return null!==(He=null!=$e?$e:le.$.Promise)&&void 0!==He?He:Promise}},1413:(bn,ht,O)=>{"use strict";O.d(ht,{B:()=>ye});var c=O(1985),h=O(8359);const Se=(0,O(1853).L)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=O(7908),he=O(9786);let ye=(()=>{class Ge extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const $e=new Le(this,this);return $e.operator=fe,$e}_throwIfClosed(){if(this.closed)throw new Se}next(fe){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $e of this.currentObservers)$e.next(fe)}})}error(fe){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:$e}=this;for(;$e.length;)$e.shift().error(fe)}})}complete(){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:$e,isStopped:He,observers:Be}=this;return $e||He?h.Kn:(this.currentObservers=null,Be.push(fe),new h.yU(()=>{this.currentObservers=null,(0,le.o)(Be,fe)}))}_checkFinalizedStatuses(fe){const{hasError:$e,thrownError:He,isStopped:Be}=this;$e?fe.error(He):Be&&fe.complete()}asObservable(){const fe=new c.c;return fe.source=this,fe}}return Ge.create=(Ce,fe)=>new Le(Ce,fe),Ge})();class Le extends ye{constructor(Ce,fe){super(),this.destination=Ce,this.source=fe}next(Ce){var fe,$e;null===($e=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===$e||$e.call(fe,Ce)}error(Ce){var fe,$e;null===($e=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===$e||$e.call(fe,Ce)}complete(){var Ce,fe;null===(fe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===fe||fe.call(Ce)}_subscribe(Ce){var fe,$e;return null!==($e=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ce))&&void 0!==$e?$e:h.Kn}}},7707:(bn,ht,O)=>{"use strict";O.d(ht,{Ms:()=>dt,vU:()=>$e});var c=O(8071),h=O(8359),L=O(1026),Se=O(5334),le=O(5343);const he=Ge("C",void 0,void 0);function Ge(tt,be,ke){return{kind:tt,value:be,error:ke}}var Ce=O(9270),fe=O(9786);class $e extends h.yU{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,h.Uv)(be)&&be.add(this)):this.destination=Ke}static create(be,ke,it){return new dt(be,ke,it)}next(be){this.isStopped?ft(function Le(tt){return Ge("N",tt,void 0)}(be),this):this._next(be)}error(be){this.isStopped?ft(function ye(tt){return Ge("E",void 0,tt)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?ft(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Be(tt,be){return He.call(tt,be)}class st{constructor(be){this.partialObserver=be}next(be){const{partialObserver:ke}=this;if(ke.next)try{ke.next(be)}catch(it){lt(it)}}error(be){const{partialObserver:ke}=this;if(ke.error)try{ke.error(be)}catch(it){lt(it)}else lt(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(ke){lt(ke)}}}class dt extends $e{constructor(be,ke,it){let vt;if(super(),(0,c.T)(be)||!be)vt={next:null!=be?be:void 0,error:null!=ke?ke:void 0,complete:null!=it?it:void 0};else{let Dt;this&&L.$.useDeprecatedNextContext?(Dt=Object.create(be),Dt.unsubscribe=()=>this.unsubscribe(),vt={next:be.next&&Be(be.next,Dt),error:be.error&&Be(be.error,Dt),complete:be.complete&&Be(be.complete,Dt)}):vt=be}this.destination=new st(vt)}}function lt(tt){L.$.useDeprecatedSynchronousErrorHandling?(0,fe.l)(tt):(0,Se.m)(tt)}function ft(tt,be){const{onStoppedNotification:ke}=L.$;ke&&Ce.f.setTimeout(()=>ke(tt,be))}const Ke={closed:!0,next:le.l,error:function et(tt){throw tt},complete:le.l}},8359:(bn,ht,O)=>{"use strict";O.d(ht,{Kn:()=>he,yU:()=>le,Uv:()=>ye});var c=O(8071);const L=(0,O(1853).L)(Ge=>function(fe){Ge(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map(($e,He)=>`${He+1}) ${$e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Se=O(7908);class le{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const Be of fe)Be.remove(this);else fe.remove(this);const{initialTeardown:$e}=this;if((0,c.T)($e))try{$e()}catch(Be){Ce=Be instanceof L?Be.errors:[Be]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Be of He)try{Le(Be)}catch(st){Ce=null!=Ce?Ce:[],st instanceof L?Ce=[...Ce,...st.errors]:Ce.push(st)}}if(Ce)throw new L(Ce)}}add(Ce){var fe;if(Ce&&Ce!==this)if(this.closed)Le(Ce);else{if(Ce instanceof le){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(Ce)}}_hasParent(Ce){const{_parentage:fe}=this;return fe===Ce||Array.isArray(fe)&&fe.includes(Ce)}_addParent(Ce){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(Ce),fe):fe?[fe,Ce]:Ce}_removeParent(Ce){const{_parentage:fe}=this;fe===Ce?this._parentage=null:Array.isArray(fe)&&(0,Se.o)(fe,Ce)}remove(Ce){const{_finalizers:fe}=this;fe&&(0,Se.o)(fe,Ce),Ce instanceof le&&Ce._removeParent(this)}}le.EMPTY=(()=>{const Ge=new le;return Ge.closed=!0,Ge})();const he=le.EMPTY;function ye(Ge){return Ge instanceof le||Ge&&"closed"in Ge&&(0,c.T)(Ge.remove)&&(0,c.T)(Ge.add)&&(0,c.T)(Ge.unsubscribe)}function Le(Ge){(0,c.T)(Ge)?Ge():Ge.unsubscribe()}},1026:(bn,ht,O)=>{"use strict";O.d(ht,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(bn,ht,O)=>{"use strict";O.d(ht,{z:()=>Ce});var c=O(1985),h=O(3073),L=O(8455),Se=O(3669),le=O(6450),he=O(3794),ye=O(8496),Le=O(4360),Ge=O(5225);function Ce(...He){const Be=(0,he.lI)(He),st=(0,he.ms)(He),{args:dt,keys:lt}=(0,h.D)(He);if(0===dt.length)return(0,L.H)([],Be);const et=new c.c(function fe(He,Be,st=Se.D){return dt=>{$e(Be,()=>{const{length:lt}=He,et=new Array(lt);let ft=lt,Ke=lt;for(let tt=0;tt<lt;tt++)$e(Be,()=>{const be=(0,L.H)(He[tt],Be);let ke=!1;be.subscribe((0,Le._)(dt,it=>{et[tt]=it,ke||(ke=!0,Ke--),Ke||dt.next(st(et.slice()))},()=>{--ft||dt.complete()}))},dt)},dt)}}(dt,Be,lt?ft=>(0,ye.e)(lt,ft):Se.D));return st?et.pipe((0,le.I)(st)):et}function $e(He,Be,st){He?(0,Ge.N)(st,He,Be):Be()}},8793:(bn,ht,O)=>{"use strict";O.d(ht,{x:()=>le});var c=O(6365),L=O(3794),Se=O(8455);function le(...he){return function h(){return(0,c.U)(1)}()((0,Se.H)(he,(0,L.lI)(he)))}},983:(bn,ht,O)=>{"use strict";O.d(ht,{w:()=>h});const h=new(O(1985).c)(le=>le.complete())},8455:(bn,ht,O)=>{"use strict";O.d(ht,{H:()=>be});var c=O(8750),h=O(941),L=O(6745),he=O(1985),Le=O(4761),Ge=O(8071),Ce=O(5225);function $e(ke,it){if(!ke)throw new Error("Iterable cannot be null");return new he.c(vt=>{(0,Ce.N)(vt,it,()=>{const Dt=ke[Symbol.asyncIterator]();(0,Ce.N)(vt,it,()=>{Dt.next().then(ze=>{ze.done?vt.complete():vt.next(ze.value)})},0,!0)})})}var He=O(5055),Be=O(9858),st=O(7441),dt=O(5397),lt=O(7953),et=O(591),ft=O(5196);function be(ke,it){return it?function tt(ke,it){if(null!=ke){if((0,He.l)(ke))return function Se(ke,it){return(0,c.Tg)(ke).pipe((0,L._)(it),(0,h.Q)(it))}(ke,it);if((0,st.X)(ke))return function ye(ke,it){return new he.c(vt=>{let Dt=0;return it.schedule(function(){Dt===ke.length?vt.complete():(vt.next(ke[Dt++]),vt.closed||this.schedule())})})}(ke,it);if((0,Be.y)(ke))return function le(ke,it){return(0,c.Tg)(ke).pipe((0,L._)(it),(0,h.Q)(it))}(ke,it);if((0,lt.T)(ke))return $e(ke,it);if((0,dt.x)(ke))return function fe(ke,it){return new he.c(vt=>{let Dt;return(0,Ce.N)(vt,it,()=>{Dt=ke[Le.l](),(0,Ce.N)(vt,it,()=>{let ze,Ve;try{({value:ze,done:Ve}=Dt.next())}catch($t){return void vt.error($t)}Ve?vt.complete():vt.next(ze)},0,!0)}),()=>(0,Ge.T)(null==Dt?void 0:Dt.return)&&Dt.return()})}(ke,it);if((0,ft.U)(ke))return function Ke(ke,it){return $e((0,ft.C)(ke),it)}(ke,it)}throw(0,et.L)(ke)}(ke,it):(0,c.Tg)(ke)}},3726:(bn,ht,O)=>{"use strict";O.d(ht,{R:()=>Ce});var c=O(8750),h=O(1985),L=O(1397),Se=O(7441),le=O(8071),he=O(6450);const ye=["addListener","removeListener"],Le=["addEventListener","removeEventListener"],Ge=["on","off"];function Ce(st,dt,lt,et){if((0,le.T)(lt)&&(et=lt,lt=void 0),et)return Ce(st,dt,lt).pipe((0,he.I)(et));const[ft,Ke]=function Be(st){return(0,le.T)(st.addEventListener)&&(0,le.T)(st.removeEventListener)}(st)?Le.map(tt=>be=>st[tt](dt,be,lt)):function $e(st){return(0,le.T)(st.addListener)&&(0,le.T)(st.removeListener)}(st)?ye.map(fe(st,dt)):function He(st){return(0,le.T)(st.on)&&(0,le.T)(st.off)}(st)?Ge.map(fe(st,dt)):[];if(!ft&&(0,Se.X)(st))return(0,L.Z)(tt=>Ce(tt,dt,lt))((0,c.Tg)(st));if(!ft)throw new TypeError("Invalid event target");return new h.c(tt=>{const be=(...ke)=>tt.next(1<ke.length?ke:ke[0]);return ft(be),()=>Ke(be)})}function fe(st,dt){return lt=>et=>st[lt](dt,et)}},8750:(bn,ht,O)=>{"use strict";O.d(ht,{Tg:()=>He});var c=O(1635),h=O(7441),L=O(9858),Se=O(1985),le=O(5055),he=O(7953),ye=O(591),Le=O(5397),Ge=O(5196),Ce=O(8071),fe=O(5334),$e=O(3494);function He(tt){if(tt instanceof Se.c)return tt;if(null!=tt){if((0,le.l)(tt))return function Be(tt){return new Se.c(be=>{const ke=tt[$e.s]();if((0,Ce.T)(ke.subscribe))return ke.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,h.X)(tt))return function st(tt){return new Se.c(be=>{for(let ke=0;ke<tt.length&&!be.closed;ke++)be.next(tt[ke]);be.complete()})}(tt);if((0,L.y)(tt))return function dt(tt){return new Se.c(be=>{tt.then(ke=>{be.closed||(be.next(ke),be.complete())},ke=>be.error(ke)).then(null,fe.m)})}(tt);if((0,he.T)(tt))return et(tt);if((0,Le.x)(tt))return function lt(tt){return new Se.c(be=>{for(const ke of tt)if(be.next(ke),be.closed)return;be.complete()})}(tt);if((0,Ge.U)(tt))return function ft(tt){return et((0,Ge.C)(tt))}(tt)}throw(0,ye.L)(tt)}function et(tt){return new Se.c(be=>{(function Ke(tt,be){var ke,it,vt,Dt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(ke=(0,c.xN)(tt);!(it=yield ke.next()).done;)if(be.next(it.value),be.closed)return}catch(ze){vt={error:ze}}finally{try{it&&!it.done&&(Dt=ke.return)&&(yield Dt.call(ke))}finally{if(vt)throw vt.error}}be.complete()})})(tt,be).catch(ke=>be.error(ke))})}},7673:(bn,ht,O)=>{"use strict";O.d(ht,{of:()=>L});var c=O(3794),h=O(8455);function L(...Se){const le=(0,c.lI)(Se);return(0,h.H)(Se,le)}},4360:(bn,ht,O)=>{"use strict";O.d(ht,{_:()=>h});var c=O(7707);function h(Se,le,he,ye,Le){return new L(Se,le,he,ye,Le)}class L extends c.vU{constructor(le,he,ye,Le,Ge,Ce){super(le),this.onFinalize=Ge,this.shouldUnsubscribe=Ce,this._next=he?function(fe){try{he(fe)}catch($e){le.error($e)}}:super._next,this._error=Le?function(fe){try{Le(fe)}catch($e){le.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(fe){le.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},274:(bn,ht,O)=>{"use strict";O.d(ht,{H:()=>L});var c=O(1397),h=O(8071);function L(Se,le){return(0,h.T)(le)?(0,c.Z)(Se,le,1):(0,c.Z)(Se,1)}},9901:(bn,ht,O)=>{"use strict";O.d(ht,{U:()=>L});var c=O(9974),h=O(4360);function L(Se){return(0,c.N)((le,he)=>{let ye=!1;le.subscribe((0,h._)(he,Le=>{ye=!0,he.next(Le)},()=>{ye||he.next(Se),he.complete()}))})}},3294:(bn,ht,O)=>{"use strict";O.d(ht,{F:()=>Se});var c=O(3669),h=O(9974),L=O(4360);function Se(he,ye=c.D){return he=null!=he?he:le,(0,h.N)((Le,Ge)=>{let Ce,fe=!0;Le.subscribe((0,L._)(Ge,$e=>{const He=ye($e);(fe||!he(Ce,He))&&(fe=!1,Ce=He,Ge.next($e))}))})}function le(he,ye){return he===ye}},5964:(bn,ht,O)=>{"use strict";O.d(ht,{p:()=>L});var c=O(9974),h=O(4360);function L(Se,le){return(0,c.N)((he,ye)=>{let Le=0;he.subscribe((0,h._)(ye,Ge=>Se.call(le,Ge,Le++)&&ye.next(Ge)))})}},980:(bn,ht,O)=>{"use strict";O.d(ht,{j:()=>h});var c=O(9974);function h(L){return(0,c.N)((Se,le)=>{try{Se.subscribe(le)}finally{le.add(L)}})}},1594:(bn,ht,O)=>{"use strict";O.d(ht,{$:()=>ye});var c=O(9350),h=O(5964),L=O(6697),Se=O(9901),le=O(3774),he=O(3669);function ye(Le,Ge){const Ce=arguments.length>=2;return fe=>fe.pipe(Le?(0,h.p)(($e,He)=>Le($e,He,fe)):he.D,(0,L.s)(1),Ce?(0,Se.U)(Ge):(0,le.v)(()=>new c.G))}},6354:(bn,ht,O)=>{"use strict";O.d(ht,{T:()=>L});var c=O(9974),h=O(4360);function L(Se,le){return(0,c.N)((he,ye)=>{let Le=0;he.subscribe((0,h._)(ye,Ge=>{ye.next(Se.call(le,Ge,Le++))}))})}},6365:(bn,ht,O)=>{"use strict";O.d(ht,{U:()=>L});var c=O(1397),h=O(3669);function L(Se=1/0){return(0,c.Z)(h.D,Se)}},1397:(bn,ht,O)=>{"use strict";O.d(ht,{Z:()=>Le});var c=O(6354),h=O(8750),L=O(9974),Se=O(5225),le=O(4360),ye=O(8071);function Le(Ge,Ce,fe=1/0){return(0,ye.T)(Ce)?Le(($e,He)=>(0,c.T)((Be,st)=>Ce($e,Be,He,st))((0,h.Tg)(Ge($e,He))),fe):("number"==typeof Ce&&(fe=Ce),(0,L.N)(($e,He)=>function he(Ge,Ce,fe,$e,He,Be,st,dt){const lt=[];let et=0,ft=0,Ke=!1;const tt=()=>{Ke&&!lt.length&&!et&&Ce.complete()},be=it=>et<$e?ke(it):lt.push(it),ke=it=>{Be&&Ce.next(it),et++;let vt=!1;(0,h.Tg)(fe(it,ft++)).subscribe((0,le._)(Ce,Dt=>{null==He||He(Dt),Be?be(Dt):Ce.next(Dt)},()=>{vt=!0},void 0,()=>{if(vt)try{for(et--;lt.length&&et<$e;){const Dt=lt.shift();st?(0,Se.N)(Ce,st,()=>ke(Dt)):ke(Dt)}tt()}catch(Dt){Ce.error(Dt)}}))};return Ge.subscribe((0,le._)(Ce,be,()=>{Ke=!0,tt()})),()=>{null==dt||dt()}}($e,He,Ge,fe)))}},941:(bn,ht,O)=>{"use strict";O.d(ht,{Q:()=>Se});var c=O(5225),h=O(9974),L=O(4360);function Se(le,he=0){return(0,h.N)((ye,Le)=>{ye.subscribe((0,L._)(Le,Ge=>(0,c.N)(Le,le,()=>Le.next(Ge),he),()=>(0,c.N)(Le,le,()=>Le.complete(),he),Ge=>(0,c.N)(Le,le,()=>Le.error(Ge),he)))})}},2816:(bn,ht,O)=>{"use strict";O.d(ht,{S:()=>Se});var c=O(9974),h=O(4360);function Se(le,he){return(0,c.N)(function L(le,he,ye,Le,Ge){return(Ce,fe)=>{let $e=ye,He=he,Be=0;Ce.subscribe((0,h._)(fe,st=>{const dt=Be++;He=$e?le(He,st,dt):($e=!0,st),Le&&fe.next(He)},Ge&&(()=>{$e&&fe.next(He),fe.complete()})))}}(le,he,arguments.length>=2,!0))}},9172:(bn,ht,O)=>{"use strict";O.d(ht,{Z:()=>Se});var c=O(8793),h=O(3794),L=O(9974);function Se(...le){const he=(0,h.lI)(le);return(0,L.N)((ye,Le)=>{(he?(0,c.x)(le,ye,he):(0,c.x)(le,ye)).subscribe(Le)})}},6745:(bn,ht,O)=>{"use strict";O.d(ht,{_:()=>h});var c=O(9974);function h(L,Se=0){return(0,c.N)((le,he)=>{he.add(L.schedule(()=>le.subscribe(he),Se))})}},5558:(bn,ht,O)=>{"use strict";O.d(ht,{n:()=>Se});var c=O(8750),h=O(9974),L=O(4360);function Se(le,he){return(0,h.N)((ye,Le)=>{let Ge=null,Ce=0,fe=!1;const $e=()=>fe&&!Ge&&Le.complete();ye.subscribe((0,L._)(Le,He=>{null==Ge||Ge.unsubscribe();let Be=0;const st=Ce++;(0,c.Tg)(le(He,st)).subscribe(Ge=(0,L._)(Le,dt=>Le.next(he?he(He,dt,st,Be++):dt),()=>{Ge=null,$e()}))},()=>{fe=!0,$e()}))})}},6697:(bn,ht,O)=>{"use strict";O.d(ht,{s:()=>Se});var c=O(983),h=O(9974),L=O(4360);function Se(le){return le<=0?()=>c.w:(0,h.N)((he,ye)=>{let Le=0;he.subscribe((0,L._)(ye,Ge=>{++Le<=le&&(ye.next(Ge),le<=Le&&ye.complete())}))})}},8141:(bn,ht,O)=>{"use strict";O.d(ht,{M:()=>le});var c=O(8071),h=O(9974),L=O(4360),Se=O(3669);function le(he,ye,Le){const Ge=(0,c.T)(he)||ye||Le?{next:he,error:ye,complete:Le}:he;return Ge?(0,h.N)((Ce,fe)=>{var $e;null===($e=Ge.subscribe)||void 0===$e||$e.call(Ge);let He=!0;Ce.subscribe((0,L._)(fe,Be=>{var st;null===(st=Ge.next)||void 0===st||st.call(Ge,Be),fe.next(Be)},()=>{var Be;He=!1,null===(Be=Ge.complete)||void 0===Be||Be.call(Ge),fe.complete()},Be=>{var st;He=!1,null===(st=Ge.error)||void 0===st||st.call(Ge,Be),fe.error(Be)},()=>{var Be,st;He&&(null===(Be=Ge.unsubscribe)||void 0===Be||Be.call(Ge)),null===(st=Ge.finalize)||void 0===st||st.call(Ge)}))}):Se.D}},3774:(bn,ht,O)=>{"use strict";O.d(ht,{v:()=>Se});var c=O(9350),h=O(9974),L=O(4360);function Se(he=le){return(0,h.N)((ye,Le)=>{let Ge=!1;ye.subscribe((0,L._)(Le,Ce=>{Ge=!0,Le.next(Ce)},()=>Ge?Le.complete():Le.error(he())))})}function le(){return new c.G}},6780:(bn,ht,O)=>{"use strict";O.d(ht,{R:()=>le});var c=O(8359);class h extends c.yU{constructor(ye,Le){super()}schedule(ye,Le=0){return this}}const L={setInterval(he,ye,...Le){const{delegate:Ge}=L;return null!=Ge&&Ge.setInterval?Ge.setInterval(he,ye,...Le):setInterval(he,ye,...Le)},clearInterval(he){const{delegate:ye}=L;return((null==ye?void 0:ye.clearInterval)||clearInterval)(he)},delegate:void 0};var Se=O(7908);class le extends h{constructor(ye,Le){super(ye,Le),this.scheduler=ye,this.work=Le,this.pending=!1}schedule(ye,Le=0){var Ge;if(this.closed)return this;this.state=ye;const Ce=this.id,fe=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(fe,Ce,Le)),this.pending=!0,this.delay=Le,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(fe,this.id,Le),this}requestAsyncId(ye,Le,Ge=0){return L.setInterval(ye.flush.bind(ye,this),Ge)}recycleAsyncId(ye,Le,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return Le;null!=Le&&L.clearInterval(Le)}execute(ye,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(ye,Le);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,Le){let Ce,Ge=!1;try{this.work(ye)}catch(fe){Ge=!0,Ce=fe||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:ye,scheduler:Le}=this,{actions:Ge}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.o)(Ge,this),null!=ye&&(this.id=this.recycleAsyncId(Le,ye,null)),this.delay=null,super.unsubscribe()}}}},9687:(bn,ht,O)=>{"use strict";O.d(ht,{q:()=>L});var c=O(6129);class h{constructor(le,he=h.now){this.schedulerActionCtor=le,this.now=he}schedule(le,he=0,ye){return new this.schedulerActionCtor(this,le).schedule(ye,he)}}h.now=c.U.now;class L extends h{constructor(le,he=h.now){super(le,he),this.actions=[],this._active=!1}flush(le){const{actions:he}=this;if(this._active)return void he.push(le);let ye;this._active=!0;do{if(ye=le.execute(le.state,le.delay))break}while(le=he.shift());if(this._active=!1,ye){for(;le=he.shift();)le.unsubscribe();throw ye}}}},3236:(bn,ht,O)=>{"use strict";O.d(ht,{E:()=>L});var c=O(6780);const L=new(O(9687).q)(c.R)},6129:(bn,ht,O)=>{"use strict";O.d(ht,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(bn,ht,O)=>{"use strict";O.d(ht,{f:()=>c});const c={setTimeout(h,L,...Se){const{delegate:le}=c;return null!=le&&le.setTimeout?le.setTimeout(h,L,...Se):setTimeout(h,L,...Se)},clearTimeout(h){const{delegate:L}=c;return((null==L?void 0:L.clearTimeout)||clearTimeout)(h)},delegate:void 0}},4761:(bn,ht,O)=>{"use strict";O.d(ht,{l:()=>h});const h=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(bn,ht,O)=>{"use strict";O.d(ht,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(bn,ht,O)=>{"use strict";O.d(ht,{G:()=>h});const h=(0,O(1853).L)(L=>function(){L(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(bn,ht,O)=>{"use strict";O.d(ht,{R0:()=>he,ms:()=>Se,lI:()=>le});var c=O(8071);function L(ye){return ye[ye.length-1]}function Se(ye){return(0,c.T)(L(ye))?ye.pop():void 0}function le(ye){return function h(ye){return ye&&(0,c.T)(ye.schedule)}(L(ye))?ye.pop():void 0}function he(ye,Le){return"number"==typeof L(ye)?ye.pop():Le}},3073:(bn,ht,O)=>{"use strict";O.d(ht,{D:()=>le});const{isArray:c}=Array,{getPrototypeOf:h,prototype:L,keys:Se}=Object;function le(ye){if(1===ye.length){const Le=ye[0];if(c(Le))return{args:Le,keys:null};if(function he(ye){return ye&&"object"==typeof ye&&h(ye)===L}(Le)){const Ge=Se(Le);return{args:Ge.map(Ce=>Le[Ce]),keys:Ge}}}return{args:ye,keys:null}}},7908:(bn,ht,O)=>{"use strict";function c(h,L){if(h){const Se=h.indexOf(L);0<=Se&&h.splice(Se,1)}}O.d(ht,{o:()=>c})},1853:(bn,ht,O)=>{"use strict";function c(h){const Se=h(le=>{Error.call(le),le.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}O.d(ht,{L:()=>c})},8496:(bn,ht,O)=>{"use strict";function c(h,L){return h.reduce((Se,le,he)=>(Se[le]=L[he],Se),{})}O.d(ht,{e:()=>c})},9786:(bn,ht,O)=>{"use strict";O.d(ht,{Y:()=>L,l:()=>Se});var c=O(1026);let h=null;function L(le){if(c.$.useDeprecatedSynchronousErrorHandling){const he=!h;if(he&&(h={errorThrown:!1,error:null}),le(),he){const{errorThrown:ye,error:Le}=h;if(h=null,ye)throw Le}}else le()}function Se(le){c.$.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=le)}},5225:(bn,ht,O)=>{"use strict";function c(h,L,Se,le=0,he=!1){const ye=L.schedule(function(){Se(),he?h.add(this.schedule(null,le)):this.unsubscribe()},le);if(h.add(ye),!he)return ye}O.d(ht,{N:()=>c})},3669:(bn,ht,O)=>{"use strict";function c(h){return h}O.d(ht,{D:()=>c})},7441:(bn,ht,O)=>{"use strict";O.d(ht,{X:()=>c});const c=h=>h&&"number"==typeof h.length&&"function"!=typeof h},7953:(bn,ht,O)=>{"use strict";O.d(ht,{T:()=>h});var c=O(8071);function h(L){return Symbol.asyncIterator&&(0,c.T)(null==L?void 0:L[Symbol.asyncIterator])}},8071:(bn,ht,O)=>{"use strict";function c(h){return"function"==typeof h}O.d(ht,{T:()=>c})},5055:(bn,ht,O)=>{"use strict";O.d(ht,{l:()=>L});var c=O(3494),h=O(8071);function L(Se){return(0,h.T)(Se[c.s])}},5397:(bn,ht,O)=>{"use strict";O.d(ht,{x:()=>L});var c=O(4761),h=O(8071);function L(Se){return(0,h.T)(null==Se?void 0:Se[c.l])}},9858:(bn,ht,O)=>{"use strict";O.d(ht,{y:()=>h});var c=O(8071);function h(L){return(0,c.T)(null==L?void 0:L.then)}},5196:(bn,ht,O)=>{"use strict";O.d(ht,{C:()=>L,U:()=>Se});var c=O(1635),h=O(8071);function L(le){return(0,c.AQ)(this,arguments,function*(){const ye=le.getReader();try{for(;;){const{value:Le,done:Ge}=yield(0,c.N3)(ye.read());if(Ge)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Le)}}finally{ye.releaseLock()}})}function Se(le){return(0,h.T)(null==le?void 0:le.getReader)}},9974:(bn,ht,O)=>{"use strict";O.d(ht,{N:()=>L,S:()=>h});var c=O(8071);function h(Se){return(0,c.T)(null==Se?void 0:Se.lift)}function L(Se){return le=>{if(h(le))return le.lift(function(he){try{return Se(he,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(bn,ht,O)=>{"use strict";O.d(ht,{I:()=>Se});var c=O(6354);const{isArray:h}=Array;function Se(le){return(0,c.T)(he=>function L(le,he){return h(he)?le(...he):le(he)}(le,he))}},5343:(bn,ht,O)=>{"use strict";function c(){}O.d(ht,{l:()=>c})},1203:(bn,ht,O)=>{"use strict";O.d(ht,{F:()=>h,m:()=>L});var c=O(3669);function h(...Se){return L(Se)}function L(Se){return 0===Se.length?c.D:1===Se.length?Se[0]:function(he){return Se.reduce((ye,Le)=>Le(ye),he)}}},5334:(bn,ht,O)=>{"use strict";O.d(ht,{m:()=>L});var c=O(1026),h=O(9270);function L(Se){h.f.setTimeout(()=>{const{onUnhandledError:le}=c.$;if(!le)throw Se;le(Se)})}},591:(bn,ht,O)=>{"use strict";function c(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ht,{L:()=>c})},8996:(bn,ht,O)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function h(L){if(!O.o(c,L))return Promise.resolve().then(()=>{var he=new Error("Cannot find module '"+L+"'");throw he.code="MODULE_NOT_FOUND",he});var Se=c[L],le=Se[0];return Promise.all(Se.slice(1).map(O.e)).then(()=>O(le))}h.keys=()=>Object.keys(c),h.id=8996,bn.exports=h},5235:(bn,ht,O)=>{var c={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function h(L){if(!O.o(c,L))return Promise.resolve().then(()=>{var he=new Error("Cannot find module '"+L+"'");throw he.code="MODULE_NOT_FOUND",he});var Se=c[L],le=Se[0];return O.e(Se[1]).then(()=>O(le))}h.keys=()=>Object.keys(c),h.id=5235,bn.exports=h},177:(bn,ht,O)=>{"use strict";O.d(ht,{AJ:()=>en,MD:()=>at,N0:()=>_i,QT:()=>L,Sm:()=>dt,Sq:()=>ot,T3:()=>kr,VF:()=>le,Vy:()=>an,Xr:()=>Wn,YU:()=>Kt,ZD:()=>Se,_b:()=>ee,aZ:()=>et,bT:()=>dn,fw:()=>lt,hb:()=>Be,hj:()=>Ge,qQ:()=>ye});var c=O(4438);let h=null;function L(){return h}function Se(T){var H;null!==(H=h)&&void 0!==H||(h=T)}class le{}const ye=new c.nKC("");let Le=(()=>{var T;class H{historyGo(B){throw new Error("")}}return(T=H).\u0275fac=function(B){return new(B||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(Ce),providedIn:"platform"}),H})();const Ge=new c.nKC("");let Ce=(()=>{var T;class H extends Le{constructor(){super(),this._doc=(0,c.WQX)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(B){const ge=L().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("popstate",B,!1),()=>ge.removeEventListener("popstate",B)}onHashChange(B){const ge=L().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("hashchange",B,!1),()=>ge.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,ge,je){this._history.pushState(B,ge,je)}replaceState(B,ge,je){this._history.replaceState(B,ge,je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return(T=H).\u0275fac=function(B){return new(B||T)},T.\u0275prov=c.jDH({token:T,factory:()=>new T,providedIn:"platform"}),H})();function fe(T,H){if(0==T.length)return H;if(0==H.length)return T;let Oe=0;return T.endsWith("/")&&Oe++,H.startsWith("/")&&Oe++,2==Oe?T+H.substring(1):1==Oe?T+H:T+"/"+H}function $e(T){const H=T.match(/#|\?|$/),Oe=H&&H.index||T.length;return T.slice(0,Oe-("/"===T[Oe-1]?1:0))+T.slice(Oe)}function He(T){return T&&"?"!==T[0]?"?"+T:T}let Be=(()=>{var T;class H{historyGo(B){throw new Error("")}}return(T=H).\u0275fac=function(B){return new(B||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(dt),providedIn:"root"}),H})();const st=new c.nKC("");let dt=(()=>{var T;class H extends Be{constructor(B,ge){var je,qt,Tn;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(je=null!==(qt=null!=ge?ge:this._platformLocation.getBaseHrefFromDOM())&&void 0!==qt?qt:null===(Tn=(0,c.WQX)(ye).location)||void 0===Tn?void 0:Tn.origin)&&void 0!==je?je:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return fe(this._baseHref,B)}path(B=!1){const ge=this._platformLocation.pathname+He(this._platformLocation.search),je=this._platformLocation.hash;return je&&B?`${ge}${je}`:ge}pushState(B,ge,je,qt){const Tn=this.prepareExternalUrl(je+He(qt));this._platformLocation.pushState(B,ge,Tn)}replaceState(B,ge,je,qt){const Tn=this.prepareExternalUrl(je+He(qt));this._platformLocation.replaceState(B,ge,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ge,je;null===(ge=(je=this._platformLocation).historyGo)||void 0===ge||ge.call(je,B)}}return(T=H).\u0275fac=function(B){return new(B||T)(c.KVO(Le),c.KVO(st,8))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),H})(),lt=(()=>{var T;class H extends Be{constructor(B,ge){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){var ge;const je=null!==(ge=this._platformLocation.hash)&&void 0!==ge?ge:"#";return je.length>0?je.substring(1):je}prepareExternalUrl(B){const ge=fe(this._baseHref,B);return ge.length>0?"#"+ge:ge}pushState(B,ge,je,qt){let Tn=this.prepareExternalUrl(je+He(qt));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.pushState(B,ge,Tn)}replaceState(B,ge,je,qt){let Tn=this.prepareExternalUrl(je+He(qt));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.replaceState(B,ge,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var ge,je;null===(ge=(je=this._platformLocation).historyGo)||void 0===ge||ge.call(je,B)}}return(T=H).\u0275fac=function(B){return new(B||T)(c.KVO(Le),c.KVO(st,8))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac}),H})(),et=(()=>{var T;class H{constructor(B){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const ge=this._locationStrategy.getBaseHref();this._basePath=function be(T){if(new RegExp("^(https?:)?//").test(T)){const[,Oe]=T.split(/\/\/[^\/]+/);return Oe}return T}($e(tt(ge))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,ge=""){return this.path()==this.normalize(B+He(ge))}normalize(B){return H.stripTrailingSlash(function Ke(T,H){if(!T||!H.startsWith(T))return H;const Oe=H.substring(T.length);return""===Oe||["/",";","?","#"].includes(Oe[0])?Oe:H}(this._basePath,tt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,ge="",je=null){this._locationStrategy.pushState(je,"",B,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+He(ge)),je)}replaceState(B,ge="",je=null){this._locationStrategy.replaceState(je,"",B,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+He(ge)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var ge,je;null===(ge=(je=this._locationStrategy).historyGo)||void 0===ge||ge.call(je,B)}onUrlChange(B){var ge;return this._urlChangeListeners.push(B),null!==(ge=this._urlChangeSubscription)&&void 0!==ge||(this._urlChangeSubscription=this.subscribe(je=>{this._notifyUrlChangeListeners(je.url,je.state)})),()=>{const je=this._urlChangeListeners.indexOf(B);var qt;this._urlChangeListeners.splice(je,1),0===this._urlChangeListeners.length&&(null===(qt=this._urlChangeSubscription)||void 0===qt||qt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",ge){this._urlChangeListeners.forEach(je=>je(B,ge))}subscribe(B,ge,je){return this._subject.subscribe({next:B,error:ge,complete:je})}}return(T=H).normalizeQueryParams=He,T.joinWithSlash=fe,T.stripTrailingSlash=$e,T.\u0275fac=function(B){return new(B||T)(c.KVO(Be))},T.\u0275prov=c.jDH({token:T,factory:()=>function ft(){return new et((0,c.KVO)(Be))}(),providedIn:"root"}),H})();function tt(T){return T.replace(/\/index.html$/,"")}function ee(T,H){H=encodeURIComponent(H);for(const Oe of T.split(";")){const B=Oe.indexOf("="),[ge,je]=-1==B?[Oe,""]:[Oe.slice(0,B),Oe.slice(B+1)];if(ge.trim()===H)return decodeURIComponent(je)}return null}const xe=/\s+/,It=[];let Kt=(()=>{var T;class H{constructor(B,ge){this._ngEl=B,this._renderer=ge,this.initialClasses=It,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(xe):It}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(xe):B}ngDoCheck(){for(const ge of this.initialClasses)this._updateState(ge,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const ge of B)this._updateState(ge,!0);else if(null!=B)for(const ge of Object.keys(B))this._updateState(ge,!!B[ge]);this._applyStateDiff()}_updateState(B,ge){const je=this.stateMap.get(B);void 0!==je?(je.enabled!==ge&&(je.changed=!0,je.enabled=ge),je.touched=!0):this.stateMap.set(B,{enabled:ge,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const ge=B[0],je=B[1];je.changed?(this._toggleClass(ge,je.enabled),je.changed=!1):je.touched||(je.enabled&&this._toggleClass(ge,!1),this.stateMap.delete(ge)),je.touched=!1}}_toggleClass(B,ge){(B=B.trim()).length>0&&B.split(xe).forEach(je=>{ge?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return(T=H).\u0275fac=function(B){return new(B||T)(c.rXU(c.aKT),c.rXU(c.sFG))},T.\u0275dir=c.FsC({type:T,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),H})();class Ne{constructor(H,Oe,B,ge){this.$implicit=H,this.ngForOf=Oe,this.index=B,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ot=(()=>{var T;class H{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,ge,je){this._viewContainer=B,this._template=ge,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ge=this._viewContainer;B.forEachOperation((je,qt,Tn)=>{if(null==je.previousIndex)ge.createEmbeddedView(this._template,new Ne(je.item,this._ngForOf,-1,-1),null===Tn?void 0:Tn);else if(null==Tn)ge.remove(null===qt?void 0:qt);else if(null!==qt){const br=ge.get(qt);ge.move(br,Tn),yt(br,je)}});for(let je=0,qt=ge.length;je<qt;je++){const br=ge.get(je).context;br.index=je,br.count=qt,br.ngForOf=this._ngForOf}B.forEachIdentityChange(je=>{yt(ge.get(je.currentIndex),je)})}static ngTemplateContextGuard(B,ge){return!0}}return(T=H).\u0275fac=function(B){return new(B||T)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},T.\u0275dir=c.FsC({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),H})();function yt(T,H){T.context.$implicit=H.item}let dn=(()=>{var T;class H{constructor(B,ge){this._viewContainer=B,this._context=new Mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ge}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){An("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){An("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ge){return!0}}return(T=H).\u0275fac=function(B){return new(B||T)(c.rXU(c.c1b),c.rXU(c.C4Q))},T.\u0275dir=c.FsC({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),H})();class Mn{constructor(){this.$implicit=null,this.ngIf=null}}function An(T,H){if(H&&!H.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,c.Tbb)(H)}'.`)}let kr=(()=>{var T;class H{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(this._shouldRecreateView(B)){var ge;const je=this._viewContainerRef;if(this._viewRef&&je.remove(je.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const qt=this._createContextForwardProxy();this._viewRef=je.createEmbeddedView(this.ngTemplateOutlet,qt,{injector:null!==(ge=this.ngTemplateOutletInjector)&&void 0!==ge?ge:void 0})}}_shouldRecreateView(B){return!!B.ngTemplateOutlet||!!B.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(B,ge,je)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ge,je),get:(B,ge,je)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ge,je)}})}}return(T=H).\u0275fac=function(B){return new(B||T)(c.rXU(c.c1b))},T.\u0275dir=c.FsC({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),H})(),at=(()=>{var T;class H{}return(T=H).\u0275fac=function(B){return new(B||T)},T.\u0275mod=c.$C({type:T}),T.\u0275inj=c.G2t({}),H})();const en="browser",wt="server";function an(T){return T===wt}let Wn=(()=>{var T;class H{}return(T=H).\u0275prov=(0,c.jDH)({token:T,providedIn:"root",factory:()=>function zt(T){return T===en}((0,c.WQX)(c.Agw))?new Yn((0,c.WQX)(ye),window):new Vr}),H})();class Yn{constructor(H,Oe){this.document=H,this.window=Oe,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(H){this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){const Oe=function pr(T,H){const Oe=T.getElementById(H)||T.getElementsByName(H)[0];if(Oe)return Oe;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const B=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let ge=B.currentNode;for(;ge;){const je=ge.shadowRoot;if(je){const qt=je.getElementById(H)||je.querySelector(`[name="${H}"]`);if(qt)return qt}ge=B.nextNode()}}return null}(this.document,H);Oe&&(this.scrollToElement(Oe),Oe.focus())}setHistoryScrollRestoration(H){this.window.history.scrollRestoration=H}scrollToElement(H){const Oe=H.getBoundingClientRect(),B=Oe.left+this.window.pageXOffset,ge=Oe.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(B-je[0],ge-je[1])}}class Vr{setOffset(H){}getScrollPosition(){return[0,0]}scrollToPosition(H){}scrollToAnchor(H){}setHistoryScrollRestoration(H){}}class _i{}},1626:(bn,ht,O)=>{"use strict";O.d(ht,{Qq:()=>ve,q1:()=>un});var c=O(467),h=O(4438),L=O(7673),Se=O(1985),le=O(8455),he=O(274),ye=O(5964),Le=O(6354),Ge=O(980),Ce=O(5558),fe=O(177);class $e{}class He{}class Be{constructor(Ne){this.normalizedNames=new Map,this.lazyUpdate=null,Ne?"string"==typeof Ne?this.lazyInit=()=>{this.headers=new Map,Ne.split("\n").forEach(ot=>{const yt=ot.indexOf(":");if(yt>0){const Nt=ot.slice(0,yt),dn=Nt.toLowerCase(),Mn=ot.slice(yt+1).trim();this.maybeSetNormalizedName(Nt,dn),this.headers.has(dn)?this.headers.get(dn).push(Mn):this.headers.set(dn,[Mn])}})}:typeof Headers<"u"&&Ne instanceof Headers?(this.headers=new Map,Ne.forEach((ot,yt)=>{this.setHeaderEntries(yt,ot)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ne).forEach(([ot,yt])=>{this.setHeaderEntries(ot,yt)})}:this.headers=new Map}has(Ne){return this.init(),this.headers.has(Ne.toLowerCase())}get(Ne){this.init();const ot=this.headers.get(Ne.toLowerCase());return ot&&ot.length>0?ot[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ne){return this.init(),this.headers.get(Ne.toLowerCase())||null}append(Ne,ot){return this.clone({name:Ne,value:ot,op:"a"})}set(Ne,ot){return this.clone({name:Ne,value:ot,op:"s"})}delete(Ne,ot){return this.clone({name:Ne,value:ot,op:"d"})}maybeSetNormalizedName(Ne,ot){this.normalizedNames.has(ot)||this.normalizedNames.set(ot,Ne)}init(){this.lazyInit&&(this.lazyInit instanceof Be?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ne=>this.applyUpdate(Ne)),this.lazyUpdate=null))}copyFrom(Ne){Ne.init(),Array.from(Ne.headers.keys()).forEach(ot=>{this.headers.set(ot,Ne.headers.get(ot)),this.normalizedNames.set(ot,Ne.normalizedNames.get(ot))})}clone(Ne){const ot=new Be;return ot.lazyInit=this.lazyInit&&this.lazyInit instanceof Be?this.lazyInit:this,ot.lazyUpdate=(this.lazyUpdate||[]).concat([Ne]),ot}applyUpdate(Ne){const ot=Ne.name.toLowerCase();switch(Ne.op){case"a":case"s":let yt=Ne.value;if("string"==typeof yt&&(yt=[yt]),0===yt.length)return;this.maybeSetNormalizedName(Ne.name,ot);const Nt=("a"===Ne.op?this.headers.get(ot):void 0)||[];Nt.push(...yt),this.headers.set(ot,Nt);break;case"d":const dn=Ne.value;if(dn){let Mn=this.headers.get(ot);if(!Mn)return;Mn=Mn.filter(An=>-1===dn.indexOf(An)),0===Mn.length?(this.headers.delete(ot),this.normalizedNames.delete(ot)):this.headers.set(ot,Mn)}else this.headers.delete(ot),this.normalizedNames.delete(ot)}}setHeaderEntries(Ne,ot){const yt=(Array.isArray(ot)?ot:[ot]).map(dn=>dn.toString()),Nt=Ne.toLowerCase();this.headers.set(Nt,yt),this.maybeSetNormalizedName(Ne,Nt)}forEach(Ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(ot=>Ne(this.normalizedNames.get(ot),this.headers.get(ot)))}}class dt{encodeKey(Ne){return Ke(Ne)}encodeValue(Ne){return Ke(Ne)}decodeKey(Ne){return decodeURIComponent(Ne)}decodeValue(Ne){return decodeURIComponent(Ne)}}const et=/%(\d[a-f0-9])/gi,ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ke(se){return encodeURIComponent(se).replace(et,(Ne,ot)=>{var yt;return null!==(yt=ft[ot])&&void 0!==yt?yt:Ne})}function tt(se){return`${se}`}class be{constructor(Ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ne.encoder||new dt,Ne.fromString){if(Ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lt(se,Ne){const ot=new Map;return se.length>0&&se.replace(/^\?/,"").split("&").forEach(Nt=>{const dn=Nt.indexOf("="),[Mn,An]=-1==dn?[Ne.decodeKey(Nt),""]:[Ne.decodeKey(Nt.slice(0,dn)),Ne.decodeValue(Nt.slice(dn+1))],cr=ot.get(Mn)||[];cr.push(An),ot.set(Mn,cr)}),ot}(Ne.fromString,this.encoder)}else Ne.fromObject?(this.map=new Map,Object.keys(Ne.fromObject).forEach(ot=>{const yt=Ne.fromObject[ot],Nt=Array.isArray(yt)?yt.map(tt):[tt(yt)];this.map.set(ot,Nt)})):this.map=null}has(Ne){return this.init(),this.map.has(Ne)}get(Ne){this.init();const ot=this.map.get(Ne);return ot?ot[0]:null}getAll(Ne){return this.init(),this.map.get(Ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ne,ot){return this.clone({param:Ne,value:ot,op:"a"})}appendAll(Ne){const ot=[];return Object.keys(Ne).forEach(yt=>{const Nt=Ne[yt];Array.isArray(Nt)?Nt.forEach(dn=>{ot.push({param:yt,value:dn,op:"a"})}):ot.push({param:yt,value:Nt,op:"a"})}),this.clone(ot)}set(Ne,ot){return this.clone({param:Ne,value:ot,op:"s"})}delete(Ne,ot){return this.clone({param:Ne,value:ot,op:"d"})}toString(){return this.init(),this.keys().map(Ne=>{const ot=this.encoder.encodeKey(Ne);return this.map.get(Ne).map(yt=>ot+"="+this.encoder.encodeValue(yt)).join("&")}).filter(Ne=>""!==Ne).join("&")}clone(Ne){const ot=new be({encoder:this.encoder});return ot.cloneFrom=this.cloneFrom||this,ot.updates=(this.updates||[]).concat(Ne),ot}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ne=>this.map.set(Ne,this.cloneFrom.map.get(Ne))),this.updates.forEach(Ne=>{switch(Ne.op){case"a":case"s":const ot=("a"===Ne.op?this.map.get(Ne.param):void 0)||[];ot.push(tt(Ne.value)),this.map.set(Ne.param,ot);break;case"d":if(void 0===Ne.value){this.map.delete(Ne.param);break}{let yt=this.map.get(Ne.param)||[];const Nt=yt.indexOf(tt(Ne.value));-1!==Nt&&yt.splice(Nt,1),yt.length>0?this.map.set(Ne.param,yt):this.map.delete(Ne.param)}}}),this.cloneFrom=this.updates=null)}}class it{constructor(){this.map=new Map}set(Ne,ot){return this.map.set(Ne,ot),this}get(Ne){return this.map.has(Ne)||this.map.set(Ne,Ne.defaultValue()),this.map.get(Ne)}delete(Ne){return this.map.delete(Ne),this}has(Ne){return this.map.has(Ne)}keys(){return this.map.keys()}}function Dt(se){return typeof ArrayBuffer<"u"&&se instanceof ArrayBuffer}function ze(se){return typeof Blob<"u"&&se instanceof Blob}function Ve(se){return typeof FormData<"u"&&se instanceof FormData}class Qt{constructor(Ne,ot,yt,Nt){var dn,Mn;let An;if(this.url=ot,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ne.toUpperCase(),function vt(se){switch(se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Nt?(this.body=void 0!==yt?yt:null,An=Nt):An=yt,An&&(this.reportProgress=!!An.reportProgress,this.withCredentials=!!An.withCredentials,An.responseType&&(this.responseType=An.responseType),An.headers&&(this.headers=An.headers),An.context&&(this.context=An.context),An.params&&(this.params=An.params),this.transferCache=An.transferCache),null!==(dn=this.headers)&&void 0!==dn||(this.headers=new Be),null!==(Mn=this.context)&&void 0!==Mn||(this.context=new it),this.params){const cr=this.params.toString();if(0===cr.length)this.urlWithParams=ot;else{const sr=ot.indexOf("?");this.urlWithParams=ot+(-1===sr?"?":sr<ot.length-1?"&":"")+cr}}else this.params=new be,this.urlWithParams=ot}serializeBody(){return null===this.body?null:"string"==typeof this.body||Dt(this.body)||ze(this.body)||Ve(this.body)||function $t(se){return typeof URLSearchParams<"u"&&se instanceof URLSearchParams}(this.body)?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ve(this.body)?null:ze(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ne={}){var ot,yt,Nt,dn;const Mn=Ne.method||this.method,An=Ne.url||this.url,cr=Ne.responseType||this.responseType,sr=null!==(ot=Ne.transferCache)&&void 0!==ot?ot:this.transferCache,xr=void 0!==Ne.body?Ne.body:this.body,vi=null!==(yt=Ne.withCredentials)&&void 0!==yt?yt:this.withCredentials,Ri=null!==(Nt=Ne.reportProgress)&&void 0!==Nt?Nt:this.reportProgress;let ai=Ne.headers||this.headers,ri=Ne.params||this.params;const li=null!==(dn=Ne.context)&&void 0!==dn?dn:this.context;return void 0!==Ne.setHeaders&&(ai=Object.keys(Ne.setHeaders).reduce(($r,kr)=>$r.set(kr,Ne.setHeaders[kr]),ai)),Ne.setParams&&(ri=Object.keys(Ne.setParams).reduce(($r,kr)=>$r.set(kr,Ne.setParams[kr]),ri)),new Qt(Mn,An,xr,{params:ri,headers:ai,context:li,reportProgress:Ri,responseType:cr,withCredentials:vi,transferCache:sr})}}var En=function(se){return se[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se}(En||{});class Zt{constructor(Ne,ot=200,yt="OK"){this.headers=Ne.headers||new Be,this.status=void 0!==Ne.status?Ne.status:ot,this.statusText=Ne.statusText||yt,this.url=Ne.url||null,this.ok=this.status>=200&&this.status<300}}class Nn extends Zt{constructor(Ne={}){super(Ne),this.type=En.ResponseHeader}clone(Ne={}){return new Nn({headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class _t extends Zt{constructor(Ne={}){super(Ne),this.type=En.Response,this.body=void 0!==Ne.body?Ne.body:null}clone(Ne={}){return new _t({body:void 0!==Ne.body?Ne.body:this.body,headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class Pe extends Zt{constructor(Ne){super(Ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ne.url||"(unknown url)"}`:`Http failure response for ${Ne.url||"(unknown url)"}: ${Ne.status} ${Ne.statusText}`,this.error=Ne.error||null}}function me(se,Ne){return{body:Ne,headers:se.headers,context:se.context,observe:se.observe,params:se.params,reportProgress:se.reportProgress,responseType:se.responseType,withCredentials:se.withCredentials,transferCache:se.transferCache}}let ve=(()=>{var se;class Ne{constructor(yt){this.handler=yt}request(yt,Nt,dn={}){let Mn;if(yt instanceof Qt)Mn=yt;else{let sr,xr;sr=dn.headers instanceof Be?dn.headers:new Be(dn.headers),dn.params&&(xr=dn.params instanceof be?dn.params:new be({fromObject:dn.params})),Mn=new Qt(yt,Nt,void 0!==dn.body?dn.body:null,{headers:sr,context:dn.context,params:xr,reportProgress:dn.reportProgress,responseType:dn.responseType||"json",withCredentials:dn.withCredentials,transferCache:dn.transferCache})}const An=(0,L.of)(Mn).pipe((0,he.H)(sr=>this.handler.handle(sr)));if(yt instanceof Qt||"events"===dn.observe)return An;const cr=An.pipe((0,ye.p)(sr=>sr instanceof _t));switch(dn.observe||"body"){case"body":switch(Mn.responseType){case"arraybuffer":return cr.pipe((0,Le.T)(sr=>{if(null!==sr.body&&!(sr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return sr.body}));case"blob":return cr.pipe((0,Le.T)(sr=>{if(null!==sr.body&&!(sr.body instanceof Blob))throw new Error("Response is not a Blob.");return sr.body}));case"text":return cr.pipe((0,Le.T)(sr=>{if(null!==sr.body&&"string"!=typeof sr.body)throw new Error("Response is not a string.");return sr.body}));default:return cr.pipe((0,Le.T)(sr=>sr.body))}case"response":return cr;default:throw new Error(`Unreachable: unhandled observe type ${dn.observe}}`)}}delete(yt,Nt={}){return this.request("DELETE",yt,Nt)}get(yt,Nt={}){return this.request("GET",yt,Nt)}head(yt,Nt={}){return this.request("HEAD",yt,Nt)}jsonp(yt,Nt){return this.request("JSONP",yt,{params:(new be).append(Nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(yt,Nt={}){return this.request("OPTIONS",yt,Nt)}patch(yt,Nt,dn={}){return this.request("PATCH",yt,me(dn,Nt))}post(yt,Nt,dn={}){return this.request("POST",yt,me(dn,Nt))}put(yt,Nt,dn={}){return this.request("PUT",yt,me(dn,Nt))}}return(se=Ne).\u0275fac=function(yt){return new(yt||se)(h.KVO($e))},se.\u0275prov=h.jDH({token:se,factory:se.\u0275fac}),Ne})();const Me=/^\)\]\}',?\n/;function Xe(se){if(se.url)return se.url;const Ne="X-Request-URL".toLocaleLowerCase();return se.headers.get(Ne)}let Rt=(()=>{var se;class Ne{constructor(){var yt,Nt;this.fetchImpl=null!==(yt=null===(Nt=(0,h.WQX)(we,{optional:!0}))||void 0===Nt?void 0:Nt.fetch)&&void 0!==yt?yt:(...dn)=>globalThis.fetch(...dn),this.ngZone=(0,h.WQX)(h.SKi)}handle(yt){return new Se.c(Nt=>{const dn=new AbortController;return this.doRequest(yt,dn.signal,Nt).then(jt,Mn=>Nt.error(new Pe({error:Mn}))),()=>dn.abort()})}doRequest(yt,Nt,dn){var Mn=this;return(0,c.A)(function*(){var An;const cr=Mn.createRequestInit(yt);let sr;try{const Wr=Mn.ngZone.runOutsideAngular(()=>Mn.fetchImpl(yt.urlWithParams,{signal:Nt,...cr}));(function In(se){se.then(jt,jt)})(Wr),dn.next({type:En.Sent}),sr=yield Wr}catch(Wr){var xr;return void dn.error(new Pe({error:Wr,status:null!==(xr=Wr.status)&&void 0!==xr?xr:0,statusText:Wr.statusText,url:yt.urlWithParams,headers:Wr.headers}))}const vi=new Be(sr.headers),Ri=sr.statusText,ai=null!==(An=Xe(sr))&&void 0!==An?An:yt.urlWithParams;let ri=sr.status,li=null;if(yt.reportProgress&&dn.next(new Nn({headers:vi,status:ri,statusText:Ri,url:ai})),sr.body){const Wr=sr.headers.get("content-length"),Qr=[],er=sr.body.getReader();let Is,Jo,Tr=0;const Vi=typeof Zone<"u"&&Zone.current;yield Mn.ngZone.runOutsideAngular((0,c.A)(function*(){for(;;){const{done:Fr,value:As}=yield er.read();if(Fr)break;if(Qr.push(As),Tr+=As.length,yt.reportProgress){var No,Es;Jo="text"===yt.responseType?(null!==(No=Jo)&&void 0!==No?No:"")+(null!==(Es=Is)&&void 0!==Es?Es:Is=new TextDecoder).decode(As,{stream:!0}):void 0;const Uo=()=>dn.next({type:En.DownloadProgress,total:Wr?+Wr:void 0,loaded:Tr,partialText:Jo});Vi?Vi.run(Uo):Uo()}}}));const xo=Mn.concatChunks(Qr,Tr);try{var $r;const No=null!==($r=sr.headers.get("Content-Type"))&&void 0!==$r?$r:"";li=Mn.parseBody(yt,xo,No)}catch(No){var kr;return void dn.error(new Pe({error:No,headers:new Be(sr.headers),status:sr.status,statusText:sr.statusText,url:null!==(kr=Xe(sr))&&void 0!==kr?kr:yt.urlWithParams}))}}0===ri&&(ri=li?200:0),ri>=200&&ri<300?(dn.next(new _t({body:li,headers:vi,status:ri,statusText:Ri,url:ai})),dn.complete()):dn.error(new Pe({error:li,headers:vi,status:ri,statusText:Ri,url:ai}))})()}parseBody(yt,Nt,dn){switch(yt.responseType){case"json":const Mn=(new TextDecoder).decode(Nt).replace(Me,"");return""===Mn?null:JSON.parse(Mn);case"text":return(new TextDecoder).decode(Nt);case"blob":return new Blob([Nt],{type:dn});case"arraybuffer":return Nt.buffer}}createRequestInit(yt){const Nt={},dn=yt.withCredentials?"include":void 0;if(yt.headers.forEach((Mn,An)=>Nt[Mn]=An.join(",")),yt.headers.has("Accept")||(Nt.Accept="application/json, text/plain, */*"),!yt.headers.has("Content-Type")){const Mn=yt.detectContentTypeHeader();null!==Mn&&(Nt["Content-Type"]=Mn)}return{body:yt.serializeBody(),method:yt.method,headers:Nt,credentials:dn}}concatChunks(yt,Nt){const dn=new Uint8Array(Nt);let Mn=0;for(const An of yt)dn.set(An,Mn),Mn+=An.length;return dn}}return(se=Ne).\u0275fac=function(yt){return new(yt||se)},se.\u0275prov=h.jDH({token:se,factory:se.\u0275fac}),Ne})();class we{}function jt(){}function Vn(se,Ne){return Ne(se)}function tr(se,Ne){return(ot,yt)=>Ne.intercept(ot,{handle:Nt=>se(Nt,yt)})}const Jn=new h.nKC(""),nr=new h.nKC(""),rr=new h.nKC(""),tn=new h.nKC("",{providedIn:"root",factory:()=>!0});function Lt(){let se=null;return(Ne,ot)=>{var yt;null===se&&(se=(null!==(yt=(0,h.WQX)(Jn,{optional:!0}))&&void 0!==yt?yt:[]).reduceRight(tr,Vn));const Nt=(0,h.WQX)(h.TgB);if((0,h.WQX)(tn)){const Mn=Nt.add();return se(Ne,ot).pipe((0,Ge.j)(()=>Nt.remove(Mn)))}return se(Ne,ot)}}let Ot=(()=>{var se;class Ne extends $e{constructor(yt,Nt){super(),this.backend=yt,this.injector=Nt,this.chain=null,this.pendingTasks=(0,h.WQX)(h.TgB),this.contributeToStability=(0,h.WQX)(tn)}handle(yt){if(null===this.chain){const Nt=Array.from(new Set([...this.injector.get(nr),...this.injector.get(rr,[])]));this.chain=Nt.reduceRight((dn,Mn)=>function qn(se,Ne,ot){return(yt,Nt)=>(0,h.N4e)(ot,()=>Ne(yt,dn=>se(dn,Nt)))}(dn,Mn,this.injector),Vn)}if(this.contributeToStability){const Nt=this.pendingTasks.add();return this.chain(yt,dn=>this.backend.handle(dn)).pipe((0,Ge.j)(()=>this.pendingTasks.remove(Nt)))}return this.chain(yt,Nt=>this.backend.handle(Nt))}}return(se=Ne).\u0275fac=function(yt){return new(yt||se)(h.KVO(He),h.KVO(h.uvJ))},se.\u0275prov=h.jDH({token:se,factory:se.\u0275fac}),Ne})();const Pr=/^\)\]\}',?\n/;let si=(()=>{var se;class Ne{constructor(yt){this.xhrFactory=yt}handle(yt){if("JSONP"===yt.method)throw new h.wOt(-2800,!1);const Nt=this.xhrFactory;return(Nt.\u0275loadImpl?(0,le.H)(Nt.\u0275loadImpl()):(0,L.of)(null)).pipe((0,Ce.n)(()=>new Se.c(Mn=>{const An=Nt.build();if(An.open(yt.method,yt.urlWithParams),yt.withCredentials&&(An.withCredentials=!0),yt.headers.forEach(($r,kr)=>An.setRequestHeader($r,kr.join(","))),yt.headers.has("Accept")||An.setRequestHeader("Accept","application/json, text/plain, */*"),!yt.headers.has("Content-Type")){const $r=yt.detectContentTypeHeader();null!==$r&&An.setRequestHeader("Content-Type",$r)}if(yt.responseType){const $r=yt.responseType.toLowerCase();An.responseType="json"!==$r?$r:"text"}const cr=yt.serializeBody();let sr=null;const xr=()=>{if(null!==sr)return sr;const $r=An.statusText||"OK",kr=new Be(An.getAllResponseHeaders()),bi=function Ln(se){return"responseURL"in se&&se.responseURL?se.responseURL:/^X-Request-URL:/m.test(se.getAllResponseHeaders())?se.getResponseHeader("X-Request-URL"):null}(An)||yt.url;return sr=new Nn({headers:kr,status:An.status,statusText:$r,url:bi}),sr},vi=()=>{let{headers:$r,status:kr,statusText:bi,url:Wr}=xr(),Qr=null;204!==kr&&(Qr=typeof An.response>"u"?An.responseText:An.response),0===kr&&(kr=Qr?200:0);let er=kr>=200&&kr<300;if("json"===yt.responseType&&"string"==typeof Qr){const Tr=Qr;Qr=Qr.replace(Pr,"");try{Qr=""!==Qr?JSON.parse(Qr):null}catch(Is){Qr=Tr,er&&(er=!1,Qr={error:Is,text:Qr})}}er?(Mn.next(new _t({body:Qr,headers:$r,status:kr,statusText:bi,url:Wr||void 0})),Mn.complete()):Mn.error(new Pe({error:Qr,headers:$r,status:kr,statusText:bi,url:Wr||void 0}))},Ri=$r=>{const{url:kr}=xr(),bi=new Pe({error:$r,status:An.status||0,statusText:An.statusText||"Unknown Error",url:kr||void 0});Mn.error(bi)};let ai=!1;const ri=$r=>{ai||(Mn.next(xr()),ai=!0);let kr={type:En.DownloadProgress,loaded:$r.loaded};$r.lengthComputable&&(kr.total=$r.total),"text"===yt.responseType&&An.responseText&&(kr.partialText=An.responseText),Mn.next(kr)},li=$r=>{let kr={type:En.UploadProgress,loaded:$r.loaded};$r.lengthComputable&&(kr.total=$r.total),Mn.next(kr)};return An.addEventListener("load",vi),An.addEventListener("error",Ri),An.addEventListener("timeout",Ri),An.addEventListener("abort",Ri),yt.reportProgress&&(An.addEventListener("progress",ri),null!==cr&&An.upload&&An.upload.addEventListener("progress",li)),An.send(cr),Mn.next({type:En.Sent}),()=>{An.removeEventListener("error",Ri),An.removeEventListener("abort",Ri),An.removeEventListener("load",vi),An.removeEventListener("timeout",Ri),yt.reportProgress&&(An.removeEventListener("progress",ri),null!==cr&&An.upload&&An.upload.removeEventListener("progress",li)),An.readyState!==An.DONE&&An.abort()}})))}}return(se=Ne).\u0275fac=function(yt){return new(yt||se)(h.KVO(fe.N0))},se.\u0275prov=h.jDH({token:se,factory:se.\u0275fac}),Ne})();const Cr=new h.nKC(""),$n=new h.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Or=new h.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vr{}let Tt=(()=>{var se;class Ne{constructor(yt,Nt,dn){this.doc=yt,this.platform=Nt,this.cookieName=dn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const yt=this.doc.cookie||"";return yt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,fe._b)(yt,this.cookieName),this.lastCookieString=yt),this.lastToken}}return(se=Ne).\u0275fac=function(yt){return new(yt||se)(h.KVO(fe.qQ),h.KVO(h.Agw),h.KVO($n))},se.\u0275prov=h.jDH({token:se,factory:se.\u0275fac}),Ne})();function nt(se,Ne){const ot=se.url.toLowerCase();if(!(0,h.WQX)(Cr)||"GET"===se.method||"HEAD"===se.method||ot.startsWith("http://")||ot.startsWith("https://"))return Ne(se);const yt=(0,h.WQX)(vr).getToken(),Nt=(0,h.WQX)(Or);return null!=yt&&!se.headers.has(Nt)&&(se=se.clone({headers:se.headers.set(Nt,yt)})),Ne(se)}var rt=function(se){return se[se.Interceptors=0]="Interceptors",se[se.LegacyInterceptors=1]="LegacyInterceptors",se[se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",se[se.NoXsrfProtection=3]="NoXsrfProtection",se[se.JsonpSupport=4]="JsonpSupport",se[se.RequestsMadeViaParent=5]="RequestsMadeViaParent",se[se.Fetch=6]="Fetch",se}(rt||{});function ut(se,Ne){return{\u0275kind:se,\u0275providers:Ne}}function sn(...se){const Ne=[ve,si,Ot,{provide:$e,useExisting:Ot},{provide:He,useFactory:()=>{var ot;return null!==(ot=(0,h.WQX)(Rt,{optional:!0}))&&void 0!==ot?ot:(0,h.WQX)(si)}},{provide:nr,useValue:nt,multi:!0},{provide:Cr,useValue:!0},{provide:vr,useClass:Tt}];for(const ot of se)Ne.push(...ot.\u0275providers);return(0,h.EmA)(Ne)}const P=new h.nKC("");let un=(()=>{var se;class Ne{}return(se=Ne).\u0275fac=function(yt){return new(yt||se)},se.\u0275mod=h.$C({type:se}),se.\u0275inj=h.G2t({providers:[sn(ut(rt.LegacyInterceptors,[{provide:P,useFactory:Lt},{provide:nr,useExisting:P,multi:!0}]))]}),Ne})()},4438:(bn,ht,O)=>{"use strict";function c(e,n){return Object.is(e,n)}O.d(ht,{iLQ:()=>oA,sZ2:()=>If,hnV:()=>wS,Hbi:()=>Lx,o8S:()=>Ec,BIS:()=>D0,gRc:()=>jS,Ql9:()=>sx,Ocv:()=>fx,Z63:()=>Co,aKT:()=>Va,uvJ:()=>ro,zcH:()=>vu,bkB:()=>Li,$GK:()=>Fr,nKC:()=>ot,zZn:()=>Ks,_q3:()=>Sb,MKu:()=>Rb,xe9:()=>Ab,Co$:()=>gp,Vns:()=>Vh,SKi:()=>lo,Xx1:()=>_i,Agw:()=>ug,PLl:()=>Cv,sFG:()=>rw,_9s:()=>XI,czy:()=>yh,kdw:()=>hi,C4Q:()=>Sl,NYb:()=>ZM,giA:()=>TS,xvI:()=>DM,RxE:()=>vS,c1b:()=>Yl,gXe:()=>Oo,mal:()=>ly,L39:()=>pN,EWP:()=>mN,a0P:()=>CN,Ol2:()=>EE,w6W:()=>Rw,oH4:()=>VS,Rfq:()=>rt,WQX:()=>wt,naY:()=>Ax,QuC:()=>na,EmA:()=>Oa,fpN:()=>Fx,HJs:()=>TN,N4e:()=>Gt,vPA:()=>rT,O8t:()=>vN,H3F:()=>_S,H8p:()=>kl,KH2:()=>Yt,TgB:()=>ll,wOt:()=>Ot,WHO:()=>AS,e01:()=>CS,H5H:()=>_,Zy3:()=>yr,mq5:()=>Y,JZv:()=>Cr,LfX:()=>J,plB:()=>cc,jNT:()=>_b,zjR:()=>bS,TL$:()=>MA,Tbb:()=>vr,Vt3:()=>vE,GFd:()=>_T,OA$:()=>El,Jv_:()=>WD,aNF:()=>KD,R7$:()=>rd,BMQ:()=>md,AVh:()=>Mm,wni:()=>ID,VBU:()=>to,FsC:()=>Xa,jDH:()=>Sr,G2t:()=>K,$C:()=>ta,EJ8:()=>gl,rXU:()=>nc,nrm:()=>Cd,eu8:()=>zm,bVm:()=>Td,qex:()=>Np,k0s:()=>xp,j41:()=>Hm,RV6:()=>ky,xGo:()=>Bc,KVO:()=>at,kS0:()=>zd,QTQ:()=>l_,bIt:()=>JT,lsd:()=>CD,XpG:()=>uD,SdG:()=>dD,NAR:()=>cD,Y8G:()=>bp,FS9:()=>eb,eq3:()=>QD,mGM:()=>AD,Njj:()=>xc,eBV:()=>Fd,B4B:()=>jv,n$t:()=>$0,DNE:()=>CE,EFF:()=>ND,JRh:()=>rb,SpI:()=>eA,Lme:()=>ib,DH7:()=>jD,mxI:()=>sb,R50:()=>ob,GBs:()=>ED});let h=null,L=!1,Se=1;const le=Symbol("SIGNAL");function he(e){const n=h;return h=e,n}const Ce={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fe(e){if(L)throw new Error("");if(null===h)return;h.consumerOnSignalRead(e);const n=h.nextProducerIndex++;it(h),n<h.producerNode.length&&h.producerNode[n]!==e&&ke(h)&&be(h.producerNode[n],h.producerIndexOfThis[n]),h.producerNode[n]!==e&&(h.producerNode[n]=e,h.producerIndexOfThis[n]=ke(h)?tt(e,h,n):0),h.producerLastReadVersion[n]=e.version}function He(e){if((!ke(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Se)){if(!e.producerMustRecompute(e)&&!ft(e))return e.dirty=!1,void(e.lastCleanEpoch=Se);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Se}}function Be(e){if(void 0===e.liveConsumerNode)return;const n=L;L=!0;try{for(const i of e.liveConsumerNode)i.dirty||dt(i)}finally{L=n}}function st(){var e;return!1!==(null===(e=h)||void 0===e?void 0:e.consumerAllowSignalWrites)}function dt(e){var n;e.dirty=!0,Be(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function lt(e){return e&&(e.nextProducerIndex=0),he(e)}function et(e,n){if(he(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ke(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)be(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ft(e){it(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(He(i),o!==i.version))return!0}return!1}function Ke(e){if(it(e),ke(e))for(let n=0;n<e.producerNode.length;n++)be(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function tt(e,n,i){if(vt(e),0===e.liveConsumerNode.length&&Dt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=tt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function be(e,n){if(vt(e),1===e.liveConsumerNode.length&&Dt(e))for(let o=0;o<e.producerNode.length;o++)be(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];it(l),l.producerIndexOfThis[o]=n}}function ke(e){var n,i;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(i=e.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function it(e){var n,i,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(i=e.producerIndexOfThis)&&void 0!==i||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function vt(e){var n,i;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(i=e.liveConsumerIndexOfThis)&&void 0!==i||(e.liveConsumerIndexOfThis=[])}function Dt(e){return void 0!==e.producerNode}const Ve=Symbol("UNSET"),$t=Symbol("COMPUTING"),Qt=Symbol("ERRORED"),En={...Ce,value:Ve,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===Ve||e.value===$t,producerRecomputeValue(e){if(e.value===$t)throw new Error("Detected cycle in computations.");const n=e.value;e.value=$t;const i=lt(e);let o;try{o=e.computation()}catch(l){o=Qt,e.error=l}finally{et(e,i)}n!==Ve&&n!==Qt&&o!==Qt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let Nn=function Zt(){throw new Error};function _t(){Nn()}let te=null;function ve(e,n){st()||_t(),e.equal(e.value,n)||(e.value=n,function Rt(e){var n;e.version++,function $e(){Se++}(),Be(e),null===(n=te)||void 0===n||n()}(e))}const Xe={...Ce,equal:c,value:void 0};var rr,Lt,tr=O(4412),qn=O(1413),Jn=O(8359),nr=O(6354);const on="https://g.co/ng/security#xss";class Ot extends Error{constructor(n,i){super(yr(n,i)),this.code=n}}function yr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Qn(e){return{toString:e}.toString()}const mr="__parameters__";function Ln(e,n,i){return Qn(()=>{const o=function Pr(e){return function(...i){if(e){const o=e(...i);for(const l in o)this[l]=o[l]}}}(n);function l(...d){if(this instanceof l)return o.apply(this,d),this;const g=new l(...d);return I.annotation=g,I;function I(b,$,q){const ue=b.hasOwnProperty(mr)?b[mr]:Object.defineProperty(b,mr,{value:[]})[mr];for(;ue.length<=q;)ue.push(null);return(ue[q]=ue[q]||[]).push(g),b}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Cr=globalThis;function Rn(e){for(let n in e)if(e[n]===Rn)return n;throw Error("Could not find renamed property on target object.")}function Or(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function vr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(vr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Tt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const kt=Rn({__forward_ref__:Rn});function rt(e){return e.__forward_ref__=rt,e.toString=function(){return vr(this())},e}function ut(e){return sn(e)?e():e}function sn(e){return"function"==typeof e&&e.hasOwnProperty(kt)&&e.__forward_ref__===rt}function Sr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function K(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ae(e){return ee(e,Kt)||ee(e,se)}function J(e){return null!==Ae(e)}function ee(e,n){return e.hasOwnProperty(n)?e[n]:null}function It(e){return e&&(e.hasOwnProperty(mn)||e.hasOwnProperty(Ne))?e[mn]:null}const Kt=Rn({\u0275prov:Rn}),mn=Rn({\u0275inj:Rn}),se=Rn({ngInjectableDef:Rn}),Ne=Rn({ngInjectorDef:Rn});class ot{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Sr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ai(e){return e&&!!e.\u0275providers}const ri=Rn({\u0275cmp:Rn}),li=Rn({\u0275dir:Rn}),$r=Rn({\u0275pipe:Rn}),kr=Rn({\u0275mod:Rn}),bi=Rn({\u0275fac:Rn}),Wr=Rn({__NG_ELEMENT_ID__:Rn}),Qr=Rn({__NG_ENV_ID__:Rn});function er(e){return"string"==typeof e?e:null==e?"":String(e)}function Es(e,n){throw new Ot(-201,!1)}var Fr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Fr||{});let As;function Uo(){return As}function Zi(e){const n=As;return As=e,n}function ls(e,n,i){const o=Ae(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Fr.Optional?null:void 0!==n?n:void Es()}const wo={},Fi="__NG_DI_FLAG__",Us="ngTempTokenPath",X=/\n/gm,y="__source";let M;function Fe(e){const n=M;return M=e,n}function ct(e,n=Fr.Default){if(void 0===M)throw new Ot(-203,!1);return null===M?ls(e,void 0,n):M.get(e,n&Fr.Optional?null:void 0,n)}function at(e,n=Fr.Default){return(Uo()||ct)(ut(e),n)}function wt(e,n=Fr.Default){return at(e,zt(n))}function zt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function an(e){const n=[];for(let i=0;i<e.length;i++){const o=ut(e[i]);if(Array.isArray(o)){if(0===o.length)throw new Ot(900,!1);let l,d=Fr.Default;for(let g=0;g<o.length;g++){const I=o[g],b=Wn(I);"number"==typeof b?-1===b?l=I.token:d|=b:l=I}n.push(at(l,d))}else n.push(at(o))}return n}function Fn(e,n){return e[Fi]=n,e.prototype[Fi]=n,e}function Wn(e){return e[Fi]}const _i=Fn(Ln("Optional"),8),hi=Fn(Ln("SkipSelf"),4);function $o(e,n){return e.hasOwnProperty(bi)?e[bi]:null}function ho(e,n){e.forEach(i=>Array.isArray(i)?ho(i,n):n(i))}function Ts(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Da(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function eo(e,n,i){let o=pa(e,n);return o>=0?e[1|o]=i:(o=~o,function es(e,n,i,o){let l=e.length;if(l==n)e.push(i,o);else if(1===l)e.push(o,e[0]),e[0]=i;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function Sa(e,n){const i=pa(e,n);if(i>=0)return e[1|i]}function pa(e,n){return function Wa(e,n,i){let o=0,l=e.length>>i;for(;l!==o;){const d=o+(l-o>>1),g=e[d<<i];if(n===g)return d<<i;g>n?l=d:o=d+1}return~(l<<i)}(e,n,1)}const Ui={},ei=[],Co=new ot(""),Js=new ot("",-1),Zs=new ot("");class Ra{get(n,i=wo){if(i===wo){const o=new Error(`NullInjectorError: No provider for ${vr(n)}!`);throw o.name="NullInjectorError",o}return i}}var vo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(vo||{}),Oo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Oo||{}),Bo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Bo||{});function su(e,n,i){let o=e.length;for(;;){const l=e.indexOf(n,i);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=n.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}i=l+1}}function Pa(e,n,i){let o=0;for(;o<i.length;){const l=i[o];if("number"==typeof l){if(0!==l)break;o++;const d=i[o++],g=i[o++],I=i[o++];e.setAttribute(n,g,I,d)}else{const d=l,g=i[++o];Ma(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function Ol(e){return 3===e||4===e||6===e}function Ma(e){return 64===e.charCodeAt(0)}function Ka(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:0===i||ea(e,i,l,null,-1===i||2===i?n[++o]:null)}}return e}function ea(e,n,i,o,l){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const I=e[d++];if("number"==typeof I){if(I===n){g=-1;break}if(I>n){g=d-1;break}}}for(;d<e.length;){const I=e[d];if("number"==typeof I)break;if(I===i){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,i),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}const qa="ng-template";function ui(e,n,i,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==su(n[l+1].toLowerCase(),i,0))return!0}else if(ds(e))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===i)return!0}return!1}function ds(e){return 4===e.type&&e.value!==qa}function Fu(e,n,i){return n===(4!==e.type||i?e.value:qa)}function Ac(e,n,i){let o=4;const l=e.attrs,d=null!==l?function N(e){for(let n=0;n<e.length;n++)if(Ol(e[n]))return n;return e.length}(l):0;let g=!1;for(let I=0;I<n.length;I++){const b=n[I];if("number"!=typeof b){if(!g)if(4&o){if(o=2|1&o,""!==b&&!Fu(e,b,i)||""===b&&1===n.length){if(ts(o))return!1;g=!0}}else if(8&o){if(null===l||!ui(e,l,b,i)){if(ts(o))return!1;g=!0}}else{const $=n[++I],q=au(b,l,ds(e),i);if(-1===q){if(ts(o))return!1;g=!0;continue}if(""!==$){let ue;if(ue=q>d?"":l[q+1].toLowerCase(),2&o&&$!==ue){if(ts(o))return!1;g=!0}}}}else{if(!g&&!ts(o)&&!ts(b))return!1;if(g&&ts(b))continue;g=!1,o=b|1&o}}return ts(o)||g}function ts(e){return!(1&e)}function au(e,n,i,o){if(null===n)return-1;let l=0;if(o||!i){let d=!1;for(;l<n.length;){const g=n[l];if(g===e)return l;if(3===g||6===g)d=!0;else{if(1===g||2===g){let I=n[++l];for(;"string"==typeof I;)I=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=d?1:2}return-1}return function oe(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function ga(e,n,i=!1){for(let o=0;o<n.length;o++)if(Ac(e,n[o],i))return!0;return!1}function j(e,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function Te(e,n){return e?":not("+n.trim()+")":n}function pn(e){let n=e[0],i=1,o=2,l="",d=!1;for(;i<e.length;){let g=e[i];if("string"==typeof g)if(2&o){const I=e[++i];l+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!ts(g)&&(n+=Te(d,l),l=""),o=g,d=d||!ts(o);i++}return""!==l&&(n+=Te(d,l)),n}function to(e){return Qn(()=>{var n;const i=Cc(e),o={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===vo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Oo.Emulated,styles:e.styles||ei,_:null,schemas:e.schemas||null,tView:null,id:""};xa(o);const l=e.dependencies;return o.directiveDefs=fs(l,!1),o.pipeDefs=fs(l,!0),o.id=function Dd(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function no(e){return Kr(e)||fo(e)}function hs(e){return null!==e}function ta(e){return Qn(()=>({type:e.type,bootstrap:e.bootstrap||ei,declarations:e.declarations||ei,imports:e.imports||ei,exports:e.exports||ei,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $s(e,n){if(null==e)return Ui;const i={};for(const l in e)if(e.hasOwnProperty(l)){const d=e[l];let g,I,b=Bo.None;var o;Array.isArray(d)?(b=d[0],g=d[1],I=null!==(o=d[2])&&void 0!==o?o:g):(g=d,I=d),n?(i[g]=b!==Bo.None?[l,b]:l,n[g]=I):i[g]=l}return i}function Xa(e){return Qn(()=>{const n=Cc(e);return xa(n),n})}function gl(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Kr(e){return e[ri]||null}function fo(e){return e[li]||null}function Qi(e){return e[$r]||null}function na(e){const n=Kr(e)||fo(e)||Qi(e);return null!==n&&n.standalone}function _o(e,n){const i=e[kr]||null;if(!i&&!0===n)throw new Error(`Type ${vr(e)} does not have '\u0275mod' property.`);return i}function Cc(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Ui,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ei,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$s(e.inputs,n),outputs:$s(e.outputs),debugInfo:null}}function xa(e){var n;null===(n=e.features)||void 0===n||n.forEach(i=>i(e))}function fs(e,n){if(!e)return null;const i=n?Qi:no;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(hs)}function Oa(e){return{\u0275providers:e}}function Tc(...e){return{\u0275providers:Bs(0,e),\u0275fromNgModule:!0}}function Bs(e,...n){const i=[],o=new Set;let l;const d=g=>{i.push(g)};return ho(n,g=>{const I=g;Qa(I,d,[],o)&&(l||(l=[]),l.push(I))}),void 0!==l&&Lu(l,d),i}function Lu(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:l}=e[i];ml(l,d=>{n(d,o)})}}function Qa(e,n,i,o){if(!(e=ut(e)))return!1;let l=null,d=It(e);const g=!d&&Kr(e);if(d||g){if(g&&!g.standalone)return!1;l=e}else{const b=e.ngModule;if(d=It(b),!d)return!1;l=b}const I=o.has(l);if(g){if(I)return!1;if(o.add(l),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const $ of b)Qa($,n,i,o)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let $;o.add(l);try{ho(d.imports,q=>{Qa(q,n,i,o)&&($||($=[]),$.push(q))})}finally{}void 0!==$&&Lu($,n)}if(!I){const $=$o(l)||(()=>new l);n({provide:l,useFactory:$,deps:ei},l),n({provide:Zs,useValue:l,multi:!0},l),n({provide:Co,useValue:()=>at(l),multi:!0},l)}const b=d.providers;if(null!=b&&!I){const $=e;ml(b,q=>{n(q,$)})}}}return l!==e&&void 0!==e.providers}function ml(e,n){for(let i of e)ai(i)&&(i=i.\u0275providers),Array.isArray(i)?ml(i,n):n(i)}const Sd=Rn({provide:String,useValue:Rn});function js(e){return null!==e&&"object"==typeof e&&Sd in e}function ma(e){return"function"==typeof e}const kl=new ot(""),Ya={},bc={};let $i;function ia(){return void 0===$i&&($i=new Ra),$i}class ro{}class ko extends ro{get destroyed(){return this._destroyed}constructor(n,i,o,l){super(),this.parent=i,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Un(n,g=>this.processProvider(g)),this.records.set(Js,oa(void 0,this)),l.has("environment")&&this.records.set(ro,oa(void 0,this));const d=this.records.get(kl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Zs,ei,Fr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=he(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Fe(this),o=Zi(void 0);try{return n()}finally{Fe(i),Zi(o)}}get(n,i=wo,o=Fr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Qr))return n[Qr](this);o=zt(o);const d=Fe(this),g=Zi(void 0);try{if(!(o&Fr.SkipSelf)){let b=this.records.get(n);if(void 0===b){const $=function yl(e){return"function"==typeof e||"object"==typeof e&&e instanceof ot}(n)&&Ae(n);b=$&&this.injectableDefInScope($)?oa(_l(n),Ya):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(o&Fr.Self?ia():this.parent).get(n,i=o&Fr.Optional&&i===wo?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[Us]=I[Us]||[]).unshift(vr(n)),d)throw I;return function Yn(e,n,i,o){const l=e[Us];throw n[y]&&l.unshift(n[y]),e.message=function pr(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=vr(n);if(Array.isArray(n))l=n.map(vr).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let I=n[g];d.push(g+":"+("string"==typeof I?JSON.stringify(I):vr(I)))}l=`{${d.join(", ")}}`}return`${i}${o?"("+o+")":""}[${l}]: ${e.replace(X,"\n  ")}`}("\n"+e.message,l,i,o),e.ngTokenPath=l,e[Us]=null,e}(I,n,"R3InjectorError",this.source)}throw I}finally{Zi(g),Fe(d)}}resolveInjectorInitializers(){const n=he(null),i=Fe(this),o=Zi(void 0);try{const d=this.get(Co,ei,Fr.Self);for(const g of d)g()}finally{Fe(i),Zi(o),he(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(vr(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ot(205,!1)}processProvider(n){let i=ma(n=ut(n))?n:ut(n&&n.provide);const o=function xi(e){return js(e)?oa(void 0,e.useValue):oa(So(e),Ya)}(n);if(!ma(n)&&!0===n.multi){let l=this.records.get(i);l||(l=oa(void 0,Ya,!0),l.factory=()=>an(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=he(null);try{return i.value===Ya&&(i.value=bc,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ar(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{he(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ut(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function _l(e){const n=Ae(e),i=null!==n?n.factory:$o(e);if(null!==i)return i;if(e instanceof ot)throw new Ot(204,!1);if(e instanceof Function)return function Cn(e){if(e.length>0)throw new Ot(204,!1);const i=function xe(e){return e&&(e[Kt]||e[se])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Ot(204,!1)}function So(e,n,i){let o;if(ma(e)){const l=ut(e);return $o(l)||_l(l)}if(js(e))o=()=>ut(e.useValue);else if(function ka(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...an(e.deps||[]));else if(function lu(e){return!(!e||!e.useExisting)}(e))o=()=>at(ut(e.useExisting));else{const l=ut(e&&(e.useClass||e.provide));if(!function ir(e){return!!e.deps}(e))return $o(l)||_l(l);o=()=>new l(...an(e.deps))}return o}function oa(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function Un(e,n){for(const i of e)Array.isArray(i)?Un(i,n):i&&ai(i)?Un(i.\u0275providers,n):n(i)}function Gt(e,n){e instanceof ko&&e.assertNotDestroyed();const o=Fe(e),l=Zi(void 0);try{return n()}finally{Fe(o),Zi(l)}}function _n(){return void 0!==Uo()||null!=function Q(){return M}()}const kn=0,wn=1,Sn=2,Bi=3,Hr=4,Dn=5,Wi=6,ps=7,pi=8,io=9,yo=10,Lr=11,sa=12,Hs=13,Fl=14,di=15,Il=16,Ja=17,zs=18,gs=19,va=20,Pt=21,Oi=22,Io=23,hr=25,wc=1,jo=7,bs=9,oo=10;var Za=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Za||{});function po(e){return Array.isArray(e)&&"object"==typeof e[wc]}function Eo(e){return Array.isArray(e)&&!0===e[wc]}function Ro(e){return!!(4&e.flags)}function aa(e){return e.componentOffset>-1}function ya(e){return!(1&~e.flags)}function ws(e){return!!e.template}function so(e){return!!(512&e[Sn])}class ns{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Po(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}function El(){return rs}function rs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yi),Ll}function Ll(){const e=la(this),n=null==e?void 0:e.current;if(n){const i=e.previous;if(i===Ui)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Yi(e,n,i,o,l){const d=this.declaredInputs[o],g=la(e)||function el(e,n){return e[cu]=n}(e,{previous:Ui,current:null}),I=g.current||(g.current={}),b=g.previous,$=b[d];I[d]=new ns($&&$.currentValue,i,b===Ui),Po(e,n,l,i)}El.ngInherit=!0;const cu="__ngSimpleChanges__";function la(e){return e[cu]||null}const Ss=function(e,n,i){};function mi(e){for(;Array.isArray(e);)e=e[kn];return e}function zo(e,n){return mi(n[e])}function ms(e,n){return mi(n[e.index])}function ji(e,n){return e.data[n]}function To(e,n){const i=n[e];return po(i)?i:i[kn]}function Fa(e){return!(128&~e[Sn])}function Rs(e,n){return null==n?null:e[n]}function Ul(e){e[Ja]=0}function xd(e){1024&e[Sn]||(e[Sn]|=1024,Fa(e)&&La(e))}function Ps(e){var n;return!!(9216&e[Sn]||null!==(n=e[Io])&&void 0!==n&&n.dirty)}function $u(e){var n;null===(n=e[yo].changeDetectionScheduler)||void 0===n||n.notify(8),64&e[Sn]&&(e[Sn]|=1024),Ps(e)&&La(e)}function La(e){var n;null===(n=e[yo].changeDetectionScheduler)||void 0===n||n.notify(0);let i=Go(e);for(;null!==i&&!(8192&i[Sn])&&(i[Sn]|=8192,Fa(i));)i=Go(i)}function Ms(e,n){if(!(256&~e[Sn]))throw new Ot(911,!1);null===e[Pt]&&(e[Pt]=[]),e[Pt].push(n)}function Go(e){const n=e[Bi];return Eo(n)?n[Bi]:n}const Ur={lFrame:Bl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Rc=!1;function Jh(){return Ur.bindingsEnabled}function tl(){return null!==Ur.skipHydrationRootTNode}function rn(){return Ur.lFrame.lView}function Jr(){return Ur.lFrame.tView}function Fd(e){return Ur.lFrame.contextLView=e,e[pi]}function xc(e){return Ur.lFrame.contextLView=null,e}function zr(){let e=Ld();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ld(){return Ur.lFrame.currentTNode}function Fo(e,n){const i=Ur.lFrame;i.currentTNode=e,i.isParent=n}function Vd(){return Ur.lFrame.isParent}function Nc(){Ur.lFrame.isParent=!1}function Si(){return Rc}function pu(e){Rc=e}function vs(){return Ur.lFrame.bindingIndex++}function nl(e){const n=Ur.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function Qm(e,n){const i=Ur.lFrame;i.bindingIndex=i.bindingRootIndex=e,tf(n)}function tf(e){Ur.lFrame.currentDirectiveIndex=e}function nf(){return Ur.lFrame.currentQueryIndex}function gu(e){Ur.lFrame.currentQueryIndex=e}function Jm(e){const n=e[wn];return 2===n.type?n.declTNode:1===n.type?e[Dn]:null}function Bp(e,n,i){if(i&Fr.SkipSelf){let l=n,d=e;for(;!(l=l.parent,null!==l||i&Fr.Host||(l=Jm(d),null===l||(d=d[Fl],10&l.type))););if(null===l)return!1;n=l,e=d}const o=Ur.lFrame=$d();return o.currentTNode=n,o.lView=e,!0}function rf(e){const n=$d(),i=e[wn];Ur.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function $d(){const e=Ur.lFrame,n=null===e?null:e.child;return null===n?Bl(e):n}function Bl(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function mu(){const e=Ur.lFrame;return Ur.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Oc=mu;function ju(){const e=mu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Wo(){return Ur.lFrame.selectedIndex}function xs(e){Ur.lFrame.selectedIndex=e}function ki(){const e=Ur.lFrame;return ji(e.tView,e.selectedIndex)}let Bd=!0;function Hl(){return Bd}function Ea(e){Bd=e}function rl(e,n){for(let $=n.directiveStart,q=n.directiveEnd;$<q;$++){const Ue=e.data[$].type.prototype,{ngAfterContentInit:Je,ngAfterContentChecked:We,ngAfterViewInit:Xt,ngAfterViewChecked:gn,ngOnDestroy:xn}=Ue;var i,o,l,d,g,I,b;Je&&(null!==(i=e.contentHooks)&&void 0!==i?i:e.contentHooks=[]).push(-$,Je),We&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push($,We),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push($,We)),Xt&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-$,Xt),gn&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push($,gn),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push($,gn)),null!=xn&&(null!==(b=e.destroyHooks)&&void 0!==b?b:e.destroyHooks=[]).push($,xn)}}function zu(e,n,i){jd(e,n,3,i)}function Aa(e,n,i,o){(3&e[Sn])===i&&jd(e,n,i,o)}function zl(e,n){let i=e[Sn];(3&i)===n&&(i&=16383,i+=1,e[Sn]=i)}function jd(e,n,i,o){const d=null!=o?o:-1,g=n.length-1;let I=0;for(let b=void 0!==o?65535&e[Ja]:0;b<g;b++)if("number"==typeof n[b+1]){if(I=n[b],null!=o&&I>=o)break}else n[b]<0&&(e[Ja]+=65536),(I<d||-1==d)&&(Zm(e,i,n,b),e[Ja]=(4294901760&e[Ja])+b+2),b++}function af(e,n){Ss(4,e,n);const i=he(null);try{n.call(e)}finally{he(i),Ss(5,e,n)}}function Zm(e,n,i,o){const l=i[o]<0,d=i[o+1],I=e[l?-i[o]:i[o]];l?e[Sn]>>14<e[Ja]>>16&&(3&e[Sn])===n&&(e[Sn]+=16384,af(I,d)):af(I,d)}const Gs=-1;class Fc{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}const w={};class W{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=zt(o);const l=this.injector.get(n,w,o);return l!==w||i===w?l:this.parentInjector.get(n,i,o)}}function Ie(e){return e!==Gs}function gt(e){return 32767&e}function yn(e,n){let i=function Ht(e){return e>>16}(e),o=n;for(;i>0;)o=o[Fl],i--;return o}let gr=!0;function ti(e){const n=gr;return gr=e,n}const ol=255,sl=5;let Gl=0;const ca={};function Wu(e,n){const i=Hd(e,n);if(-1!==i)return i;const o=n[wn];o.firstCreatePass&&(e.injectorIndex=n.length,al(o.data,e),al(n,null),al(o.blueprint,null));const l=Ku(e,n),d=e.injectorIndex;if(Ie(l)){const g=gt(l),I=yn(l,n),b=I[wn].data;for(let $=0;$<8;$++)n[d+$]=I[g+$]|b[g+$]}return n[d+8]=l,d}function al(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Hd(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ku(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,l=n;for(;null!==l;){if(o=qp(l),null===o)return Gs;if(i++,l=l[Fl],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return Gs}function bl(e,n,i){!function Wl(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(Wr)&&(o=i[Wr]),null==o&&(o=i[Wr]=Gl++);const l=o&ol;n.data[e+(l>>sl)]|=1<<l}(e,n,i)}function Wp(e,n,i){if(i&Fr.Optional||void 0!==e)return e;Es()}function Hi(e,n,i,o){if(i&Fr.Optional&&void 0===o&&(o=null),!(i&(Fr.Self|Fr.Host))){const l=e[io],d=Zi(void 0);try{return l?l.get(n,o,i&Fr.Optional):ls(n,o,i&Fr.Optional)}finally{Zi(d)}}return Wp(o,0,i)}function Vc(e,n,i,o=Fr.Default,l){if(null!==e){if(2048&n[Sn]&&!(o&Fr.Self)){const g=function tv(e,n,i,o,l){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[Sn]&&!(512&g[Sn]);){const I=lf(d,g,i,o|Fr.Self,ca);if(I!==ca)return I;let b=d.parent;if(!b){const $=g[va];if($){const q=$.get(i,ca,o);if(q!==ca)return q}b=qp(g),g=g[Fl]}d=b}return l}(e,n,i,o,ca);if(g!==ca)return g}const d=lf(e,n,i,o,ca);if(d!==ca)return d}return Hi(n,i,o,l)}function lf(e,n,i,o,l){const d=function vA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Wr)?e[Wr]:void 0;return"number"==typeof n?n>=0?n&ol:t0:n}(i);if("function"==typeof d){if(!Bp(n,e,o))return o&Fr.Host?Wp(l,0,o):Hi(n,i,o,l);try{let g;if(g=d(o),null!=g||o&Fr.Optional)return g;Es()}finally{Oc()}}else if("number"==typeof d){let g=null,I=Hd(e,n),b=Gs,$=o&Fr.Host?n[di][Dn]:null;for((-1===I||o&Fr.SkipSelf)&&(b=-1===I?Ku(e,n):n[I+8],b!==Gs&&Uc(o,!1)?(g=n[wn],I=gt(b),n=yn(b,n)):I=-1);-1!==I;){const q=n[wn];if(ev(d,I,q.data)){const ue=e0(I,n,i,g,o,$);if(ue!==ca)return ue}b=n[I+8],b!==Gs&&Uc(o,n[wn].data[I+8]===$)&&ev(d,I,n)?(g=q,I=gt(b),n=yn(b,n)):I=-1}}return l}function e0(e,n,i,o,l,d){const g=n[wn],I=g.data[e+8],q=Kp(I,g,i,null==o?aa(I)&&gr:o!=g&&!!(3&I.type),l&Fr.Host&&d===I);return null!==q?wl(n,g,q,I):ca}function Kp(e,n,i,o,l){const d=e.providerIndexes,g=n.data,I=1048575&d,b=e.directiveStart,q=d>>20,Ue=l?I+q:e.directiveEnd;for(let Je=o?I:I+q;Je<Ue;Je++){const We=g[Je];if(Je<b&&i===We||Je>=b&&We.type===i)return Je}if(l){const Je=g[b];if(Je&&ws(Je)&&Je.type===i)return b}return null}function wl(e,n,i,o){let l=e[i];const d=n.data;if(function Ws(e){return e instanceof Fc}(l)){const g=l;g.resolving&&function Vi(e,n){throw n&&n.join(" > "),new Ot(-200,e)}(function Tr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():er(e)}(d[i]));const I=ti(g.canSeeViewProviders);g.resolving=!0;const $=g.injectImpl?Zi(g.injectImpl):null;Bp(e,o,Fr.Default);try{l=e[i]=g.factory(void 0,d,e,o),n.firstCreatePass&&i>=o.directiveStart&&function sf(e,n,i){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(o){var g,I;const ue=rs(n);(null!==(g=i.preOrderHooks)&&void 0!==g?g:i.preOrderHooks=[]).push(e,ue),(null!==(I=i.preOrderCheckHooks)&&void 0!==I?I:i.preOrderCheckHooks=[]).push(e,ue)}var b,$,q;l&&(null!==(b=i.preOrderHooks)&&void 0!==b?b:i.preOrderHooks=[]).push(0-e,l),d&&((null!==($=i.preOrderHooks)&&void 0!==$?$:i.preOrderHooks=[]).push(e,d),(null!==(q=i.preOrderCheckHooks)&&void 0!==q?q:i.preOrderCheckHooks=[]).push(e,d))}(i,d[i],n)}finally{null!==$&&Zi($),ti(I),g.resolving=!1,Oc()}}return l}function ev(e,n,i){return!!(i[n+(e>>sl)]&1<<e)}function Uc(e,n){return!(e&Fr.Self||e&Fr.Host&&n)}class qo{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Vc(this._tNode,this._lView,n,zt(o),i)}}function t0(){return new qo(zr(),rn())}function Bc(e){return Qn(()=>{const n=e.prototype.constructor,i=n[bi]||uf(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[bi]||uf(l);if(d&&d!==i)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function uf(e){return sn(e)?()=>{const n=uf(ut(e));return n&&n()}:$o(e)}function qp(e){const n=e[wn],i=n.type;return 2===i?n.declTNode:1===i?e[Dn]:null}function zd(e){return function Gp(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const o=i.length;let l=0;for(;l<o;){const d=i[l];if(Ol(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof i[l];)l++;else{if(d===n)return i[l+1];l+=2}}}return null}(zr(),e)}function Gd(e,n=null,i=null,o){const l=df(e,n,i,o);return l.resolveInjectorInitializers(),l}function df(e,n=null,i=null,o,l=new Set){const d=[i||ei,Tc(e)];return o=o||("object"==typeof e?void 0:vr(e)),new ko(d,n||ia(),o||null,l)}class Ks{static create(n,i){if(Array.isArray(n))return Gd({name:""},i,n,"");{var o;const l=null!==(o=n.name)&&void 0!==o?o:"";return Gd({name:l},n.parent,n.providers,l)}}}(rr=Ks).THROW_IF_NOT_FOUND=wo,rr.NULL=new Ra,rr.\u0275prov=Sr({token:rr,providedIn:"any",factory:()=>at(Js)}),rr.__NG_ELEMENT_ID__=-1,new ot("").__NG_ELEMENT_ID__=e=>{const n=zr();if(null===n)throw new Ot(204,!1);if(2&n.type)return n.value;if(e&Fr.Optional)return null;throw new Ot(204,!1)};function sv(e){return e.ngOriginalError}const c0=!0;let hf=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=av,e.__NG_ENV_ID__=i=>i,n})();class IA extends hf{constructor(n){super(),this._lView=n}onDestroy(n){return Ms(this._lView,n),()=>function Cl(e,n){if(null===e[Pt])return;const i=e[Pt].indexOf(n);-1!==i&&e[Pt].splice(i,1)}(this._lView,n)}}function av(){return new IA(rn())}let ll=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e}),n})();const Li=class AA extends qn.B{constructor(n=!1){var i,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,_n()&&(this.destroyRef=null!==(i=wt(hf,{optional:!0}))&&void 0!==i?i:void 0,this.pendingTasks=null!==(o=wt(ll,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const i=he(null);try{super.next(n)}finally{he(i)}}subscribe(n,i,o){let l=n,d=i||(()=>null),g=o;if(n&&"object"==typeof n){var I,b,$;const ue=n;l=null===(I=ue.next)||void 0===I?void 0:I.bind(ue),d=null===(b=ue.error)||void 0===b?void 0:b.bind(ue),g=null===($=ue.complete)||void 0===$?void 0:$.bind(ue)}this.__isAsync&&(d=this.wrapInTimeout(d),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const q=super.subscribe({next:l,error:d,complete:g});return n instanceof Jn.yU&&n.add(q),q}wrapInTimeout(n){return i=>{var o;const l=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;n(i),void 0!==l&&(null===(d=this.pendingTasks)||void 0===d||d.remove(l))})}}};function Wd(...e){}function Yp(e){let n,i;function o(){e=Wd;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),o()})),()=>o()}function lv(e){return queueMicrotask(()=>e()),()=>{e=Wd}}const ul="isAngularZone",ff=ul+"_ID";let d0=0;class lo{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Li(!1),this.onMicrotaskEmpty=new Li(!1),this.onStable=new Li(!1),this.onError=new Li(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:d=c0}=n;if(typeof Zone>"u")throw new Ot(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=d,function CA(e){const n=()=>{!function f0(e){function n(){Yp(()=>{e.callbackScheduled=!1,uv(e),e.isCheckStableRunning=!0,Zp(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),uv(e))}(e)},i=d0++;e._inner=e._inner.fork({name:"angular",properties:{[ul]:!0,[ff]:i,[ff+i]:!0},onInvokeTask:(o,l,d,g,I,b)=>{if(function p0(e){return dv(e,"__ignore_ng_zone__")}(b))return o.invokeTask(d,g,I,b);try{return Kd(e),o.invokeTask(d,g,I,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),eg(e)}},onInvoke:(o,l,d,g,I,b,$)=>{try{return Kd(e),o.invoke(d,g,I,b,$)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function tg(e){return dv(e,"__scheduler_tick__")}(b)&&n(),eg(e)}},onHasTask:(o,l,d,g)=>{o.hasTask(d,g),l===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,uv(e),Zp(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ul)}static assertInAngularZone(){if(!lo.isInAngularZone())throw new Ot(909,!1)}static assertNotInAngularZone(){if(lo.isInAngularZone())throw new Ot(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,l){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+l,n,h0,Wd,Wd);try{return d.runTask(g,i,o)}finally{d.cancelTask(g)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const h0={};function Zp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function uv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Kd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function eg(e){e._nesting--,Zp(e)}class cv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Li,this.onMicrotaskEmpty=new Li,this.onStable=new Li,this.onError=new Li}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,l){return n.apply(i,o)}}function dv(e,n){var i;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(i=e[0])||void 0===i||null===(i=i.data)||void 0===i?void 0:i[n])}class vu{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&sv(n);for(;i&&sv(i);)i=sv(i);return i||null}}const m0=new ot("",{providedIn:"root",factory:()=>{const e=wt(lo),n=wt(vu);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function bA(){return Hc(zr(),rn())}function Hc(e,n){return new Va(ms(e,n))}let Va=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=bA,n})();function hv(e){return e instanceof Va?e.nativeElement:e}function wA(){return this._results[Symbol.iterator]()}class ng{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Li}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=ng.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=wA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function co(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Do(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=n[o];if(i&&(l=i(l),d=i(d)),d!==l)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function yu(e){return!(128&~e.flags)}const gf=new Map;let _0=0;function ig(e){gf.delete(e[gs])}const sg="__ngContext__";function qs(e,n){po(n)?(e[sg]=n[gs],function DA(e){gf.set(e[gs],e)}(n)):e[sg]=n}function Iv(e){return A0(e[sa])}function mf(e){return A0(e[Hr])}function A0(e){for(;null!==e&&!Eo(e);)e=e[Hr];return e}let Iu;function MA(e){Iu=e}const If=new ot("",{providedIn:"root",factory:()=>Zu}),Zu="ng",Cv=new ot(""),ug=new ot("",{providedIn:"platform",factory:()=>"unknown"}),D0=new ot("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Ua(){if(void 0!==Iu)return Iu;if(typeof document<"u")return document;throw new Ot(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let hg=()=>null;function ih(e,n,i=!1){return hg(e,n,i)}const wf=new ot("",{providedIn:"root",factory:()=>!1});let uh;function yg(e){var n;return(null===(n=function ch(){if(void 0===uh&&(uh=null,Cr.trustedTypes))try{uh=Cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return uh}())||void 0===n?void 0:n.createScriptURL(e))||e}class Ig{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${on})`}}function ql(e){return e instanceof Ig?e.changingThisBreaksApplicationSecurity:e}function Rf(e,n){const i=function jA(e){return e instanceof Ig&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${on})`)}return i===n}const WA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(fh||{});function jv(e){const n=Jc();return n?n.sanitize(fh.URL,e)||"":Rf(e,"URL")?ql(e):function Fv(e){return(e=String(e)).match(WA)?e:"unsafe:"+e}(er(e))}function Pg(e){const n=Jc();if(n)return yg(n.sanitize(fh.RESOURCE_URL,e)||"");if(Rf(e,"ResourceURL"))return yg(ql(e));throw new Ot(904,!1)}function $0(e,n,i){return function zv(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Pg:jv}(n,i)(e)}function Jc(){const e=rn();return e&&e[yo].sanitizer}const Gv=/^>|^->|<!--|-->|--!>|<!-$/g,Wv=/(<|>)/g,ph="\u200b$1\u200b";function $a(e){return e instanceof Function?e():e}var yh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(yh||{});let e_;function Ff(e,n){return e_(e,n)}function tc(e,n,i,o,l){if(null!=o){let d,g=!1;Eo(o)?d=o:po(o)&&(g=!0,o=o[kn]);const I=mi(o);0===e&&null!==i?null==l?Lg(n,i,I):ed(n,i,I,l||null,!0):1===e&&null!==i?ed(n,i,I,l||null,!0):2===e?function nd(e,n,i){e.removeChild(null,n,i)}(n,I,g):3===e&&n.destroyNode(I),null!=d&&function s_(e,n,i,o,l){const d=i[jo];d!==mi(i)&&tc(n,e,o,d,l);for(let I=oo;I<i.length;I++){const b=i[I];Hf(b[wn],b,e,n,o,d)}}(n,e,d,i,l)}}function Ng(e,n){return e.createComment(function bu(e){return e.replace(Gv,n=>n.replace(Wv,ph))}(n))}function Ih(e,n,i){return e.createElement(n,i)}function Og(e,n){var i;null===(i=n[yo].changeDetectionScheduler)||void 0===i||i.notify(9),Hf(e,n,n[Lr],2,null,null)}function tI(e,n){const i=e[bs],o=n[Bi];(po(o)||n[di]!==o[Bi][di])&&(e[Sn]|=Za.HasTransplantedViews),null===i?e[bs]=[n]:i.push(n)}function Lf(e,n){const i=e[bs],o=i.indexOf(n);i.splice(o,1)}function Vf(e,n){if(e.length<=oo)return;const i=oo+n,o=e[i];if(o){const l=o[Il];null!==l&&l!==e&&Lf(l,o),n>0&&(e[i-1][Hr]=o[Hr]);const d=Da(e,oo+n);!function eI(e,n){Og(e,n),n[kn]=null,n[Dn]=null}(o[wn],o);const g=d[zs];null!==g&&g.detachView(d[wn]),o[Bi]=null,o[Hr]=null,o[Sn]&=-129}return o}function Eh(e,n){if(!(256&n[Sn])){const i=n[Lr];i.destroyNode&&Hf(e,n,i,3,null,null),function iC(e){let n=e[sa];if(!n)return Uf(e[wn],e);for(;n;){let i=null;if(po(n))i=n[sa];else{const o=n[oo];o&&(i=o)}if(!i){for(;n&&!n[Hr]&&n!==e;)po(n)&&Uf(n[wn],n),n=n[Bi];null===n&&(n=e),po(n)&&Uf(n[wn],n),i=n&&n[Hr]}n=i}}(n)}}function Uf(e,n){if(256&n[Sn])return;const i=he(null);try{n[Sn]&=-129,n[Sn]|=256,n[Io]&&Ke(n[Io]),function Ah(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const l=n[i[o]];if(!(l instanceof Fc)){const d=i[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const I=l[d[g]],b=d[g+1];Ss(4,I,b);try{b.call(I)}finally{Ss(5,I,b)}}else{Ss(4,l,d);try{d.call(l)}finally{Ss(5,l,d)}}}}}(e,n),function r_(e,n){const i=e.cleanup,o=n[ps];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const g=i[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else i[d].call(o[i[d+1]]);null!==o&&(n[ps]=null);const l=n[Pt];if(null!==l){n[Pt]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(e,n),1===n[wn].type&&n[Lr].destroy();const o=n[Il];if(null!==o&&Eo(n[Bi])){o!==n[Bi]&&Lf(o,n);const l=n[zs];null!==l&&l.detachView(e)}ig(n)}finally{he(i)}}function kg(e,n,i){return function Fg(e,n,i){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return i[kn];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=e.data[o.directiveStart+l];if(d===Oo.None||d===Oo.Emulated)return null}return ms(o,i)}}(e,n.parent,i)}function ed(e,n,i,o,l){e.insertBefore(n,i,o,l)}function Lg(e,n,i){e.appendChild(n,i)}function Xl(e,n,i,o,l){null!==o?ed(e,n,i,o,l):Lg(e,n,i)}function $f(e,n){return e.parentNode(n)}function Vg(e,n,i){return rI(e,n,i)}let Bf,rI=function nI(e,n,i){return 40&e.type?ms(e,i):null};function Ch(e,n,i,o){const l=kg(e,o,n),d=n[Lr],I=Vg(o.parent||n[Dn],o,n);if(null!=l)if(Array.isArray(i))for(let b=0;b<i.length;b++)Xl(d,l,i[b],I,!1);else Xl(d,l,i,I,!1);void 0!==Bf&&Bf(d,o,n,i,l)}function td(e,n){if(null!==n){const i=n.type;if(3&i)return ms(n,e);if(4&i)return i_(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return td(e,o);{const l=e[n.index];return Eo(l)?i_(-1,l):mi(l)}}if(128&i)return td(e,n.next);if(32&i)return Ff(n,e)()||mi(e[n.index]);{const o=Ug(e,n);return null!==o?Array.isArray(o)?o[0]:td(Go(e[di]),o):td(e,n.next)}}return null}function Ug(e,n){return null!==n?e[di][Dn].projection[n.projection]:null}function i_(e,n){const i=oo+e+1;if(i<n.length){const o=n[i],l=o[wn].firstChild;if(null!==l)return td(o,l)}return n[jo]}function jf(e,n,i,o,l,d,g){for(;null!=i;){if(128===i.type){i=i.next;continue}const I=o[i.index],b=i.type;if(g&&0===n&&(I&&qs(mi(I),o),i.flags|=2),32&~i.flags)if(8&b)jf(e,n,i.child,o,l,d,!1),tc(n,e,l,I,d);else if(32&b){const $=Ff(i,o);let q;for(;q=$();)tc(n,e,l,q,d);tc(n,e,l,I,d)}else 16&b?oI(e,n,o,i,l,d):tc(n,e,l,I,d);i=g?i.projectionNext:i.next}}function Hf(e,n,i,o,l,d){jf(i,o,e.firstChild,n,l,d,!1)}function oI(e,n,i,o,l,d){const g=i[di],b=g[Dn].projection[o.projection];if(Array.isArray(b))for(let $=0;$<b.length;$++)tc(n,e,l,b[$],d);else{let $=b;const q=g[Bi];yu(o)&&($.flags|=128),jf(e,n,$,q,l,d,!0)}}function zf(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function $g(e,n,i){const{mergedAttrs:o,classes:l,styles:d}=i;null!==o&&Pa(e,n,o),null!==l&&zf(e,n,l),null!==d&&function a_(e,n,i){e.setAttribute(n,"style",i)}(e,n,d)}const Yr={};function rd(e=1){sI(Jr(),rn(),Wo()+e,!1)}function sI(e,n,i,o){if(!o)if(3&~n[Sn]){const d=e.preOrderHooks;null!==d&&Aa(n,d,0,i)}else{const d=e.preOrderCheckHooks;null!==d&&zu(n,d,i)}xs(i)}function nc(e,n=Fr.Default){const i=rn();return null===i?at(e,n):Vc(zr(),i,ut(e),n)}function l_(){throw new Error("invalid")}function id(e,n,i,o,l,d){const g=he(null);try{let I=null;l&Bo.SignalBased&&(I=n[o][le]),null!==I&&void 0!==I.transformFn&&(d=I.transformFn(d)),l&Bo.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,I,d,i,o):Po(n,I,o,d)}finally{he(g)}}function od(e,n,i,o,l,d,g,I,b,$,q){const ue=n.blueprint.slice();return ue[kn]=l,ue[Sn]=204|o,(null!==$||e&&2048&e[Sn])&&(ue[Sn]|=2048),Ul(ue),ue[Bi]=ue[Fl]=e,ue[pi]=i,ue[yo]=g||e&&e[yo],ue[Lr]=I||e&&e[Lr],ue[io]=b||e&&e[io]||null,ue[Dn]=d,ue[gs]=function y0(){return _0++}(),ue[Wi]=q,ue[va]=$,ue[di]=2==n.type?e[di]:ue,ue}function sd(e,n,i,o,l){let d=e.data[n];if(null===d)d=function u_(e,n,i,o,l){const d=Ld(),g=Vd(),b=e.data[n]=function cI(e,n,i,o,l,d){let g=n?n.injectorIndex:-1,I=0;return tl()&&(I|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,i,n,o,l);return null===e.firstChild&&(e.firstChild=b),null!==d&&(g?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b,b.prev=d)),b}(e,n,i,o,l),function $p(){return Ur.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=o,d.attrs=l;const g=function Pi(){const e=Ur.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Fo(d,!0),d}function Gf(e,n,i,o){if(0===i)return-1;const l=n.length;for(let d=0;d<i;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function lI(e,n,i,o,l){const d=Wo(),g=2&o;try{xs(-1),g&&n.length>hr&&sI(e,n,hr,!1),Ss(g?2:0,l),i(o,l)}finally{xs(d),Ss(g?3:1,l)}}function Wf(e,n,i){if(Ro(n)){const o=he(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const I=e.data[g];I.contentQueries&&I.contentQueries(1,i[g],g)}}finally{he(o)}}}function Kf(e,n,i){Jh()&&(function pC(e,n,i,o){const l=i.directiveStart,d=i.directiveEnd;aa(i)&&function Wg(e,n,i){const o=ms(n,e),l=jg(i);let g=16;i.signals?g=4096:i.onPush&&(g=64);const I=Xi(e,od(e,l,null,g,o,n,null,e[yo].rendererFactory.createRenderer(o,i),null,null,null));e[n.index]=I}(n,i,e.data[l+i.componentOffset]),e.firstCreatePass||Wu(i,n),qs(o,n);const g=i.initialInputs;for(let I=l;I<d;I++){const b=e.data[I],$=wl(n,e,I,i);qs($,n),null!==g&&_I(0,I-l,$,b,0,g),ws(b)&&(To(i.index,n)[pi]=wl(n,e,I,i))}}(e,n,i,ms(i,n)),!(64&~i.flags)&&fI(e,n,i))}function Bg(e,n,i=ms){const o=n.localNames;if(null!==o){let l=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],I=-1===g?i(n,e):e[g];e[l++]=I}}}function jg(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=qf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function qf(e,n,i,o,l,d,g,I,b,$,q){const ue=hr+o,Ue=ue+l,Je=function c_(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:Yr);return i}(ue,Ue),We="function"==typeof $?$():$;return Je[wn]={type:e,blueprint:Je,template:i,queries:null,viewQuery:I,declTNode:n,data:Je.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:We,incompleteFirstPass:!1,ssrId:q}}let h_=()=>null;function ad(e,n,i,o,l){for(let g in n){var d;if(!n.hasOwnProperty(g))continue;const I=n[g];if(void 0===I)continue;null!==(d=o)&&void 0!==d||(o={});let b,$=Bo.None;Array.isArray(I)?(b=I[0],$=I[1]):b=I;let q=g;if(null!==l){if(!l.hasOwnProperty(g))continue;q=l[g]}0===e?zg(o,i,q,b,$):zg(o,i,q,b)}return o}function zg(e,n,i,o,l){let d;e.hasOwnProperty(i)?(d=e[i]).push(n,o):d=e[i]=[n,o],void 0!==l&&d.push(l)}function Ta(e,n,i,o,l,d,g,I){const b=ms(n,i);let q,$=n.inputs;!I&&null!=$&&(q=$[o])?(qg(e,i,q,o,l),aa(n)&&function dI(e,n){const i=To(n,e);16&i[Sn]||(i[Sn]|=64)}(i,n.index)):3&n.type&&(o=function uC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,n.value||"",o):l,d.setProperty(b,o,l))}function p_(e,n,i,o){if(Jh()){const l=null===o?null:{"":-1},d=function pI(e,n){const i=e.directiveRegistry;let o=null,l=null;if(i)for(let g=0;g<i.length;g++){const I=i[g];if(ga(n,I.selectors,!1))if(o||(o=[]),ws(I))if(null!==I.findHostDirectiveDefs){const b=[];l=l||new Map,I.findHostDirectiveDefs(I,b,l),o.unshift(...b,I),Gg(e,n,b.length)}else o.unshift(I),Gg(e,n,0);else{var d;l=l||new Map,null===(d=I.findHostDirectiveDefs)||void 0===d||d.call(I,I,o,l),o.push(I)}}return null===o?null:[o,l]}(e,i);let g,I;null===d?g=I=null:[g,I]=d,null!==g&&hI(e,n,i,g,l,I),l&&function g_(e,n,i){if(n){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const d=i[n[l+1]];if(null==d)throw new Ot(-301,!1);o.push(n[l],d)}}}(i,o,l)}i.mergedAttrs=Ka(i.mergedAttrs,i.attrs)}function hI(e,n,i,o,l,d){for(let ue=0;ue<o.length;ue++)bl(Wu(i,n),e,o[ue].type);!function mI(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,o.length);for(let ue=0;ue<o.length;ue++){const Ue=o[ue];Ue.providersResolver&&Ue.providersResolver(Ue)}let g=!1,I=!1,b=Gf(e,n,o.length,null);for(let ue=0;ue<o.length;ue++){const Ue=o[ue];i.mergedAttrs=Ka(i.mergedAttrs,Ue.hostAttrs),vI(e,i,n,b,Ue),gI(b,Ue,l),null!==Ue.contentQueries&&(i.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(i.flags|=64);const Je=Ue.type.prototype;var $,q;!g&&(Je.ngOnChanges||Je.ngOnInit||Je.ngDoCheck)&&((null!==($=e.preOrderHooks)&&void 0!==$?$:e.preOrderHooks=[]).push(i.index),g=!0),I||!Je.ngOnChanges&&!Je.ngDoCheck||((null!==(q=e.preOrderCheckHooks)&&void 0!==q?q:e.preOrderCheckHooks=[]).push(i.index),I=!0),b++}!function lC(e,n,i){const l=n.directiveEnd,d=e.data,g=n.attrs,I=[];let b=null,$=null;for(let q=n.directiveStart;q<l;q++){const ue=d[q],Ue=i?i.get(ue):null,We=Ue?Ue.outputs:null;b=ad(0,ue.inputs,q,b,Ue?Ue.inputs:null),$=ad(1,ue.outputs,q,$,We);const Xt=null===b||null===g||ds(n)?null:Xf(b,q,g);I.push(Xt)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=8),b.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=b,n.outputs=$}(e,i,d)}function fI(e,n,i){const o=i.directiveStart,l=i.directiveEnd,d=i.index,g=function Ym(){return Ur.lFrame.currentDirectiveIndex}();try{xs(d);for(let I=o;I<l;I++){const b=e.data[I],$=n[I];tf(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&gC(b,$)}}finally{xs(-1),tf(g)}}function gC(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Gg(e,n,i){var o;n.componentOffset=i,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function gI(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;ws(n)&&(i[""]=e)}}function vI(e,n,i,o,l){e.data[o]=l;const d=l.factory||(l.factory=$o(l.type)),g=new Fc(d,ws(l),nc);e.blueprint[o]=g,i[o]=g,function hC(e,n,i,o,l){const d=l.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const I=~n.index;(function fC(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(g)!=I&&g.push(I),g.push(i,o,d)}}(e,n,o,Gf(e,i,l.hostVars,Yr),l)}function Gr(e,n,i,o,l,d){const g=ms(e,n);!function Kg(e,n,i,o,l,d,g){if(null==d)e.removeAttribute(n,l,i);else{const I=null==g?er(d):g(d,o||"",l);e.setAttribute(n,l,I,i)}}(n[Lr],g,d,e.value,i,o,l)}function _I(e,n,i,o,l,d){const g=d[n];if(null!==g)for(let I=0;I<g.length;)id(o,i,g[I++],g[I++],g[I++],g[I++])}function Xf(e,n,i){let o=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let I=0;I<g.length;I+=3)if(g[I]===n){o.push(d,g[I+1],g[I+2],i[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function m_(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function ys(e,n){const i=e.contentQueries;if(null!==i){const o=he(null);try{for(let l=0;l<i.length;l+=2){const g=i[l+1];if(-1!==g){const I=e.data[g];gu(i[l]),I.contentQueries(2,n[g],g)}}}finally{he(o)}}}function Xi(e,n){return e[sa]?e[Hs][Hr]=n:e[sa]=n,e[Hs]=n,n}function cl(e,n,i){gu(0);const o=he(null);try{n(e,i)}finally{he(o)}}function II(e){var n;return null!==(n=e[ps])&&void 0!==n?n:e[ps]=[]}function bh(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function wh(e,n){const i=e[io],o=i?i.get(vu,null):null;o&&o.handleError(n)}function qg(e,n,i,o,l){for(let d=0;d<i.length;){const g=i[d++],I=i[d++],b=i[d++];id(e.data[g],n[g],o,I,b,l)}}function Dl(e,n,i){const o=zo(n,e);!function xg(e,n,i){e.setValue(n,i)}(e[Lr],o,i)}function mC(e,n){const i=To(n,e),o=i[wn];!function vC(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const l=i[kn];null!==l&&null===i[Wi]&&(i[Wi]=ih(l,i[io])),zi(o,i,i[pi])}function zi(e,n,i){rf(n);try{var o;const l=e.viewQuery;null!==l&&cl(1,l,i);const d=e.template;null!==d&&lI(e,n,d,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[zs])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&ys(e,n),e.staticViewQueries&&cl(2,e.viewQuery,i);const g=e.components;null!==g&&function Wb(e,n){for(let i=0;i<n.length;i++)mC(e,n[i])}(n,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{n[Sn]&=-5,ju()}}function Dh(e,n,i,o){const l=he(null);try{var d,g,I;const b=n.tView,ue=od(e,b,i,4096&e[Sn]?4096:16,null,n,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(I=null==o?void 0:o.dehydratedView)&&void 0!==I?I:null);ue[Il]=e[n.index];const Je=e[zs];return null!==Je&&(ue[zs]=Je.createEmbeddedView(b)),zi(b,ue,i),ue}finally{he(l)}}function rc(e,n){return!n||null===n.firstChild||yu(e)}function Sh(e,n,i,o=!0){const l=n[wn];if(function n_(e,n,i,o){const l=oo+o,d=i.length;o>0&&(i[l-1][Hr]=n),o<d-oo?(n[Hr]=i[l],Ts(i,oo+o,n)):(i.push(n),n[Hr]=null),n[Bi]=i;const g=n[Il];null!==g&&i!==g&&tI(g,n);const I=n[zs];null!==I&&I.insertView(e),$u(n),n[Sn]|=128}(l,n,e,i),o){const g=i_(i,e),I=n[Lr],b=$f(I,e[jo]);null!==b&&function rC(e,n,i,o,l,d){o[kn]=l,o[Dn]=n,Hf(e,o,i,1,l,d)}(l,e[Dn],I,n,b,g)}const d=n[Wi];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function ld(e,n,i,o,l=!1){for(;null!==i;){if(128===i.type){i=l?i.projectionNext:i.next;continue}const d=n[i.index];null!==d&&o.push(mi(d)),Eo(d)&&y_(d,o);const g=i.type;if(8&g)ld(e,n,i.child,o);else if(32&g){const I=Ff(i,n);let b;for(;b=I();)o.push(b)}else if(16&g){const I=Ug(n,i);if(Array.isArray(I))o.push(...I);else{const b=Go(n[di]);ld(b[wn],b,I,o,!0)}}i=l?i.projectionNext:i.next}return o}function y_(e,n){for(let i=oo;i<e.length;i++){const o=e[i],l=o[wn].firstChild;null!==l&&ld(o[wn],o,l,n)}e[jo]!==e[kn]&&n.push(e[jo])}let EI=[];const Kb={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{La(e.lView)},consumerOnSignalRead(){this.lView[Io]=this}},AC={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Go(e.lView);for(;n&&!Rh(n[wn]);)n=Go(n);n&&xd(n)},consumerOnSignalRead(){this.lView[Io]=this}};function Rh(e){return 2!==e.type}const CC=100;function ja(e,n=!0,i=0){const o=e[yo],l=o.rendererFactory;var g;null===(g=l.begin)||void 0===g||g.call(l);try{!function wu(e,n){const i=Si();try{pu(!0),Qg(e,n);let o=0;for(;Ps(e);){if(o===CC)throw new Ot(103,!1);o++,Qg(e,1)}}finally{pu(i)}}(e,i)}catch($){throw n&&wh(e,$),$}finally{var I,b;null===(I=l.end)||void 0===I||I.call(l),null===(b=o.inlineEffectRunner)||void 0===b||b.flush()}}function ud(e,n,i,o){var l;const d=n[Sn];if(!(256&~d))return;null===(l=n[yo].inlineEffectRunner)||void 0===l||l.flush(),rf(n);let b=!0,$=null,q=null;Rh(e)?(q=function _C(e){var n;return null!==(n=e[Io])&&void 0!==n?n:function yC(e){var n;const i=null!==(n=EI.pop())&&void 0!==n?n:Object.create(Kb);return i.lView=e,i}(e)}(n),$=lt(q)):null===function ye(){return h}()?(b=!1,q=function EC(e){var n;const i=null!==(n=e[Io])&&void 0!==n?n:Object.create(AC);return i.lView=e,i}(n),$=lt(q)):n[Io]&&(Ke(n[Io]),n[Io]=null);try{Ul(n),function Zh(e){return Ur.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&lI(e,n,i,2,o);const ue=!(3&~d);if(ue){const We=e.preOrderCheckHooks;null!==We&&zu(n,We,null)}else{const We=e.preOrderHooks;null!==We&&Aa(n,We,0,null),zl(n,0)}if(function Xg(e){for(let n=Iv(e);null!==n;n=mf(n)){if(!(n[Sn]&Za.HasTransplantedViews))continue;const i=n[bs];for(let o=0;o<i.length;o++)xd(i[o])}}(n),Qf(n,0),null!==e.contentQueries&&ys(e,n),ue){const We=e.contentCheckHooks;null!==We&&zu(n,We)}else{const We=e.contentHooks;null!==We&&Aa(n,We,1),zl(n,1)}!function aI(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const l=i[o];if(l<0)xs(~l);else{const d=l,g=i[++o],I=i[++o];Qm(g,d),I(2,n[d])}}}finally{xs(-1)}}(e,n);const Ue=e.components;null!==Ue&&I_(n,Ue,0);const Je=e.viewQuery;if(null!==Je&&cl(2,Je,o),ue){const We=e.viewCheckHooks;null!==We&&zu(n,We)}else{const We=e.viewHooks;null!==We&&Aa(n,We,2),zl(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Oi]){for(const We of n[Oi])We();n[Oi]=null}n[Sn]&=-73}catch(ue){throw La(n),ue}finally{null!==q&&(et(q,$),b&&function IC(e){e.lView[Io]!==e&&(e.lView=null,EI.push(e))}(q)),ju()}}function Qf(e,n){for(let i=Iv(e);null!==i;i=mf(i))for(let o=oo;o<i.length;o++)AI(i[o],n)}function bC(e,n,i){AI(To(n,e),i)}function AI(e,n){Fa(e)&&Qg(e,n)}function Qg(e,n){const o=e[wn],l=e[Sn],d=e[Io];let g=!!(0===n&&16&l);if(g||(g=!!(64&l&&0===n)),g||(g=!!(1024&l)),g||(g=!(null==d||!d.dirty||!ft(d))),g||(g=!1),d&&(d.dirty=!1),e[Sn]&=-9217,g)ud(o,e,o.template,e[pi]);else if(8192&l){Qf(e,1);const I=o.components;null!==I&&I_(e,I,1)}}function I_(e,n,i){for(let o=0;o<n.length;o++)bC(e,n[o],i)}function ic(e,n){var i;const o=Si()?64:1088;for(null===(i=e[yo].changeDetectionScheduler)||void 0===i||i.notify(n);e;){e[Sn]|=o;const l=Go(e);if(so(e)&&!l)return e;e=l}return null}class Yf{get rootNodes(){const n=this._lView,i=n[wn];return ld(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pi]}set context(n){this._lView[pi]=n}get destroyed(){return!(256&~this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Bi];if(Eo(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Vf(n,o),Da(i,o))}this._attachedToViewContainer=!1}Eh(this._lView[wn],this._lView)}onDestroy(n){Ms(this._lView,n)}markForCheck(){ic(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Sn]&=-129}reattach(){$u(this._lView),this._lView[Sn]|=128}detectChanges(){this._lView[Sn]|=1024,ja(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=so(this._lView),i=this._lView[Il];null!==i&&!n&&Lf(i,this._lView),Og(this._lView[wn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ot(902,!1);this._appRef=n;const i=so(this._lView),o=this._lView[Il];null!==o&&!i&&tI(o,this._lView),$u(this._lView)}}let Sl=(()=>{class n{}return n.__NG_ELEMENT_ID__=CI,n})();const Yg=Sl,Jf=class extends Yg{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const l=Dh(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new Yf(l)}};function CI(){return Ph(zr(),rn())}function Ph(e,n){return 4&e.type?new Jf(n,e,Hc(e,n)):null}let KI=()=>null;function fd(e,n){return KI(e,n)}class sp{}const sm=new ot("",{providedIn:"root",factory:()=>!1}),k_=new ot(""),F_=new ot("");class tw{}class zC{}class qI{resolveComponentFactory(n){throw function nw(e){const n=Error(`No component factory found for ${vr(e)}.`);return n.ngComponent=e,n}(n)}}class am{}am.NULL=new qI;class XI{}let rw=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function L_(){const e=rn(),i=To(zr().index,e);return(po(i)?i:e)[Lr]}(),n})(),lm=(()=>{var e;class n{}return(e=n).\u0275prov=Sr({token:e,providedIn:"root",factory:()=>null}),n})();function cc(e){return!!_o(e)}function lp(e,n,i){let o=i?e.styles:null,l=i?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const I=n[g];"number"==typeof I?d=I:1==d?l=Tt(l,I):2==d&&(o=Tt(o,I+": "+n[++g]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=l:e.classesWithoutHost=l}class j_ extends am{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Kr(n);return new os(i,this.ngModule)}}function hc(e,n){const i=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const d=Array.isArray(l),g=d?l[0]:l;i.push(n?{propName:g,templateName:o,isSignal:!!((d?l[1]:Bo.None)&Bo.SignalBased)}:{propName:g,templateName:o})}return i}class os extends zC{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=hc(n.inputs,!0);if(null!==i)for(const l of o)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return o}get outputs(){return hc(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ar(e){return e.map(pn).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,l){const d=he(null);try{var I;let b=(l=l||this.ngModule)instanceof ro?l:null===(I=l)||void 0===I?void 0:I.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const $=b?new W(n,b):n,q=$.get(XI,null);if(null===q)throw new Ot(407,!1);const Je={rendererFactory:q,sanitizer:$.get(lm,null),inlineEffectRunner:null,changeDetectionScheduler:$.get(sp,null)},We=q.createRenderer(null,this.componentDef),Xt=this.componentDef.selectors[0][0]||"div",gn=o?function Hg(e,n,i,o){const d=o.get(wf,!1)||i===Oo.ShadowDom,g=e.selectRootElement(n,d);return function d_(e){h_(e)}(g),g}(We,o,this.componentDef.encapsulation,$):Ih(We,Xt,function hl(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Xt));let xn=512;this.componentDef.signals?xn|=4096:this.componentDef.onPush||(xn|=16);let nn=null;null!==gn&&(nn=ih(gn,$,!0));const Mr=qf(0,null,null,1,0,null,null,null,null,null,null),Br=od(null,Mr,null,xn,null,null,Je,We,$,null,nn);rf(Br);let uo,Vs,wa=null;try{const Nl=this.componentDef;let Lp,xb=null;Nl.findHostDirectiveDefs?(Lp=[],xb=new Map,Nl.findHostDirectiveDefs(Nl,Lp,xb),Lp.push(Nl)):Lp=[Nl];const bN=function JI(e,n){const i=e[wn],o=hr;return e[o]=n,sd(i,o,2,"#host",null)}(Br,gn);wa=function up(e,n,i,o,l,d,g){const I=l[wn];!function cp(e,n,i,o){for(const l of e)n.mergedAttrs=Ka(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(lp(n,n.mergedAttrs,!0),null!==i&&$g(o,i,n))}(o,e,n,g);let b=null;null!==n&&(b=ih(n,l[io]));const $=d.rendererFactory.createRenderer(n,i);let q=16;i.signals?q=4096:i.onPush&&(q=64);const ue=od(l,jg(i),null,q,l[e.index],e,d,$,null,null,b);return I.firstCreatePass&&Gg(I,e,o.length-1),Xi(l,ue),l[e.index]=ue}(bN,gn,Nl,Lp,Br,Je,We),Vs=ji(Mr,hr),gn&&function KC(e,n,i,o){if(o)Pa(e,i,["ng-version","18.2.8"]);else{const{attrs:l,classes:d}=function Di(e){const n=[],i=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&n.push(d,e[++o]):8===l&&i.push(d);else{if(!ts(l))break;l=d}o++}return{attrs:n,classes:i}}(n.selectors[0]);l&&Pa(e,i,l),d&&d.length>0&&zf(e,i,d.join(" "))}}(We,Nl,gn,o),void 0!==i&&function H_(e,n,i){const o=e.projection=[];for(let l=0;l<n.length;l++){const d=i[l];o.push(null!=d?Array.from(d):null)}}(Vs,this.ngContentSelectors,i),uo=function ha(e,n,i,o,l,d){const g=zr(),I=l[wn],b=ms(g,l);hI(I,l,g,i,null,o);for(let q=0;q<i.length;q++)qs(wl(l,I,g.directiveStart+q,g),l);fI(I,l,g),b&&qs(b,l);const $=wl(l,I,g.directiveStart+g.componentOffset,g);if(e[pi]=l[pi]=$,null!==d)for(const q of d)q($,n);return Wf(I,g,l),$}(wa,Nl,Lp,xb,Br,[Fh]),zi(Mr,Br,null)}catch(Nl){throw null!==wa&&ig(wa),ig(Br),Nl}finally{ju()}return new YI(this.componentType,uo,Hc(Vs,Br),Br,Vs)}finally{he(d)}}}class YI extends tw{constructor(n,i,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Yf(l,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;qg(g[wn],g,l,n,i),this.previousInputValues.set(n,i),ic(To(this._tNode.index,g),1)}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Fh(){const e=zr();rl(rn()[wn],e)}let Yl=(()=>{class n{}return n.__NG_ELEMENT_ID__=z_,n})();function z_(){return tE(zr(),rn())}const pd=Yl,ZI=class extends pd{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ku(this._hostTNode,this._hostLView);if(Ie(n)){const i=yn(n,this._hostLView),o=gt(n);return new qo(i[wn].data[o+8],i)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=eE(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-oo}createEmbeddedView(n,i,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const g=fd(this._lContainer,n.ssrId),I=n.createEmbeddedViewImpl(i||{},d,g);return this.insertImpl(I,l,rc(this._hostTNode,g)),I}createComponent(n,i,o,l,d){var g,I,b;const $=n&&!function Tn(e){return"function"==typeof e}(n);let q;if($)q=i;else{const xn=i||{};q=xn.index,o=xn.injector,l=xn.projectableNodes,d=xn.environmentInjector||xn.ngModuleRef}const ue=$?n:new os(Kr(n)),Ue=o||this.parentInjector;if(!d&&null==ue.ngModule){const nn=($?Ue:this.parentInjector).get(ro,null);nn&&(d=nn)}const Je=Kr(null!==(g=ue.componentType)&&void 0!==g?g:{}),We=fd(this._lContainer,null!==(I=null==Je?void 0:Je.id)&&void 0!==I?I:null),Xt=null!==(b=null==We?void 0:We.firstChild)&&void 0!==b?b:null,gn=ue.create(Ue,l,Xt,d);return this.insertImpl(gn.hostView,q,rc(this._hostTNode,We)),gn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const l=n._lView;if(function Uu(e){return Eo(e[Bi])}(l)){const I=this.indexOf(n);if(-1!==I)this.detach(I);else{const b=l[Bi],$=new ZI(b,b[Dn],b[Bi]);$.detach($.indexOf(n))}}const d=this._adjustIndex(i),g=this._lContainer;return Sh(g,l,d,o),n.attachToViewContainerRef(),Ts(G_(g),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=eE(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Vf(this._lContainer,i);o&&(Da(G_(this._lContainer),i),Eh(o[wn],o))}detach(n){const i=this._adjustIndex(n,-1),o=Vf(this._lContainer,i);return o&&null!=Da(G_(this._lContainer),i)?new Yf(o):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function eE(e){return e[8]}function G_(e){return e[8]||(e[8]=[])}function tE(e,n){let i;const o=n[e.index];return Eo(o)?i=o:(i=m_(o,n,null,e),n[e.index]=i,Xi(n,i)),rE(i,n,e,o),new ZI(i,e,n)}let rE=function hp(e,n,i,o){if(e[jo])return;let l;l=8&i.type?mi(o):function nE(e,n){const i=e[Lr],o=i.createComment(""),l=ms(n,e);return ed(i,$f(i,l),o,function oC(e,n){return e.nextSibling(n)}(i,l),!1),o}(n,i),e[jo]=l},dp=()=>!1;class q_{constructor(n){this.queryList=n,this.matches=null}clone(){return new q_(this.queryList)}setDirty(){this.queryList.setDirty()}}class um{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let d=0;d<o;d++){const g=i.getByIndex(d);l.push(this.queries[g.indexInDeclarationView].clone())}return new um(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==J_(n,i).matches&&this.queries[i].setDirty()}}class X_{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function ZC(e){return e.split(",").map(n=>n.trim())}(n):n}}class Q_{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const l=null!==i?i.length:0,d=this.getByIndex(o).embeddedTView(n,l);d&&(d.indexInDeclarationView=o,null!==i?i.push(d):i=[d])}return null!==i?new Q_(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Y_{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Y_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(n,i,XC(i,d)),this.matchTNodeWithReadOption(n,i,Kp(i,n,d,!1,!1))}else o===Sl?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Kp(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Va||l===Yl||l===Sl&&4&i.type)this.addMatch(i.index,-2);else{const d=Kp(i,n,l,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function XC(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function YC(e,n,i,o){return-1===i?function QC(e,n){return 11&e.type?Hc(e,n):4&e.type?Ph(e,n):null}(n,e):-2===i?function oE(e,n,i){return i===Va?Hc(n,e):i===Sl?Ph(n,e):i===Yl?tE(n,e):void 0}(e,n,o):wl(e,e[wn],i,n)}function sE(e,n,i,o){const l=n[zs].queries[o];if(null===l.matches){const d=e.data,g=i.matches,I=[];for(let b=0;null!==g&&b<g.length;b+=2){const $=g[b];I.push($<0?null:YC(n,d[$],g[b+1],i.metadata.read))}l.matches=I}return l.matches}function aE(e,n,i,o){const l=e.queries.getByIndex(i),d=l.matches;if(null!==d){const g=sE(e,n,l,i);for(let I=0;I<d.length;I+=2){const b=d[I];if(b>0)o.push(g[I/2]);else{const $=d[I+1],q=n[-b];for(let ue=oo;ue<q.length;ue++){const Ue=q[ue];Ue[Il]===Ue[Bi]&&aE(Ue[wn],Ue,$,o)}if(null!==q[bs]){const ue=q[bs];for(let Ue=0;Ue<ue.length;Ue++){const Je=ue[Ue];aE(Je[wn],Je,$,o)}}}}}return o}function fp(e,n,i){var o;const l=new ng(!(4&~i));return function f_(e,n,i,o){const l=II(n);l.push(i),e.firstCreatePass&&bh(e).push(o,l.length-1)}(e,n,l,l.destroy),(null!==(o=n[zs])&&void 0!==o?o:n[zs]=new um).queries.push(new q_(l))-1}function dm(e,n,i){null===e.queries&&(e.queries=new Q_),e.queries.track(new Y_(n,i))}function J_(e,n){return e.queries.getByIndex(n)}function uE(e,n){const i=e[wn],o=J_(i,n);return o.crossesNgTemplate?aE(i,e,n,[]):sE(i,e,o,n)}const tT=new Set;function ba(e){var n,i;tT.has(e)||(tT.add(e),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:e}}))}function rT(e,n){ba("NgSignals");const i=function ne(e){const n=Object.create(Xe);n.value=e;const i=()=>(fe(n),n.value);return i[le]=n,i}(e),o=i[le];return null!=n&&n.equal&&(o.equal=n.equal),i.set=l=>ve(o,l),i.update=l=>function Me(e,n){st()||_t(),ve(e,n(e.value))}(o,l),i.asReadonly=iT.bind(i),i}function iT(){const e=this[le];if(void 0===e.readonlyFn){const n=()=>this();n[le]=e,e.readonlyFn=n}return e.readonlyFn}function oT(e){return function nT(e){return"function"==typeof e&&void 0!==e[le]}(e)&&"function"==typeof e.set}function vE(e){let n=function fT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let l;if(ws(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ot(903,!1);l=n.\u0275dir}if(l){if(i){o.push(l);const g=e;g.inputs=ry(e.inputs),g.inputTransforms=ry(e.inputTransforms),g.declaredInputs=ry(e.declaredInputs),g.outputs=ry(e.outputs);const I=l.hostBindings;I&&Cw(e,I);const b=l.viewQuery,$=l.contentQueries;if(b&&Ew(e,b),$&&Aw(e,$),pT(e,l),Or(e.outputs,l.outputs),ws(l)&&l.data.animation){const q=e.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let g=0;g<d.length;g++){const I=d[g];I&&I.ngInherit&&I(e),I===vE&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Iw(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=Ka(l.hostAttrs,i=Ka(i,l.hostAttrs))}}(o)}function pT(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const l=n.inputs[o];if(void 0!==l&&(e.inputs[o]=l,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var i;const d=Array.isArray(l)?l[0]:l;if(!n.inputTransforms.hasOwnProperty(d))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[d]=n.inputTransforms[d]}}}function ry(e){return e===Ui?{}:e===ei?[]:e}function Ew(e,n){const i=e.viewQuery;e.viewQuery=i?(o,l)=>{n(o,l),i(o,l)}:n}function Aw(e,n){const i=e.contentQueries;e.contentQueries=i?(o,l,d)=>{n(o,l,d),i(o,l,d)}:n}function Cw(e,n){const i=e.hostBindings;e.hostBindings=i?(o,l)=>{n(o,l),i(o,l)}:n}function _T(e){const n=e.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(i[o]=l[3])}e.inputTransforms=i}class Vh{}class gp{}function Rw(e,n){return new yE(e,null!=n?n:null,[])}class yE extends Vh{constructor(n,i,o,l=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new j_(this);const d=_o(n);this._bootstrapComponents=$a(d.bootstrap),this._r3Injector=df(n,i,[{provide:Vh,useValue:this},{provide:am,useValue:this.componentFactoryResolver},...o],vr(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class IE extends gp{constructor(n){super(),this.moduleType=n}create(n){return new yE(this.moduleType,n,[])}}class yT extends Vh{constructor(n){super(),this.componentFactoryResolver=new j_(this),this.instance=null;const i=new ko([...n.providers,{provide:Vh,useValue:this},{provide:am,useValue:this.componentFactoryResolver}],n.parent||ia(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function EE(e,n,i=null){return new yT({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function gm(e){return!!AE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function AE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xo(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function mm(e,n,i,o,l,d,g,I,b,$){const q=i+hr,ue=n.firstCreatePass?function kw(e,n,i,o,l,d,g,I,b){const $=n.consts,q=sd(n,e,4,g||null,I||null);p_(n,i,q,Rs($,b)),rl(n,q);const ue=q.tView=qf(2,q,o,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,q),ue.queries=n.queries.embeddedTView(q)),q}(q,n,e,o,l,d,g,I,b):n.data[q];Fo(ue,!1);const Ue=IT(n,e,ue,i);Hl()&&Ch(n,e,Ue,ue),qs(Ue,e);const Je=m_(Ue,e,Ue,ue);return e[q]=Je,Xi(e,Je),function W_(e,n,i){return dp(e,n,i)}(Je,ue,e),ya(ue)&&Kf(n,e,ue),null!=b&&Bg(e,ue,$),ue}function CE(e,n,i,o,l,d,g,I){const b=rn(),$=Jr();return mm(b,$,e,n,i,o,l,Rs($.consts,d),g,I),CE}let IT=function ET(e,n,i,o){return Ea(!0),n[Lr].createComment("")};var vp=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(vp||{});let wT=(()=>{var e;class n{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=n).\u0275prov=Sr({token:e,providedIn:"root",factory:()=>new e}),n})();class ym{constructor(){this.ngZone=wt(lo),this.scheduler=wt(sp),this.errorHandler=wt(vu,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const i of ym.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[i])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[i](o.pipelinedValue))}catch(l){var n;o.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(l)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(Lt=ym).PHASES=[vp.EarlyRead,vp.Write,vp.MixedReadWrite,vp.Read],Lt.\u0275prov=Sr({token:Lt,providedIn:"root",factory:()=>new Lt});class Uw{constructor(n,i,o,l){this.impl=n,this.hooks=i,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function ly(e,n){var i;(null==n||!n.injector)&&function T(e){if(!_n())throw new Ot(-203,!1)}();const o=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:wt(Ks);return function Ba(e){return"browser"===(null!=e?e:wt(Ks)).get(ug)}(o)?(ba("NgAfterNextRender"),function wE(e,n,i,o){var l,d;const g=n.get(wT);null!==(l=g.impl)&&void 0!==l||(g.impl=n.get(ym));const I=null!==(d=null==i?void 0:i.phase)&&void 0!==d?d:vp.MixedReadWrite,b=!0!==(null==i?void 0:i.manualCleanup)?n.get(hf):null,$=new Uw(g.impl,function DT(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),o,b);return g.impl.register($),$}(e,o,n,!0)):a}const a={destroy(){}};function md(e,n,i,o){const l=rn();return Xo(l,vs(),n)&&(Jr(),Gr(ki(),l,e,n,i,o)),md}function _d(e,n,i,o){return Xo(e,vs(),i)?n+er(i)+o:Yr}function fc(e,n,i,o,l,d){const I=function Uh(e,n,i,o){const l=Xo(e,n,i);return Xo(e,n+1,o)||l}(e,function Ia(){return Ur.lFrame.bindingIndex}(),i,l);return nl(2),I?n+er(i)+o+er(l)+d:Yr}function Cp(e,n){return e<<17|n<<2}function fl(e){return e>>17&32767}function Ey(e){return 2|e}function pl(e){return(131068&e)>>2}function Ay(e,n){return-131069&e|n<<2}function Kh(e){return 1|e}function Cy(e,n,i,o){const l=e[i+1],d=null===n;let g=o?fl(l):pl(l),I=!1;for(;0!==g&&(!1===I||d);){const $=e[g+1];NE(e[g],n)&&(I=!0,e[g+1]=o?Kh($):Ey($)),g=o?fl($):pl($)}I&&(e[i+1]=o?Ey(l):Kh(l))}function NE(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&pa(e,n)>=0}function bp(e,n,i){const o=rn();return Xo(o,vs(),n)&&Ta(Jr(),ki(),o,e,n,o[Lr],i,!1),bp}function wp(e,n,i,o,l){const g=l?"class":"style";qg(e,i,n.inputs[g],g,o)}function Mm(e,n){return function xl(e,n,i,o){const l=rn(),d=Jr(),g=nl(2);d.firstUpdatePass&&function Dp(e,n,i,o){const l=e.data;if(null===l[i+1]){const d=l[Wo()],g=function iu(e,n){return n>=e.expandoStartIndex}(e,i);(function Ry(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!g&&(n=!1),n=function xm(e,n,i,o){const l=function Ud(e){const n=Ur.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(i=Nu(i=Ad(null,e,n,i,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==l)if(i=Ad(l,e,n,i,o),null===d){let b=function $E(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==pl(o))return e[fl(o)]}(e,n,o);void 0!==b&&Array.isArray(b)&&(b=Ad(null,e,n,b[1],o),b=Nu(b,n.attrs,o),function mo(e,n,i,o){e[fl(i?n.classBindings:n.styleBindings)]=o}(e,n,o,b))}else d=function Nm(e,n,i){let o;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)o=Nu(o,e[d].hostAttrs,i);return Nu(o,n.attrs,i)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),i}(l,d,n,o),function Dm(e,n,i,o,l,d){let g=d?n.classBindings:n.styleBindings,I=fl(g),b=pl(g);e[o]=i;let q,$=!1;if(Array.isArray(i)?(q=i[1],(null===q||pa(i,q)>0)&&($=!0)):q=i,l)if(0!==b){const Ue=fl(e[I+1]);e[o+1]=Cp(Ue,I),0!==Ue&&(e[Ue+1]=Ay(e[Ue+1],o)),e[I+1]=function OT(e,n){return 131071&e|n<<17}(e[I+1],o)}else e[o+1]=Cp(I,0),0!==I&&(e[I+1]=Ay(e[I+1],o)),I=o;else e[o+1]=Cp(b,0),0===I?I=o:e[b+1]=Ay(e[b+1],o),b=o;$&&(e[o+1]=Ey(e[o+1])),Cy(e,q,o,!0),Cy(e,q,o,!1),function mc(e,n,i,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&pa(d,n)>=0&&(i[o+1]=Kh(i[o+1]))}(n,q,e,o,d),g=Cp(I,b),d?n.classBindings=g:n.styleBindings=g}(l,d,n,i,g,o)}}(d,e,g,o),n!==Yr&&Xo(l,g,n)&&function BE(e,n,i,o,l,d,g,I){if(!(3&n.type))return;const b=e.data,$=b[I+1],q=function kT(e){return!(1&~e)}($)?jE(b,n,i,l,pl($),g):void 0;vc(q)||(vc(d)||function Tp(e){return!(2&~e)}($)&&(d=jE(b,null,i,l,I,g)),function aC(e,n,i,o,l){if(n)l?e.addClass(i,o):e.removeClass(i,o);else{let d=-1===o.indexOf("-")?void 0:yh.DashCase;null==l?e.removeStyle(i,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=yh.Important),e.setStyle(i,o,l,d))}}(o,g,zo(Wo(),i),l,d))}(d,d.data[Wo()],l,l[Lr],e,l[g+1]=function _c(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=vr(ql(e)))),e}(n,i),o,g)}(e,n,null,!0),Mm}function Ad(e,n,i,o,l){let d=null;const g=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<g&&(d=n[I],o=Nu(o,d.hostAttrs,l),d!==e);)I++;return null!==e&&(i.directiveStylingLast=I),o}function Nu(e,n,i){const o=i?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),eo(e,g,!!i||n[++d]))}return void 0===e?null:e}function jE(e,n,i,o,l,d){const g=null===n;let I;for(;l>0;){const b=e[l],$=Array.isArray(b),q=$?b[1]:b,ue=null===q;let Ue=i[l+1];Ue===Yr&&(Ue=ue?ei:void 0);let Je=ue?Sa(Ue,o):q===o?Ue:void 0;if($&&!vc(Je)&&(Je=Sa(b,o)),vc(Je)&&(I=Je,g))return I;const We=e[l+1];l=g?fl(We):pl(We)}if(null!==n){let b=d?n.residualClasses:n.residualStyles;null!=b&&(I=Sa(b,o))}return I}function vc(e){return void 0!==e}function Hm(e,n,i,o){const l=rn(),d=Jr(),g=hr+e,I=l[Lr],b=d.firstCreatePass?function jm(e,n,i,o,l,d){const g=n.consts,b=sd(n,e,2,o,Rs(g,l));return p_(n,i,b,Rs(g,d)),null!==b.attrs&&lp(b,b.attrs,!1),null!==b.mergedAttrs&&lp(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(g,d,l,n,i,o):d.data[g],$=My(d,l,b,I,n,e);l[g]=$;const q=ya(b);return Fo(b,!0),$g(I,$,b),!function mp(e){return!(32&~e.flags)}(b)&&Hl()&&Ch(d,l,$,b),0===function hu(){return Ur.lFrame.elementDepthCount}()&&qs($,l),function Pc(){Ur.lFrame.elementDepthCount++}(),q&&(Kf(d,l,b),Wf(d,b,l)),null!==o&&Bg(l,b),Hm}function xp(){let e=zr();Vd()?Nc():(e=e.parent,Fo(e,!1));const n=e;(function Nd(e){return Ur.skipHydrationRootTNode===e})(n)&&function kd(){Ur.skipHydrationRootTNode=null}(),function Mc(){Ur.lFrame.elementDepthCount--}();const i=Jr();return i.firstCreatePass&&(rl(i,e),Ro(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function il(e){return!!(8&e.flags)}(n)&&wp(i,n,rn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function C(e){return!!(16&e.flags)}(n)&&wp(i,n,rn(),n.stylesWithoutHost,!1),xp}function Cd(e,n,i,o){return Hm(e,n,i,o),xp(),Cd}let My=(e,n,i,o,l,d)=>(Ea(!0),Ih(o,l,function Ko(){return Ur.lFrame.currentNamespace}()));function Np(e,n,i){const o=rn(),l=Jr(),d=e+hr,g=l.firstCreatePass?function Ny(e,n,i,o,l){const d=n.consts,g=Rs(d,o),I=sd(n,e,8,"ng-container",g);return null!==g&&lp(I,g,!0),p_(n,i,I,Rs(d,l)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,l,o,n,i):l.data[d];Fo(g,!0);const I=Oy(l,o,g,e);return o[d]=I,Hl()&&Ch(l,o,I,g),qs(I,o),ya(g)&&(Kf(l,o,g),Wf(l,g,o)),null!=i&&Bg(o,g),Np}function Td(){let e=zr();const n=Jr();return Vd()?Nc():(e=e.parent,Fo(e,!1)),n.firstCreatePass&&(rl(n,e),Ro(e)&&n.queries.elementEnd(e)),Td}function zm(e,n,i){return Np(e,n,i),Td(),zm}let Oy=(e,n,i,o)=>(Ea(!0),Ng(n[Lr],""));function ky(){return rn()}const ou=void 0;var JE=["en",[["a","p"],["AM","PM"],ou],[["AM","PM"],ou,ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ou,"{1} 'at' {0}",ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ha(e){const i=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let wd={};function _(e){const n=function Xn(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Re(n);if(i)return i;const o=n.split("-")[0];if(i=Re(o),i)return i;if("en"===o)return JE;throw new Ot(701,!1)}function Y(e){return _(e)[Yt.PluralCase]}function Re(e){return e in wd||(wd[e]=Cr.ng&&Cr.ng.common&&Cr.ng.common.locales&&Cr.ng.common.locales[e]),wd[e]}var Yt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Yt||{});const Ti="en-US";let kp=Ti,iD=(e,n,i)=>{};function JT(e,n,i,o){const l=rn(),d=Jr(),g=zr();return ZT(d,l,l[Lr],g,e,n,o),JT}function ZT(e,n,i,o,l,d,g){const I=ya(o),$=e.firstCreatePass&&bh(e),q=n[pi],ue=II(n);let Ue=!0;if(3&o.type||g){const Xt=ms(o,n),gn=g?g(Xt):Xt,xn=ue.length,nn=g?Br=>g(mi(Br[o.index])):o.index;let Mr=null;if(!g&&I&&(Mr=function gP(e,n,i,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const g=l[d];if(g===i&&l[d+1]===o){const I=n[ps],b=l[d+2];return I.length>b?I[b]:null}"string"==typeof g&&(d+=2)}return null}(e,n,l,o.index)),null!==Mr)(Mr.__ngLastListenerFn__||Mr).__ngNextListenerFn__=d,Mr.__ngLastListenerFn__=d,Ue=!1;else{d=lD(o,n,q,d),iD(Xt,l,d);const Br=i.listen(gn,l,d);ue.push(d,Br),$&&$.push(l,nn,xn,xn+1)}}else d=lD(o,n,q,d);const Je=o.outputs;let We;if(Ue&&null!==Je&&(We=Je[l])){const Xt=We.length;if(Xt)for(let gn=0;gn<Xt;gn+=2){const uo=n[We[gn]][We[gn+1]].subscribe(d),Vs=ue.length;ue.push(d,uo),$&&$.push(l,o.index,Vs,-(Vs+1))}}}function aD(e,n,i,o){const l=he(null);try{return Ss(6,n,i),!1!==i(o)}catch(d){return wh(e,d),!1}finally{Ss(7,n,i),he(l)}}function lD(e,n,i,o){return function l(d){if(d===Function)return o;ic(e.componentOffset>-1?To(e.index,n):n,5);let I=aD(n,i,o,d),b=l.__ngNextListenerFn__;for(;b;)I=aD(n,i,b,d)&&I,b=b.__ngNextListenerFn__;return I}}function uD(e=1){return function jp(e){return(Ur.lFrame.contextLView=function Al(e,n){for(;e>0;)n=n[Fl],e--;return n}(e,Ur.lFrame.contextLView))[pi]}(e)}function mP(e,n){let i=null;const o=function G(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===o?ga(e,d,!0):j(o,d))return l}else i=l}return i}function cD(e){const n=rn()[di][Dn];if(!n.projection){const o=n.projection=function cs(e,n){const i=[];for(let o=0;o<e;o++)i.push(n);return i}(e?e.length:1,null),l=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?mP(d,e):0;null!==g&&(l[g]?l[g].projectionNext=d:o[g]=d,l[g]=d)}d=d.next}}}function dD(e,n=0,i,o,l,d){const g=rn(),I=Jr(),b=o?e+1:null;null!==b&&mm(g,I,b,o,l,d,null,i);const $=sd(I,hr+e,16,null,i||null);null===$.projection&&($.projection=n),Nc();const ue=!g[Wi]||tl();null===g[di][Dn].projection[$.projection]&&null!==b?function vP(e,n,i){const o=hr+i,l=n.data[o],d=e[o],g=fd(d,l.tView.ssrId);Sh(d,Dh(e,l,void 0,{dehydratedView:g}),0,rc(l,g))}(g,I,b):ue&&32&~$.flags&&function sC(e,n,i){oI(n[Lr],0,n,i,kg(e,i,n),Vg(i.parent||n[Dn],i,n))}(I,g,$)}function eb(e,n,i){return tb(e,"",n,"",i),eb}function tb(e,n,i,o,l){const d=rn(),g=_d(d,n,i,o);return g!==Yr&&Ta(Jr(),ki(),d,e,g,d[Lr],l,!1),tb}function ID(e,n,i,o){!function JC(e,n,i,o){const l=Jr();if(l.firstCreatePass){const d=zr();dm(l,new X_(n,i,o),d.index),function eT(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(l,e),!(2&~i)&&(l.staticContentQueries=!0)}return fp(l,rn(),i)}(e,n,i,o)}function ED(e,n,i){!function lE(e,n,i){const o=Jr();return o.firstCreatePass&&(dm(o,new X_(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),fp(o,rn(),n)}(e,n,i)}function AD(e){const n=rn(),i=Jr(),o=nf();gu(o+1);const l=J_(i,o);if(e.dirty&&function qi(e){return!(4&~e[Sn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const d=uE(n,o);e.reset(d,hv),e.notifyOnChanges()}return!0}return!1}function CD(){return function cm(e,n){return e[zs].queries[n].queryList}(rn(),nf())}function ND(e,n=""){const i=rn(),o=Jr(),l=e+hr,d=o.firstCreatePass?sd(o,l,1,n,null):o.data[l],g=OD(o,i,d,n,e);i[l]=g,Hl()&&Ch(o,i,g,d),Fo(d,!1)}let OD=(e,n,i,o,l)=>(Ea(!0),function t_(e,n){return e.createText(n)}(n[Lr],o));function rb(e){return eA("",e,""),rb}function eA(e,n,i){const o=rn(),l=_d(o,e,n,i);return l!==Yr&&Dl(o,Wo(),l),eA}function ib(e,n,i,o,l){const d=rn(),g=fc(d,e,n,i,o,l);return g!==Yr&&Dl(d,Wo(),g),ib}function ob(e,n,i){oT(n)&&(n=n());const o=rn();return Xo(o,vs(),n)&&Ta(Jr(),ki(),o,e,n,o[Lr],i,!1),ob}function jD(e,n){const i=oT(e);return i&&e.set(n),i}function sb(e,n){const i=rn(),o=Jr(),l=zr();return ZT(o,i,i[Lr],l,e,n),sb}function ab(e,n,i,o,l){if(e=ut(e),Array.isArray(e))for(let d=0;d<e.length;d++)ab(e[d],n,i,o,l);else{const d=Jr(),g=rn(),I=zr();let b=ma(e)?e:ut(e.provide);const $=So(e),q=1048575&I.providerIndexes,ue=I.directiveStart,Ue=I.providerIndexes>>20;if(ma(e)||!e.multi){const Je=new Fc($,l,nc),We=ub(b,n,l?q:q+Ue,ue);-1===We?(bl(Wu(I,g),d,b),lb(d,e,n.length),n.push(b),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),i.push(Je),g.push(Je)):(i[We]=Je,g[We]=Je)}else{const Je=ub(b,n,q+Ue,ue),We=ub(b,n,q,q+Ue),gn=We>=0&&i[We];if(l&&!gn||!l&&!(Je>=0&&i[Je])){bl(Wu(I,g),d,b);const xn=function VP(e,n,i,o,l){const d=new Fc(e,i,nc);return d.multi=[],d.index=n,d.componentProviders=0,GD(d,l,o&&!i),d}(l?LP:FP,i.length,l,o,$);!l&&gn&&(i[We].providerFactory=xn),lb(d,e,n.length,0),n.push(b),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),i.push(xn),g.push(xn)}else lb(d,e,Je>-1?Je:We,GD(i[l?We:Je],$,!l&&o));!l&&o&&gn&&i[We].componentProviders++}}}function lb(e,n,i,o){const l=ma(n),d=function vl(e){return!!e.useClass}(n);if(l||d){const b=(d?ut(n.useClass):n).prototype.ngOnDestroy;if(b){const $=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const q=$.indexOf(i);-1===q?$.push(i,[o,b]):$[q+1].push(o,b)}else $.push(i,b)}}}function GD(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function ub(e,n,i,o){for(let l=i;l<o;l++)if(n[l]===e)return l;return-1}function FP(e,n,i,o){return cb(this.multi,[])}function LP(e,n,i,o){const l=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,I=wl(i,i[wn],this.providerFactory.index,o);d=I.slice(0,g),cb(l,d);for(let b=g;b<I.length;b++)d.push(I[b])}else d=[],cb(l,d);return d}function cb(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function WD(e,n=[]){return i=>{i.providersResolver=(o,l)=>function kP(e,n,i){const o=Jr();if(o.firstCreatePass){const l=ws(e);ab(i,o.data,o.blueprint,l,!0),ab(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}let UP=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=Bs(0,o.type),d=l.length>0?EE([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=Sr({token:e,providedIn:"environment",factory:()=>new e(at(ro))}),n})();function KD(e){ba("NgStandalone"),e.getStandaloneInjector=n=>n.get(UP).getOrCreateStandaloneInjector(e)}function QD(e,n,i,o){return function YD(e,n,i,o,l,d){const g=n+i;return Xo(e,g,l)?function Mu(e,n,i){return e[n]=i}(e,g+1,d?o.call(d,l):o(l)):function zy(e,n){const i=e[n];return i===Yr?void 0:i}(e,g+1)}(rn(),function is(){const e=Ur.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,i,o)}class vS{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const DM=new vS("18.2.8");let _S=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const AS=new ot(""),CS=new ot("");let vb,ZM=(()=>{var e;class n{constructor(o,l,d){this._ngZone=o,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,vb||(function ex(e){vb=e}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),o()},l)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(at(lo),at(TS),at(CS))},e.\u0275prov=Sr({token:e,factory:e.\u0275fac}),n})(),TS=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var d,g;return null!==(d=null===(g=vb)||void 0===g?void 0:g.findTestabilityInTree(this,o,l))&&void 0!==d?d:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function _b(e){return!!e&&"function"==typeof e.then}function bS(e){return!!e&&"function"==typeof e.subscribe}const wS=new ot("");let DS=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=null!==(o=wt(wS,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(_b(g))o.push(g);else if(bS(g)){const I=new Promise((b,$)=>{g.subscribe({complete:b,error:$})});o.push(I)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const oA=new ot("");function RS(e,n){return Array.isArray(n)?n.reduce(RS,e):{...e,...n}}let Ec=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(m0),this.afterRenderManager=wt(wT),this.zonelessEnabled=wt(sm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qn.B,this.afterTick=new qn.B,this.componentTypes=[],this.components=[],this.isStable=wt(ll).hasPendingTasks.pipe((0,nr.T)(o=>!o)),this._injector=wt(ro)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(l=>{o=this.isStable.subscribe({next:d=>{d&&l()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof zC;if(!this._injector.get(DS).done)throw!d&&na(o),new Ot(405,!1);let I;I=d?o:this._injector.get(am).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const b=function tx(e){return e.isBoundToModule}(I)?void 0:this._injector.get(Vh),q=I.create(Ks.NULL,[],l||I.selector,b),ue=q.location.nativeElement,Ue=q.injector.get(AS,null);return null==Ue||Ue.registerApplication(ue),q.onDestroy(()=>{this.detachView(q.hostView),sA(this.components,q),null==Ue||Ue.unregisterApplication(ue)}),this._loadComponent(q),q}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ot(101,!1);const o=he(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,he(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(XI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:I,notifyErrorHandler:b}of this._views)ix(I,b,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,d;null==o||null===(l=o.begin)||void 0===l||l.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Ps(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;sA(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(oA,[]);[...this._bootstrapListeners,...l].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>sA(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Ot(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function sA(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function ix(e,n,i,o){(i||Ps(e))&&ja(e,n,i&&!o?0:1)}class ox{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let sx=(()=>{var e;class n{compileModuleSync(o){return new IE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),g=$a(_o(o).declarations).reduce((I,b)=>{const $=Kr(b);return $&&I.push(new os($)),I},[]);return new ox(l,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),ux=(()=>{var e;class n{constructor(){this.zone=wt(lo),this.changeDetectionScheduler=wt(sp),this.applicationRef=wt(Ec)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function yb({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new lo({...Ib(),scheduleInRootZone:i})),[{provide:lo,useFactory:e},{provide:Co,multi:!0,useFactory:()=>{const l=wt(ux,{optional:!0});return()=>l.initialize()}},{provide:Co,multi:!0,useFactory:()=>{const l=wt(dx);return()=>{l.initialize()}}},!0===n?{provide:k_,useValue:!0}:[],{provide:F_,useValue:null!=i?i:c0}]}function Ib(e){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==e?void 0:e.runCoalescing)&&void 0!==i&&i}}let dx=(()=>{var e;class n{constructor(){this.subscription=new Jn.yU,this.initialized=!1,this.zone=wt(lo),this.pendingTasks=wt(ll)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{lo.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;lo.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Xy=(()=>{var e;class n{constructor(){var o,l,d;this.appRef=wt(Ec),this.taskService=wt(ll),this.ngZone=wt(lo),this.zonelessEnabled=wt(sm),this.disableScheduling=null!==(o=wt(k_,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Jn.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(ff):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=wt(F_,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof cv||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?lv:Yp;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ff+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(o),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const Ab=new ot("",{providedIn:"root",factory:()=>wt(Ab,Fr.Optional|Fr.SkipSelf)||function hx(){return typeof $localize<"u"&&$localize.locale||Ti}()}),fx=new ot("",{providedIn:"root",factory:()=>"USD"}),aA=new ot("");function lA(e){return!e.moduleRef}let FS=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=null==l?void 0:l.scheduleInRootZone,b=[yb({ngZoneFactory:()=>function g0(e="zone.js",n){return"noop"===e?new cv:"zone.js"===e?new lo(n):e}(null==l?void 0:l.ngZone,{...Ib({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:sp,useExisting:Xy}],$=function Pw(e,n,i){return new yE(e,n,i,!1)}(o.moduleType,this.injector,b);return function kS(e){const n=lA(e)?e.r3Injector:e.moduleRef.injector,i=n.get(lo);return i.run(()=>{lA(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(vu,null);let l;if(i.runOutsideAngular(()=>{l=i.onError.subscribe({next:d=>{o.handleError(d)}})}),lA(e)){const d=()=>n.destroy(),g=e.platformInjector.get(aA);g.add(d),n.onDestroy(()=>{l.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(aA);g.add(d),e.moduleRef.onDestroy(()=>{sA(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(d)})}return function rx(e,n,i){try{const o=i();return _b(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,i,()=>{const d=n.get(DS);return d.runInitializers(),d.donePromise.then(()=>{if(function Vy(e){"string"==typeof e&&(kp=e.toLowerCase().replace(/_/g,"-"))}(n.get(Ab,Ti)||Ti),lA(e)){const I=n.get(Ec);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function _x(e,n){const i=e.injector.get(Ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Ot(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:$,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,l=[]){const d=RS({},l);return function lx(e,n,i){const o=new IE(i);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ot(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(aA,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(at(Ks))},e.\u0275prov=Sr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),Xh=null;const LS=new ot("");function VS(e,n,i=[]){const o=`Platform: ${n}`,l=new ot(o);return(d=[])=>{let g=Cb();if(!g||g.injector.get(LS,!1)){const I=[...i,...d,{provide:l,useValue:!0}];e?e(I):function yx(e){if(Xh&&!Xh.get(LS,!1))throw new Ot(400,!1);(function SS(){!function Pe(e){Nn=e}(()=>{throw new Ot(600,!1)})})(),Xh=e;const n=e.get(FS);(function $S(e){const n=e.get(Cv,null);null==n||n.forEach(i=>i())})(e)}(function US(e=[],n){return Ks.create({name:n,providers:[{provide:kl,useValue:"platform"},{provide:aA,useValue:new Set([()=>Xh=null])},...e]})}(I,o))}return function Ix(){const n=Cb();if(!n)throw new Ot(401,!1);return n}()}}function Cb(){var e,n;return null!==(e=null===(n=Xh)||void 0===n?void 0:n.get(FS))&&void 0!==e?e:null}function Ax(){return!1}let jS=(()=>{class n{}return n.__NG_ELEMENT_ID__=Cx,n})();function Cx(e){return function Tx(e,n,i){if(aa(e)&&!i){const o=To(e.index,n);return new Yf(o,o)}return 175&e.type?new Yf(n[di],n):null}(zr(),rn(),!(16&~e))}class WS{constructor(){}supports(n){return gm(n)}create(n){return new Rx(n)}}const Sx=(e,n)=>n;class Rx{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Sx}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,l=0,d=null;for(;i||o;){const g=!o||i&&i.currentIndex<qS(o,l,d)?i:o,I=qS(g,l,d),b=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(i=i._next,null==g.previousIndex)l++;else{d||(d=[]);const $=I-l,q=b-l;if($!=q){for(let Ue=0;Ue<$;Ue++){const Je=Ue<d.length?d[Ue]:d[Ue]=0,We=Je+Ue;q<=We&&We<$&&(d[Ue]=Je+1)}d[g.previousIndex]=q-$}}I!==b&&n(g,I,b)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!gm(n))throw new Ot(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,g,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],g=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,g)?(o&&(i=this._verifyReinsertion(i,d,g,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,g,I),o=!0),i=i._next}else l=0,function Nw(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,I=>{g=this._trackByFn(l,I),null!==i&&Object.is(i.trackById,g)?(o&&(i=this._verifyReinsertion(i,I,g,l)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,g,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,l)):n=this._addAfter(new Px(i,o),d,l),n}_verifyReinsertion(n,i,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new KS),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Px{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mx{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class KS{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new Mx,this.map.set(i,o)),o.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qS(e,n,i){const o=e.previousIndex;if(null===o)return o;let l=0;return i&&o<i.length&&(l=i[o]),o+n+l}class XS{constructor(){}supports(n){return n instanceof Map||AE(n)}create(){return new xx}}class xx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||AE(n)))throw new Ot(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(l,o);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const d=l._prev,g=l._next;return d&&(d._next=g),g&&(g._prev=d),l._next=null,l._prev=null,l}const o=new Nx(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class Nx{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QS(){return new Sb([new WS])}let Sb=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||QS()),deps:[[n,new hi,new _i]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Ot(901,!1)}}return(e=n).\u0275prov=Sr({token:e,providedIn:"root",factory:QS}),n})();function YS(){return new Rb([new XS])}let Rb=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||YS()),deps:[[n,new hi,new _i]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Ot(901,!1)}}return(e=n).\u0275prov=Sr({token:e,providedIn:"root",factory:YS}),n})();const Fx=VS(null,"core",[]);let Lx=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(at(Ec))},e.\u0275mod=ta({type:e}),e.\u0275inj=K({}),n})();function pN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function mN(e,n){ba("NgSignals");const i=function ze(e){const n=Object.create(En);n.computation=e;const i=()=>{if(He(n),fe(n),n.value===Qt)throw n.error;return n.value};return i[le]=n,i}(e);return null!=n&&n.equal&&(i[le].equal=n.equal),i}function vN(e){const n=he(null);try{return e()}finally{he(n)}}function CN(e,n){const i=Kr(e),o=n.elementInjector||ia();return new os(i).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function TN(e){const n=Kr(e);if(!n)return null;const i=new os(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9253:(bn,ht,O)=>{"use strict";O.d(ht,{BM:()=>st,Gt:()=>he,bf:()=>Be,e7:()=>ye,iB:()=>fe,rx:()=>Ge,uP:()=>Ce});var c=O(9842),h=O(4438),L=O(5407),Se=O(7935);const le=["ngOnDestroy"],he=(ft,Ke,tt,be={})=>new Proxy(ft,{get:(ke,it)=>tt.runOutsideAngular(()=>{var vt;if(ft[it])return null!=be&&null!==(vt=be.spy)&&void 0!==vt&&vt.get&&be.spy.get(it,ft[it]),ft[it];if(le.indexOf(it)>-1)return()=>{};const Dt=Ke.toPromise().then(ze=>{const Ve=null==ze?void 0:ze[it];return"function"==typeof Ve?Ve.bind(ze):null!=Ve&&Ve.then?Ve.then($t=>tt.run(()=>$t)):tt.run(()=>Ve)});return new Proxy(()=>{},{get:(ze,Ve)=>Dt[Ve],apply:(ze,Ve,$t)=>Dt.then(Qt=>{var En;const Zt=null==Qt?void 0:Qt(...$t);return null!=be&&null!==(En=be.spy)&&void 0!==En&&En.apply&&be.spy.apply(it,$t,Zt),Zt})})})}),ye=(ft,Ke)=>{Ke.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(be=>{Object.defineProperty(ft.prototype,be,Object.getOwnPropertyDescriptor(tt.prototype||tt,be))})})};class Le{constructor(Ke){return Ke}}const Ge=new h.nKC("angularfire2.app.options"),Ce=new h.nKC("angularfire2.app.name");function fe(ft,Ke,tt){const ke="object"==typeof tt&&tt||{};ke.name=ke.name||"string"==typeof tt&&tt||"[DEFAULT]";const vt=Se.A.apps.filter(Dt=>Dt&&Dt.name===ke.name)[0]||Ke.runOutsideAngular(()=>Se.A.initializeApp(ft,ke));try{if(JSON.stringify(ft)!==JSON.stringify(vt.options)){const Dt=!!module.hot;$e("error",`${vt.name} Firebase App already initialized with different options${Dt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Le(vt)}const $e=(ft,...Ke)=>{(0,h.naY)()&&typeof console<"u"&&console[ft](...Ke)},He={provide:Le,useFactory:fe,deps:[Ge,h.SKi,[new h.Xx1,Ce]]};let Be=(()=>{var ft;class Ke{static initializeApp(be,ke){return{ngModule:Ke,providers:[{provide:Ge,useValue:be},{provide:Ce,useValue:ke}]}}constructor(be){Se.A.registerVersion("angularfire",L.xv.full,"core"),Se.A.registerVersion("angularfire",L.xv.full,"app-compat"),Se.A.registerVersion("angular",h.xvI.full,be.toString())}}return ft=Ke,(0,c.A)(Ke,"\u0275fac",function(be){return new(be||ft)(h.KVO(h.Agw))}),(0,c.A)(Ke,"\u0275mod",h.$C({type:ft})),(0,c.A)(Ke,"\u0275inj",h.G2t({providers:[He]})),Ke})();function st(ft,Ke,tt,be,ke){const[,it,vt]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===ft)||[];if(it)return function dt(ft,Ke){try{return ft.toString()===Ke.toString()}catch{return ft===Ke}}(ke,vt)||(et("error",`${Ke} was already initialized on the ${tt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),et("warn",{is:ke,was:vt})),it;{const Dt=be();return globalThis.\u0275AngularfireInstanceCache.push([ft,Dt,ke]),Dt}}const lt=typeof module<"u"&&!!module.hot,et=(ft,...Ke)=>{(0,h.naY)()&&typeof console<"u"&&console[ft](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(bn,ht,O)=>{"use strict";O.d(ht,{xv:()=>st,U0:()=>Qt,Oe:()=>Ve,u0:()=>it,Jv:()=>ft,CA:()=>et,lR:()=>lt,S3:()=>Nn});var c=O(9842),h=O(4438),L=O(2214),Se=O(6780),he=O(9687);const Le=new class ye extends he.q{}(class le extends Se.R{constructor(Pe,te){super(Pe,te),this.scheduler=Pe,this.work=te}schedule(Pe,te=0){return te>0?super.schedule(Pe,te):(this.delay=te,this.state=Pe,this.scheduler.flush(this),this)}execute(Pe,te){return te>0||this.closed?super.execute(Pe,te):this._execute(Pe,te)}requestAsyncId(Pe,te,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(Pe,te,ne):(Pe.flush(this),0)}});var Ce=O(3236),fe=O(1985),$e=O(8141),He=O(941),Be=O(6745);const st=new h.RxE("ANGULARFIRE2_VERSION");function lt(_t,Pe,te){if(Pe){if(1===Pe.length)return Pe[0];const me=Pe.filter(ve=>ve.app===te);if(1===me.length)return me[0]}return te.container.getProvider(_t).getImmediate({optional:!0})}const et=(_t,Pe)=>{const te=Pe?[Pe]:(0,L.Dk)(),ne=[];return te.forEach(de=>{de.container.getProvider(_t).instances.forEach(ve=>{ne.includes(ve)||ne.push(ve)})}),ne};class ft{constructor(){return et(Ke)}}const Ke="app-check";function tt(){}class be{constructor(Pe,te=Le){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=Pe,this.delegate=te}now(){return this.delegate.now()}schedule(Pe,te,ne){const de=this.zone;return this.delegate.schedule(function(ve){de.runGuarded(()=>{Pe.apply(this,[ve])})},te,ne)}}class ke{constructor(Pe){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=Pe}call(Pe,te){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tt,{},tt,tt)),te.pipe((0,$e.M)({next:ne,complete:ne,error:ne})).subscribe(Pe).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let it=(()=>{var _t;class Pe{constructor(ne){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new be(Zone.current)),this.insideAngular=ne.run(()=>new be(Zone.current,Ce.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _t=Pe,(0,c.A)(Pe,"\u0275fac",function(ne){return new(ne||_t)(h.KVO(h.SKi))}),(0,c.A)(Pe,"\u0275prov",h.jDH({token:_t,factory:_t.\u0275fac,providedIn:"root"})),Pe})();function vt(){const _t=globalThis.\u0275AngularFireScheduler;if(!_t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _t}function ze(_t){return vt().ngZone.run(()=>_t())}function Ve(_t){return _t.pipe((0,He.Q)(vt().outsideAngular))}function Qt(_t){return function En(_t){return function(te){return(te=te.lift(new ke(_t.ngZone))).pipe((0,Be._)(_t.outsideAngular),(0,He.Q)(_t.insideAngular))}}(vt())(_t)}const Zt=(_t,Pe)=>function(){const ne=arguments;return Pe&&setTimeout(()=>{"scheduled"===Pe.state&&Pe.invoke()},10),ze(()=>_t.apply(void 0,ne))},Nn=(_t,Pe)=>function(){let te;const ne=arguments;for(let me=0;me<arguments.length;me++)"function"==typeof ne[me]&&(Pe&&(te||(te=ze(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tt,{},tt,tt)))),ne[me]=Zt(ne[me],te));const de=function Dt(_t){return vt().ngZone.runOutsideAngular(()=>_t())}(()=>_t.apply(this,ne));if(!Pe){if(de instanceof fe.c){const me=vt();return de.pipe((0,Be._)(me.outsideAngular),(0,He.Q)(me.insideAngular))}return ze(()=>de)}return de instanceof fe.c?de.pipe(Qt):de instanceof Promise?ze(()=>new Promise((me,ve)=>de.then(Me=>ze(()=>me(Me)),Me=>ze(()=>ve(Me))))):"function"==typeof de&&te?function(){return setTimeout(()=>{te&&"scheduled"===te.state&&te.invoke()},10),de.apply(this,arguments)}:ze(()=>de)}},4341:(bn,ht,O)=>{"use strict";O.d(ht,{MJ:()=>Tr,l_:()=>ct,gE:()=>ni,j4:()=>en,YN:()=>au,zX:()=>fa,VZ:()=>Sa,cz:()=>vt,kq:()=>dt,vO:()=>on,BC:()=>On,cb:()=>Pn,vS:()=>Cs,X1:()=>ga,k0:()=>Ve,qT:()=>us});var c=O(4438),h=O(177),L=O(8455),Se=O(1985),le=O(3073),he=O(8750),ye=O(3794),Le=O(4360),Ge=O(6450),Ce=O(8496),$e=O(1413),He=O(6354);let Be=(()=>{var G;class N{constructor(j,Te){this._renderer=j,this._elementRef=Te,this.onChange=pn=>{},this.onTouched=()=>{}}setProperty(j,Te){this._renderer.setProperty(this._elementRef.nativeElement,j,Te)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return(G=N).\u0275fac=function(j){return new(j||G)(c.rXU(c.sFG),c.rXU(c.aKT))},G.\u0275dir=c.FsC({type:G}),N})(),st=(()=>{var G;class N extends Be{}return(G=N).\u0275fac=(()=>{let oe;return function(Te){return(oe||(oe=c.xGo(G)))(Te||G)}})(),G.\u0275dir=c.FsC({type:G,features:[c.Vt3]}),N})();const dt=new c.nKC(""),ft={provide:dt,useExisting:(0,c.Rfq)(()=>be),multi:!0},tt=new c.nKC("");let be=(()=>{var G;class N extends Be{constructor(j,Te,pn){super(j,Te),this._compositionMode=pn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ke(){const G=(0,h.QT)()?(0,h.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(j){this.setProperty("value",null==j?"":j)}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return(G=N).\u0275fac=function(j){return new(j||G)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(tt,8))},G.\u0275dir=c.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,Te){1&j&&c.bIt("input",function(Ar){return Te._handleInput(Ar.target.value)})("blur",function(){return Te.onTouched()})("compositionstart",function(){return Te._compositionStart()})("compositionend",function(Ar){return Te._compositionEnd(Ar.target.value)})},features:[c.Jv_([ft]),c.Vt3]}),N})();function ke(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}function it(G){return null!=G&&"number"==typeof G.length}const vt=new c.nKC(""),Dt=new c.nKC(""),ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ve{static min(N){return $t(N)}static max(N){return Qt(N)}static required(N){return function En(G){return ke(G.value)?{required:!0}:null}(N)}static requiredTrue(N){return function Zt(G){return!0===G.value?null:{required:!0}}(N)}static email(N){return function Nn(G){return ke(G.value)||ze.test(G.value)?null:{email:!0}}(N)}static minLength(N){return function _t(G){return N=>ke(N.value)||!it(N.value)?null:N.value.length<G?{minlength:{requiredLength:G,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function Pe(G){return N=>it(N.value)&&N.value.length>G?{maxlength:{requiredLength:G,actualLength:N.value.length}}:null}(N)}static pattern(N){return function te(G){if(!G)return ne;let N,oe;return"string"==typeof G?(oe="","^"!==G.charAt(0)&&(oe+="^"),oe+=G,"$"!==G.charAt(G.length-1)&&(oe+="$"),N=new RegExp(oe)):(oe=G.toString(),N=G),j=>{if(ke(j.value))return null;const Te=j.value;return N.test(Te)?null:{pattern:{requiredPattern:oe,actualValue:Te}}}}(N)}static nullValidator(N){return null}static compose(N){return Rt(N)}static composeAsync(N){return jt(N)}}function $t(G){return N=>{if(ke(N.value)||ke(G))return null;const oe=parseFloat(N.value);return!isNaN(oe)&&oe<G?{min:{min:G,actual:N.value}}:null}}function Qt(G){return N=>{if(ke(N.value)||ke(G))return null;const oe=parseFloat(N.value);return!isNaN(oe)&&oe>G?{max:{max:G,actual:N.value}}:null}}function ne(G){return null}function de(G){return null!=G}function me(G){return(0,c.jNT)(G)?(0,L.H)(G):G}function ve(G){let N={};return G.forEach(oe=>{N=null!=oe?{...N,...oe}:N}),0===Object.keys(N).length?null:N}function Me(G,N){return N.map(oe=>oe(G))}function Xe(G){return G.map(N=>function Ye(G){return!G.validate}(N)?N:oe=>N.validate(oe))}function Rt(G){if(!G)return null;const N=G.filter(de);return 0==N.length?null:function(oe){return ve(Me(oe,N))}}function we(G){return null!=G?Rt(Xe(G)):null}function jt(G){if(!G)return null;const N=G.filter(de);return 0==N.length?null:function(oe){return function fe(...G){const N=(0,ye.ms)(G),{args:oe,keys:j}=(0,le.D)(G),Te=new Se.c(pn=>{const{length:Ar}=oe;if(!Ar)return void pn.complete();const Di=new Array(Ar);let to=Ar,no=Ar;for(let hs=0;hs<Ar;hs++){let ta=!1;(0,he.Tg)(oe[hs]).subscribe((0,Le._)(pn,$s=>{ta||(ta=!0,no--),Di[hs]=$s},()=>to--,void 0,()=>{(!to||!ta)&&(no||pn.next(j?(0,Ce.e)(j,Di):Di),pn.complete())}))}});return N?Te.pipe((0,Ge.I)(N)):Te}(Me(oe,N).map(me)).pipe((0,He.T)(ve))}}function In(G){return null!=G?jt(Xe(G)):null}function Vn(G,N){return null===G?[N]:Array.isArray(G)?[...G,N]:[G,N]}function tr(G){return G._rawValidators}function qn(G){return G._rawAsyncValidators}function Jn(G){return G?Array.isArray(G)?G:[G]:[]}function nr(G,N){return Array.isArray(G)?G.includes(N):G===N}function rr(G,N){const oe=Jn(N);return Jn(G).forEach(Te=>{nr(oe,Te)||oe.push(Te)}),oe}function tn(G,N){return Jn(N).filter(oe=>!nr(G,oe))}class Lt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=we(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N=void 0){this.control&&this.control.reset(N)}hasError(N,oe){return!!this.control&&this.control.hasError(N,oe)}getError(N,oe){return this.control?this.control.getError(N,oe):null}}class Ft extends Lt{get formDirective(){return null}get path(){return null}}class on extends Lt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ot{constructor(N){this._cd=N}get isTouched(){var N,oe,j;return null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||null===(oe=N._touched)||void 0===oe||oe.call(N),!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.touched)}get isUntouched(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.untouched)}get isPristine(){var N,oe,j;return null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||null===(oe=N._pristine)||void 0===oe||oe.call(N),!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.pristine)}get isDirty(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.dirty)}get isValid(){var N,oe,j;return null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||null===(oe=N._status)||void 0===oe||oe.call(N),!(null===(j=this._cd)||void 0===j||null===(j=j.control)||void 0===j||!j.valid)}get isInvalid(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.invalid)}get isPending(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.pending)}get isSubmitted(){var N,oe,j;return null===(N=this._cd)||void 0===N||null===(oe=N._submitted)||void 0===oe||oe.call(N),!(null===(j=this._cd)||void 0===j||!j.submitted)}}let On=(()=>{var G;class N extends Ot{constructor(j){super(j)}}return(G=N).\u0275fac=function(j){return new(j||G)(c.rXU(on,2))},G.\u0275dir=c.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,Te){2&j&&c.AVh("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)},features:[c.Vt3]}),N})(),Pn=(()=>{var G;class N extends Ot{constructor(j){super(j)}}return(G=N).\u0275fac=function(j){return new(j||G)(c.rXU(Ft,10))},G.\u0275dir=c.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,Te){2&j&&c.AVh("ng-untouched",Te.isUntouched)("ng-touched",Te.isTouched)("ng-pristine",Te.isPristine)("ng-dirty",Te.isDirty)("ng-valid",Te.isValid)("ng-invalid",Te.isInvalid)("ng-pending",Te.isPending)("ng-submitted",Te.isSubmitted)},features:[c.Vt3]}),N})();const kt="VALID",rt="INVALID",ut="PENDING",sn="DISABLED";class Z{}class P extends Z{constructor(N,oe){super(),this.value=N,this.source=oe}}class F extends Z{constructor(N,oe){super(),this.pristine=N,this.source=oe}}class ce extends Z{constructor(N,oe){super(),this.touched=N,this.source=oe}}class ae extends Z{constructor(N,oe){super(),this.status=N,this.source=oe}}class Qe extends Z{constructor(N){super(),this.source=N}}class Et extends Z{constructor(N){super(),this.source=N}}function Ut(G){return(ln(G)?G.validators:G)||null}function un(G,N){return(ln(N)?N.asyncValidators:G)||null}function ln(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class Gn{constructor(N,oe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new $e.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(oe)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(N){(0,c.O8t)(()=>this.statusReactive.set(N))}get valid(){return this.status===kt}get invalid(){return this.status===rt}get pending(){return this.status==ut}get disabled(){return this.status===sn}get enabled(){return this.status!==sn}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(N){(0,c.O8t)(()=>this.pristineReactive.set(N))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(N){(0,c.O8t)(()=>this.touchedReactive.set(N))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(rr(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(rr(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(tn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(tn(N,this._rawAsyncValidators))}hasValidator(N){return nr(this._rawValidators,N)}hasAsyncValidator(N){return nr(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){var oe;const j=!1===this.touched;this.touched=!0;const Te=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;this._parent&&!N.onlySelf&&this._parent.markAsTouched({...N,sourceControl:Te}),j&&!1!==N.emitEvent&&this._events.next(new ce(!0,Te))}markAllAsTouched(N={}){this.markAsTouched({onlySelf:!0,emitEvent:N.emitEvent,sourceControl:this}),this._forEachChild(oe=>oe.markAllAsTouched(N))}markAsUntouched(N={}){var oe;const j=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Te=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;this._forEachChild(pn=>{pn.markAsUntouched({onlySelf:!0,emitEvent:N.emitEvent,sourceControl:Te})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N,Te),j&&!1!==N.emitEvent&&this._events.next(new ce(!1,Te))}markAsDirty(N={}){var oe;const j=!0===this.pristine;this.pristine=!1;const Te=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;this._parent&&!N.onlySelf&&this._parent.markAsDirty({...N,sourceControl:Te}),j&&!1!==N.emitEvent&&this._events.next(new F(!1,Te))}markAsPristine(N={}){var oe;const j=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Te=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;this._forEachChild(pn=>{pn.markAsPristine({onlySelf:!0,emitEvent:N.emitEvent})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N,Te),j&&!1!==N.emitEvent&&this._events.next(new F(!0,Te))}markAsPending(N={}){var oe;this.status=ut;const j=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;!1!==N.emitEvent&&(this._events.next(new ae(this.status,j)),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.markAsPending({...N,sourceControl:j})}disable(N={}){var oe;const j=this._parentMarkedDirty(N.onlySelf);this.status=sn,this.errors=null,this._forEachChild(pn=>{pn.disable({...N,onlySelf:!0})}),this._updateValue();const Te=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;!1!==N.emitEvent&&(this._events.next(new P(this.value,Te)),this._events.next(new ae(this.status,Te)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:j},this),this._onDisabledChange.forEach(pn=>pn(!0))}enable(N={}){const oe=this._parentMarkedDirty(N.onlySelf);this.status=kt,this._forEachChild(j=>{j.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:oe},this),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(N,oe){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine({},oe),this._parent._updateTouched({},oe))}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){var oe;if(this._setInitialStatus(),this._updateValue(),this.enabled){const Te=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===ut)&&this._runAsyncValidator(Te,N.emitEvent)}const j=null!==(oe=N.sourceControl)&&void 0!==oe?oe:this;!1!==N.emitEvent&&(this._events.next(new P(this.value,j)),this._events.next(new ae(this.status,j)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity({...N,sourceControl:j})}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(oe=>oe._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sn:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N,oe){if(this.asyncValidator){this.status=ut,this._hasOwnPendingAsyncValidator={emitEvent:!1!==oe};const j=me(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(Te=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Te,{emitEvent:oe,shouldHaveEmitted:N})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var N,oe;this._asyncValidationSubscription.unsubscribe();const j=null!==(N=null===(oe=this._hasOwnPendingAsyncValidator)||void 0===oe?void 0:oe.emitEvent)&&void 0!==N&&N;return this._hasOwnPendingAsyncValidator=null,j}return!1}setErrors(N,oe={}){this.errors=N,this._updateControlsErrors(!1!==oe.emitEvent,this,oe.shouldHaveEmitted)}get(N){let oe=N;return null==oe||(Array.isArray(oe)||(oe=oe.split(".")),0===oe.length)?null:oe.reduce((j,Te)=>j&&j._find(Te),this)}getError(N,oe){const j=oe?this.get(oe):this;return j&&j.errors?j.errors[N]:null}hasError(N,oe){return!!this.getError(N,oe)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N,oe,j){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),(N||j)&&this._events.next(new ae(this.status,oe)),this._parent&&this._parent._updateControlsErrors(N,oe,j)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?sn:this.errors?rt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ut)?ut:this._anyControlsHaveStatus(rt)?rt:kt}_anyControlsHaveStatus(N){return this._anyControls(oe=>oe.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N,oe){const j=!this._anyControlsDirty(),Te=this.pristine!==j;this.pristine=j,this._parent&&!N.onlySelf&&this._parent._updatePristine(N,oe),Te&&this._events.next(new F(this.pristine,oe))}_updateTouched(N={},oe){this.touched=this._anyControlsTouched(),this._events.next(new ce(this.touched,oe)),this._parent&&!N.onlySelf&&this._parent._updateTouched(N,oe)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){ln(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function fn(G){return Array.isArray(G)?we(G):G||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function vn(G){return Array.isArray(G)?In(G):G||null}(this._rawAsyncValidators)}}class ni extends Gn{constructor(N,oe,j){super(Ut(oe),un(j,oe)),this.controls=N,this._initObservables(),this._setUpdateStrategy(oe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,oe){return this.controls[N]?this.controls[N]:(this.controls[N]=oe,oe.setParent(this),oe._registerOnCollectionChange(this._onCollectionChange),oe)}addControl(N,oe,j={}){this.registerControl(N,oe),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(N,oe={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}setControl(N,oe,j={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],oe&&this.registerControl(N,oe),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,oe={}){(function Dr(G,N,oe){G._forEachChild((j,Te)=>{if(void 0===oe[Te])throw new c.wOt(1002,"")})})(this,0,N),Object.keys(N).forEach(j=>{(function dr(G,N,oe){const j=G.controls;if(!(N?Object.keys(j):j).length)throw new c.wOt(1e3,"");if(!j[oe])throw new c.wOt(1001,"")})(this,!0,j),this.controls[j].setValue(N[j],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe)}patchValue(N,oe={}){null!=N&&(Object.keys(N).forEach(j=>{const Te=this.controls[j];Te&&Te.patchValue(N[j],{onlySelf:!0,emitEvent:oe.emitEvent})}),this.updateValueAndValidity(oe))}reset(N={},oe={}){this._forEachChild((j,Te)=>{j.reset(N?N[Te]:null,{onlySelf:!0,emitEvent:oe.emitEvent})}),this._updatePristine(oe,this),this._updateTouched(oe,this),this.updateValueAndValidity(oe)}getRawValue(){return this._reduceChildren({},(N,oe,j)=>(N[j]=oe.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(oe,j)=>!!j._syncPendingControls()||oe);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(oe=>{const j=this.controls[oe];j&&N(j,oe)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[oe,j]of Object.entries(this.controls))if(this.contains(oe)&&N(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(oe,j,Te)=>((j.enabled||this.disabled)&&(oe[Te]=j.value),oe))}_reduceChildren(N,oe){let j=N;return this._forEachChild((Te,pn)=>{j=oe(j,Te,pn)}),j}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}const ie=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>K}),K="always";function J(G,N,oe=K){var j,Te;Kt(G,N),N.valueAccessor.writeValue(G.value),(G.disabled||"always"===oe)&&(null===(j=(Te=N.valueAccessor).setDisabledState)||void 0===j||j.call(Te,G.disabled)),function se(G,N){N.valueAccessor.registerOnChange(oe=>{G._pendingValue=oe,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&ot(G,N)})}(G,N),function yt(G,N){const oe=(j,Te)=>{N.valueAccessor.writeValue(j),Te&&N.viewToModelUpdate(j)};G.registerOnChange(oe),N._registerOnDestroy(()=>{G._unregisterOnChange(oe)})}(G,N),function Ne(G,N){N.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&ot(G,N),"submit"!==G.updateOn&&G.markAsTouched()})}(G,N),function It(G,N){if(N.valueAccessor.setDisabledState){const oe=j=>{N.valueAccessor.setDisabledState(j)};G.registerOnDisabledChange(oe),N._registerOnDestroy(()=>{G._unregisterOnDisabledChange(oe)})}}(G,N)}function ee(G,N,oe=!0){const j=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(j),N.valueAccessor.registerOnTouched(j)),mn(G,N),G&&(N._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function xe(G,N){G.forEach(oe=>{oe.registerOnValidatorChange&&oe.registerOnValidatorChange(N)})}function Kt(G,N){const oe=tr(G);null!==N.validator?G.setValidators(Vn(oe,N.validator)):"function"==typeof oe&&G.setValidators([oe]);const j=qn(G);null!==N.asyncValidator?G.setAsyncValidators(Vn(j,N.asyncValidator)):"function"==typeof j&&G.setAsyncValidators([j]);const Te=()=>G.updateValueAndValidity();xe(N._rawValidators,Te),xe(N._rawAsyncValidators,Te)}function mn(G,N){let oe=!1;if(null!==G){if(null!==N.validator){const Te=tr(G);if(Array.isArray(Te)&&Te.length>0){const pn=Te.filter(Ar=>Ar!==N.validator);pn.length!==Te.length&&(oe=!0,G.setValidators(pn))}}if(null!==N.asyncValidator){const Te=qn(G);if(Array.isArray(Te)&&Te.length>0){const pn=Te.filter(Ar=>Ar!==N.asyncValidator);pn.length!==Te.length&&(oe=!0,G.setAsyncValidators(pn))}}}const j=()=>{};return xe(N._rawValidators,j),xe(N._rawAsyncValidators,j),oe}function ot(G,N){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function vi(G,N){if(!G.hasOwnProperty("model"))return!1;const oe=G.model;return!!oe.isFirstChange()||!Object.is(N,oe.currentValue)}function ri(G,N){if(!N)return null;let oe,j,Te;return Array.isArray(N),N.forEach(pn=>{pn.constructor===be?oe=pn:function Ri(G){return Object.getPrototypeOf(G.constructor)===st}(pn)?j=pn:Te=pn}),Te||j||oe||null}function Qr(G,N){const oe=G.indexOf(N);oe>-1&&G.splice(oe,1)}function er(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}Promise.resolve();const Tr=class extends Gn{constructor(N=null,oe,j){super(Ut(oe),un(j,oe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(oe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ln(oe)&&(oe.nonNullable||oe.initialValueIsDefault)&&(this.defaultValue=er(N)?N.value:N)}setValue(N,oe={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==oe.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==oe.emitViewToModelChange)),this.updateValueAndValidity(oe)}patchValue(N,oe={}){this.setValue(N,oe)}reset(N=this.defaultValue,oe={}){this._applyFormState(N),this.markAsPristine(oe),this.markAsUntouched(oe),this.setValue(this.value,oe),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Qr(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Qr(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){er(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}},Zi={provide:on,useExisting:(0,c.Rfq)(()=>Cs)},ls=Promise.resolve();let Cs=(()=>{var G;class N extends on{constructor(j,Te,pn,Ar,Di,to){super(),this._changeDetectorRef=Di,this.callSetDisabledState=to,this.control=new Tr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=j,this._setValidators(Te),this._setAsyncValidators(pn),this.valueAccessor=ri(0,Ar)}ngOnChanges(j){if(this._checkForErrors(),!this._registered||"name"in j){if(this._registered&&(this._checkName(),this.formDirective)){const Te=j.name.previousValue;this.formDirective.removeControl({name:Te,path:this._getPath(Te)})}this._setUpControl()}"isDisabled"in j&&this._updateDisabled(j),vi(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){J(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){ls.then(()=>{var Te;this.control.setValue(j,{emitViewToModelChange:!1}),null===(Te=this._changeDetectorRef)||void 0===Te||Te.markForCheck()})}_updateDisabled(j){const Te=j.isDisabled.currentValue,pn=0!==Te&&(0,c.L39)(Te);ls.then(()=>{var Ar;pn&&!this.control.disabled?this.control.disable():!pn&&this.control.disabled&&this.control.enable(),null===(Ar=this._changeDetectorRef)||void 0===Ar||Ar.markForCheck()})}_getPath(j){return this._parent?function Ae(G,N){return[...N.path,G]}(j,this._parent):[j]}}return(G=N).\u0275fac=function(j){return new(j||G)(c.rXU(Ft,9),c.rXU(vt,10),c.rXU(Dt,10),c.rXU(dt,10),c.rXU(c.gRc,8),c.rXU(ie,8))},G.\u0275dir=c.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Zi]),c.Vt3,c.OA$]}),N})(),us=(()=>{var G;class N{}return(G=N).\u0275fac=function(j){return new(j||G)},G.\u0275dir=c.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})();const Q=new c.nKC(""),Fe={provide:on,useExisting:(0,c.Rfq)(()=>ct)};let ct=(()=>{var G;class N extends on{set isDisabled(j){}constructor(j,Te,pn,Ar,Di){super(),this._ngModelWarningConfig=Ar,this.callSetDisabledState=Di,this.update=new c.bkB,this._ngModelWarningSent=!1,this._setValidators(j),this._setAsyncValidators(Te),this.valueAccessor=ri(0,pn)}ngOnChanges(j){if(this._isControlChanged(j)){const Te=j.form.previousValue;Te&&ee(Te,this,!1),J(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vi(j,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ee(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_isControlChanged(j){return j.hasOwnProperty("form")}}return(G=N)._ngModelWarningSentOnce=!1,G.\u0275fac=function(j){return new(j||G)(c.rXU(vt,10),c.rXU(Dt,10),c.rXU(dt,10),c.rXU(Q,8),c.rXU(ie,8))},G.\u0275dir=c.FsC({type:G,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c.Jv_([Fe]),c.Vt3,c.OA$]}),N})();const at={provide:Ft,useExisting:(0,c.Rfq)(()=>en)};let en=(()=>{var G;class N extends Ft{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(j){this._submittedReactive.set(j)}constructor(j,Te,pn){super(),this.callSetDisabledState=pn,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(j),this._setAsyncValidators(Te)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const Te=this.form.get(j.path);return J(Te,j,this.callSetDisabledState),Te.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),Te}getControl(j){return this.form.get(j.path)}removeControl(j){ee(j.control||null,j,!1),function li(G,N){const oe=G.indexOf(N);oe>-1&&G.splice(oe,1)}(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,Te){this.form.get(j.path).setValue(Te)}onSubmit(j){var Te;return this._submittedReactive.set(!0),function ai(G,N){G._syncPendingControls(),N.forEach(oe=>{const j=oe.control;"submit"===j.updateOn&&j._pendingChange&&(oe.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(j),this.form._events.next(new Qe(this.control)),"dialog"===(null==j||null===(Te=j.target)||void 0===Te?void 0:Te.method)}onReset(){this.resetForm()}resetForm(j=void 0){this.form.reset(j),this._submittedReactive.set(!1),this.form._events.next(new Et(this.form))}_updateDomValue(){this.directives.forEach(j=>{const Te=j.control,pn=this.form.get(j.path);Te!==pn&&(ee(Te||null,j),(G=>G instanceof Tr)(pn)&&(J(pn,j,this.callSetDisabledState),j.control=pn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const Te=this.form.get(j.path);(function Nt(G,N){Kt(G,N)})(Te,j),Te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const Te=this.form.get(j.path);Te&&function dn(G,N){return mn(G,N)}(Te,j)&&Te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kt(this.form,this),this._oldForm&&mn(this._oldForm,this)}_checkFormPresent(){}}return(G=N).\u0275fac=function(j){return new(j||G)(c.rXU(vt,10),c.rXU(Dt,10),c.rXU(ie,8))},G.\u0275dir=c.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(j,Te){1&j&&c.bIt("submit",function(Ar){return Te.onSubmit(Ar)})("reset",function(){return Te.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([at]),c.Vt3,c.OA$]}),N})();function Ga(G){return"number"==typeof G?G:parseFloat(G)}let Zo=(()=>{var G;class N{constructor(){this._validator=ne}ngOnChanges(j){if(this.inputName in j){const Te=this.normalizeInput(j[this.inputName].currentValue);this._enabled=this.enabled(Te),this._validator=this._enabled?this.createValidator(Te):ne,this._onChange&&this._onChange()}}validate(j){return this._validator(j)}registerOnValidatorChange(j){this._onChange=j}enabled(j){return null!=j}}return(G=N).\u0275fac=function(j){return new(j||G)},G.\u0275dir=c.FsC({type:G,features:[c.OA$]}),N})();const es={provide:vt,useExisting:(0,c.Rfq)(()=>fa),multi:!0};let fa=(()=>{var G;class N extends Zo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=j=>Ga(j),this.createValidator=j=>Qt(j)}}return(G=N).\u0275fac=(()=>{let oe;return function(Te){return(oe||(oe=c.xGo(G)))(Te||G)}})(),G.\u0275dir=c.FsC({type:G,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(j,Te){2&j&&c.BMQ("max",Te._enabled?Te.max:null)},inputs:{max:"max"},features:[c.Jv_([es]),c.Vt3]}),N})();const eo={provide:vt,useExisting:(0,c.Rfq)(()=>Sa),multi:!0};let Sa=(()=>{var G;class N extends Zo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=j=>Ga(j),this.createValidator=j=>$t(j)}}return(G=N).\u0275fac=(()=>{let oe;return function(Te){return(oe||(oe=c.xGo(G)))(Te||G)}})(),G.\u0275dir=c.FsC({type:G,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(j,Te){2&j&&c.BMQ("min",Te._enabled?Te.min:null)},inputs:{min:"min"},features:[c.Jv_([eo]),c.Vt3]}),N})(),Ma=(()=>{var G;class N{}return(G=N).\u0275fac=function(j){return new(j||G)},G.\u0275mod=c.$C({type:G}),G.\u0275inj=c.G2t({}),N})(),au=(()=>{var G;class N{static withConfig(j){var Te;return{ngModule:N,providers:[{provide:ie,useValue:null!==(Te=j.callSetDisabledState)&&void 0!==Te?Te:K}]}}}return(G=N).\u0275fac=function(j){return new(j||G)},G.\u0275mod=c.$C({type:G}),G.\u0275inj=c.G2t({imports:[Ma]}),N})(),ga=(()=>{var G;class N{static withConfig(j){var Te,pn;return{ngModule:N,providers:[{provide:Q,useValue:null!==(Te=j.warnOnNgModelWithFormControl)&&void 0!==Te?Te:"always"},{provide:ie,useValue:null!==(pn=j.callSetDisabledState)&&void 0!==pn?pn:K}]}}}return(G=N).\u0275fac=function(j){return new(j||G)},G.\u0275mod=c.$C({type:G}),G.\u0275inj=c.G2t({imports:[Ma]}),N})()},345:(bn,ht,O)=>{"use strict";O.d(ht,{Bb:()=>qn,hE:()=>rr,sG:()=>jt});var c=O(177),h=O(4438);class L extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends L{static makeCurrent(){(0,c.ZD)(new Se)}onAndCancel(nt,kt,rt){return nt.addEventListener(kt,rt),()=>{nt.removeEventListener(kt,rt)}}dispatchEvent(nt,kt){nt.dispatchEvent(kt)}remove(nt){nt.remove()}createElement(nt,kt){return(kt=kt||this.getDefaultDocument()).createElement(nt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(nt){return nt.nodeType===Node.ELEMENT_NODE}isShadowRoot(nt){return nt instanceof DocumentFragment}getGlobalEventTarget(nt,kt){return"window"===kt?window:"document"===kt?nt:"body"===kt?nt.body:null}getBaseHref(nt){const kt=function he(){return le=le||document.querySelector("base"),le?le.getAttribute("href"):null}();return null==kt?null:function ye(Tt){return new URL(Tt,document.baseURI).pathname}(kt)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(nt){return(0,c._b)(document.cookie,nt)}}let le=null,Ge=(()=>{var Tt;class nt{build(){return new XMLHttpRequest}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac}),nt})();const Ce=new h.nKC("");let fe=(()=>{var Tt;class nt{constructor(rt,ut){this._zone=ut,this._eventNameToPlugin=new Map,rt.forEach(sn=>{sn.manager=this}),this._plugins=rt.slice().reverse()}addEventListener(rt,ut,sn){return this._findPluginFor(ut).addEventListener(rt,ut,sn)}getZone(){return this._zone}_findPluginFor(rt){let ut=this._eventNameToPlugin.get(rt);if(ut)return ut;if(ut=this._plugins.find(Z=>Z.supports(rt)),!ut)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(rt,ut),ut}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(Ce),h.KVO(h.SKi))},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac}),nt})();class $e{constructor(nt){this._doc=nt}}const He="ng-app-id";let Be=(()=>{var Tt;class nt{constructor(rt,ut,sn,Z={}){this.doc=rt,this.appId=ut,this.nonce=sn,this.platformId=Z,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(Z),this.resetHostNodes()}addStyles(rt){for(const ut of rt)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(rt){for(const ut of rt)this.changeUsageCount(ut,-1)<=0&&this.onStyleRemoved(ut)}ngOnDestroy(){const rt=this.styleNodesInDOM;rt&&(rt.forEach(ut=>ut.remove()),rt.clear());for(const ut of this.getAllStyles())this.onStyleRemoved(ut);this.resetHostNodes()}addHost(rt){this.hostNodes.add(rt);for(const ut of this.getAllStyles())this.addStyleToHost(rt,ut)}removeHost(rt){this.hostNodes.delete(rt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(rt){for(const ut of this.hostNodes)this.addStyleToHost(ut,rt)}onStyleRemoved(rt){var ut;const sn=this.styleRef;null===(ut=sn.get(rt))||void 0===ut||null===(ut=ut.elements)||void 0===ut||ut.forEach(Z=>Z.remove()),sn.delete(rt)}collectServerRenderedStyles(){var rt;const ut=null===(rt=this.doc.head)||void 0===rt?void 0:rt.querySelectorAll(`style[${He}="${this.appId}"]`);if(null!=ut&&ut.length){const sn=new Map;return ut.forEach(Z=>{null!=Z.textContent&&sn.set(Z.textContent,Z)}),sn}return null}changeUsageCount(rt,ut){const sn=this.styleRef;if(sn.has(rt)){const Z=sn.get(rt);return Z.usage+=ut,Z.usage}return sn.set(rt,{usage:ut,elements:[]}),ut}getStyleElement(rt,ut){const sn=this.styleNodesInDOM,Z=null==sn?void 0:sn.get(ut);if((null==Z?void 0:Z.parentNode)===rt)return sn.delete(ut),Z.removeAttribute(He),Z;{const P=this.doc.createElement("style");return this.nonce&&P.setAttribute("nonce",this.nonce),P.textContent=ut,this.platformIsServer&&P.setAttribute(He,this.appId),rt.appendChild(P),P}}addStyleToHost(rt,ut){var sn;const Z=this.getStyleElement(rt,ut),P=this.styleRef,F=null===(sn=P.get(ut))||void 0===sn?void 0:sn.elements;F?F.push(Z):P.set(ut,{elements:[Z],usage:1})}resetHostNodes(){const rt=this.hostNodes;rt.clear(),rt.add(this.doc.head)}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(c.qQ),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac}),nt})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dt=/%COMP%/g,tt=new h.nKC("",{providedIn:"root",factory:()=>!0});function it(Tt,nt){return nt.map(kt=>kt.replace(dt,Tt))}let vt=(()=>{var Tt;class nt{constructor(rt,ut,sn,Z,P,F,ce,ae=null){this.eventManager=rt,this.sharedStylesHost=ut,this.appId=sn,this.removeStylesOnCompDestroy=Z,this.doc=P,this.platformId=F,this.ngZone=ce,this.nonce=ae,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(F),this.defaultRenderer=new Dt(rt,P,ce,this.platformIsServer)}createRenderer(rt,ut){if(!rt||!ut)return this.defaultRenderer;this.platformIsServer&&ut.encapsulation===h.gXe.ShadowDom&&(ut={...ut,encapsulation:h.gXe.Emulated});const sn=this.getOrCreateRenderer(rt,ut);return sn instanceof Zt?sn.applyToHost(rt):sn instanceof En&&sn.applyStyles(),sn}getOrCreateRenderer(rt,ut){const sn=this.rendererByCompId;let Z=sn.get(ut.id);if(!Z){const P=this.doc,F=this.ngZone,ce=this.eventManager,ae=this.sharedStylesHost,Qe=this.removeStylesOnCompDestroy,Et=this.platformIsServer;switch(ut.encapsulation){case h.gXe.Emulated:Z=new Zt(ce,ae,ut,this.appId,Qe,P,F,Et);break;case h.gXe.ShadowDom:return new Qt(ce,ae,rt,ut,P,F,this.nonce,Et);default:Z=new En(ce,ae,ut,Qe,P,F,Et)}sn.set(ut.id,Z)}return Z}ngOnDestroy(){this.rendererByCompId.clear()}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(fe),h.KVO(Be),h.KVO(h.sZ2),h.KVO(tt),h.KVO(c.qQ),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS))},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac}),nt})();class Dt{constructor(nt,kt,rt,ut){this.eventManager=nt,this.doc=kt,this.ngZone=rt,this.platformIsServer=ut,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(nt,kt){return kt?this.doc.createElementNS(st[kt]||kt,nt):this.doc.createElement(nt)}createComment(nt){return this.doc.createComment(nt)}createText(nt){return this.doc.createTextNode(nt)}appendChild(nt,kt){($t(nt)?nt.content:nt).appendChild(kt)}insertBefore(nt,kt,rt){nt&&($t(nt)?nt.content:nt).insertBefore(kt,rt)}removeChild(nt,kt){kt.remove()}selectRootElement(nt,kt){let rt="string"==typeof nt?this.doc.querySelector(nt):nt;if(!rt)throw new h.wOt(-5104,!1);return kt||(rt.textContent=""),rt}parentNode(nt){return nt.parentNode}nextSibling(nt){return nt.nextSibling}setAttribute(nt,kt,rt,ut){if(ut){kt=ut+":"+kt;const sn=st[ut];sn?nt.setAttributeNS(sn,kt,rt):nt.setAttribute(kt,rt)}else nt.setAttribute(kt,rt)}removeAttribute(nt,kt,rt){if(rt){const ut=st[rt];ut?nt.removeAttributeNS(ut,kt):nt.removeAttribute(`${rt}:${kt}`)}else nt.removeAttribute(kt)}addClass(nt,kt){nt.classList.add(kt)}removeClass(nt,kt){nt.classList.remove(kt)}setStyle(nt,kt,rt,ut){ut&(h.czy.DashCase|h.czy.Important)?nt.style.setProperty(kt,rt,ut&h.czy.Important?"important":""):nt.style[kt]=rt}removeStyle(nt,kt,rt){rt&h.czy.DashCase?nt.style.removeProperty(kt):nt.style[kt]=""}setProperty(nt,kt,rt){null!=nt&&(nt[kt]=rt)}setValue(nt,kt){nt.nodeValue=kt}listen(nt,kt,rt){if("string"==typeof nt&&!(nt=(0,c.QT)().getGlobalEventTarget(this.doc,nt)))throw new Error(`Unsupported event target ${nt} for event ${kt}`);return this.eventManager.addEventListener(nt,kt,this.decoratePreventDefault(rt))}decoratePreventDefault(nt){return kt=>{if("__ngUnwrap__"===kt)return nt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>nt(kt)):nt(kt))&&kt.preventDefault()}}}function $t(Tt){return"TEMPLATE"===Tt.tagName&&void 0!==Tt.content}class Qt extends Dt{constructor(nt,kt,rt,ut,sn,Z,P,F){super(nt,sn,Z,F),this.sharedStylesHost=kt,this.hostEl=rt,this.shadowRoot=rt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ce=it(ut.id,ut.styles);for(const ae of ce){const Qe=document.createElement("style");P&&Qe.setAttribute("nonce",P),Qe.textContent=ae,this.shadowRoot.appendChild(Qe)}}nodeOrShadowRoot(nt){return nt===this.hostEl?this.shadowRoot:nt}appendChild(nt,kt){return super.appendChild(this.nodeOrShadowRoot(nt),kt)}insertBefore(nt,kt,rt){return super.insertBefore(this.nodeOrShadowRoot(nt),kt,rt)}removeChild(nt,kt){return super.removeChild(null,kt)}parentNode(nt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(nt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class En extends Dt{constructor(nt,kt,rt,ut,sn,Z,P,F){super(nt,sn,Z,P),this.sharedStylesHost=kt,this.removeStylesOnCompDestroy=ut,this.styles=F?it(F,rt.styles):rt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Zt extends En{constructor(nt,kt,rt,ut,sn,Z,P,F){const ce=ut+"-"+rt.id;super(nt,kt,rt,sn,Z,P,F,ce),this.contentAttr=function be(Tt){return"_ngcontent-%COMP%".replace(dt,Tt)}(ce),this.hostAttr=function ke(Tt){return"_nghost-%COMP%".replace(dt,Tt)}(ce)}applyToHost(nt){this.applyStyles(),this.setAttribute(nt,this.hostAttr,"")}createElement(nt,kt){const rt=super.createElement(nt,kt);return super.setAttribute(rt,this.contentAttr,""),rt}}let Nn=(()=>{var Tt;class nt extends $e{constructor(rt){super(rt)}supports(rt){return!0}addEventListener(rt,ut,sn){return rt.addEventListener(ut,sn,!1),()=>this.removeEventListener(rt,ut,sn)}removeEventListener(rt,ut,sn){return rt.removeEventListener(ut,sn)}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(c.qQ))},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac}),nt})();const _t=["alt","control","meta","shift"],Pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},te={alt:Tt=>Tt.altKey,control:Tt=>Tt.ctrlKey,meta:Tt=>Tt.metaKey,shift:Tt=>Tt.shiftKey};let ne=(()=>{var Tt;class nt extends $e{constructor(rt){super(rt)}supports(rt){return null!=nt.parseEventName(rt)}addEventListener(rt,ut,sn){const Z=nt.parseEventName(ut),P=nt.eventCallback(Z.fullKey,sn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(rt,Z.domEventName,P))}static parseEventName(rt){const ut=rt.toLowerCase().split("."),sn=ut.shift();if(0===ut.length||"keydown"!==sn&&"keyup"!==sn)return null;const Z=nt._normalizeKey(ut.pop());let P="",F=ut.indexOf("code");if(F>-1&&(ut.splice(F,1),P="code."),_t.forEach(ae=>{const Qe=ut.indexOf(ae);Qe>-1&&(ut.splice(Qe,1),P+=ae+".")}),P+=Z,0!=ut.length||0===Z.length)return null;const ce={};return ce.domEventName=sn,ce.fullKey=P,ce}static matchEventFullKeyCode(rt,ut){let sn=Pe[rt.key]||rt.key,Z="";return ut.indexOf("code.")>-1&&(sn=rt.code,Z="code."),!(null==sn||!sn)&&(sn=sn.toLowerCase()," "===sn?sn="space":"."===sn&&(sn="dot"),_t.forEach(P=>{P!==sn&&(0,te[P])(rt)&&(Z+=P+".")}),Z+=sn,Z===ut)}static eventCallback(rt,ut,sn){return Z=>{nt.matchEventFullKeyCode(Z,rt)&&sn.runGuarded(()=>ut(Z))}}static _normalizeKey(rt){return"esc"===rt?"escape":rt}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(c.qQ))},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac}),nt})();const jt=(0,h.oH4)(h.fpN,"browser",[{provide:h.Agw,useValue:c.AJ},{provide:h.PLl,useValue:function Ye(){Se.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function Rt(){return(0,h.TL$)(document),document},deps:[]}]),In=new h.nKC(""),Vn=[{provide:h.e01,useClass:class Le{addToWindow(nt){h.JZv.getAngularTestability=(rt,ut=!0)=>{const sn=nt.findTestabilityInTree(rt,ut);if(null==sn)throw new h.wOt(5103,!1);return sn},h.JZv.getAllAngularTestabilities=()=>nt.getAllTestabilities(),h.JZv.getAllAngularRootElements=()=>nt.getAllRootElements(),h.JZv.frameworkStabilizers||(h.JZv.frameworkStabilizers=[]),h.JZv.frameworkStabilizers.push(rt=>{const ut=h.JZv.getAllAngularTestabilities();let sn=ut.length;const Z=function(){sn--,0==sn&&rt()};ut.forEach(P=>{P.whenStable(Z)})})}findTestabilityInTree(nt,kt,rt){if(null==kt)return null;const ut=nt.getTestability(kt);return null!=ut?ut:rt?(0,c.QT)().isShadowRoot(kt)?this.findTestabilityInTree(nt,kt.host,!0):this.findTestabilityInTree(nt,kt.parentElement,!0):null}},deps:[]},{provide:h.WHO,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]},{provide:h.NYb,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]}],tr=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function Xe(){return new h.zcH},deps:[]},{provide:Ce,useClass:Nn,multi:!0,deps:[c.qQ,h.SKi,h.Agw]},{provide:Ce,useClass:ne,multi:!0,deps:[c.qQ]},vt,Be,fe,{provide:h._9s,useExisting:vt},{provide:c.N0,useClass:Ge,deps:[]},[]];let qn=(()=>{var Tt;class nt{constructor(rt){}static withServerTransition(rt){return{ngModule:nt,providers:[{provide:h.sZ2,useValue:rt.appId}]}}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(In,12))},Tt.\u0275mod=h.$C({type:Tt}),Tt.\u0275inj=h.G2t({providers:[...tr,...Vn],imports:[c.MD,h.Hbi]}),nt})(),rr=(()=>{var Tt;class nt{constructor(rt){this._doc=rt}getTitle(){return this._doc.title}setTitle(rt){this._doc.title=rt||""}}return(Tt=nt).\u0275fac=function(rt){return new(rt||Tt)(h.KVO(c.qQ))},Tt.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac,providedIn:"root"}),nt})()},9384:(bn,ht,O)=>{"use strict";O.d(ht,{nX:()=>zt,Zp:()=>_e,Z:()=>Mn,Xk:()=>we,Kp:()=>Wi,b:()=>je,Ix:()=>wr,Wk:()=>Sn,iI:()=>Ro,Sd:()=>Ln});var c=O(4438),h=O(1985),L=O(8071),le=O(8455),he=O(7673),ye=O(4412),Le=O(4572),Ge=O(9350),Ce=O(8793),fe=O(8750);function $e(E){return new h.c(S=>{(0,fe.Tg)(E()).subscribe(S)})}var He=O(1203);function Be(E,S){const k=(0,L.T)(E)?E:()=>E,D=U=>U.error(k());return new h.c(S?U=>S.schedule(D,0,U):D)}var st=O(983),dt=O(8359),lt=O(9974),et=O(4360);function ft(){return(0,lt.N)((E,S)=>{let k=null;E._refCount++;const D=(0,et._)(S,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(k=null);const U=E._connection,pe=k;k=null,U&&(!pe||U===pe)&&U.unsubscribe(),S.unsubscribe()});E.subscribe(D),D.closed||(k=E.connect())})}class Ke extends h.c{constructor(S,k){super(),this.source=S,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,lt.S)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new dt.yU;const k=this.getSubject();S.add(this.source.subscribe((0,et._)(k,void 0,()=>{this._teardown(),k.complete()},D=>{this._teardown(),k.error(D)},()=>this._teardown()))),S.closed&&(this._connection=null,S=dt.yU.EMPTY)}return S}refCount(){return ft()(this)}}var tt=O(1413),be=O(177),ke=O(6354),it=O(5558),vt=O(6697),Dt=O(9172),ze=O(5964),Ve=O(1397),$t=O(1594),Qt=O(274),En=O(8141);function Zt(E){return(0,lt.N)((S,k)=>{let pe,D=null,U=!1;D=S.subscribe((0,et._)(k,void 0,void 0,Ee=>{pe=(0,fe.Tg)(E(Ee,Zt(E)(S))),D?(D.unsubscribe(),D=null,pe.subscribe(k)):U=!0})),U&&(D.unsubscribe(),D=null,pe.subscribe(k))})}var Nn=O(2816),_t=O(9901);function Pe(E){return E<=0?()=>st.w:(0,lt.N)((S,k)=>{let D=[];S.subscribe((0,et._)(k,U=>{D.push(U),E<D.length&&D.shift()},()=>{for(const U of D)k.next(U);k.complete()},void 0,()=>{D=null}))})}var te=O(3774),ne=O(3669),ve=O(980),Me=O(5343),Xe=O(6365),Rt=O(345);const we="primary",jt=Symbol("RouteTitle");class In{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const k=this.params[S];return Array.isArray(k)?k[0]:k}return null}getAll(S){if(this.has(S)){const k=this.params[S];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function Vn(E){return new In(E)}function tr(E,S,k){const D=k.path.split("/");if(D.length>E.length||"full"===k.pathMatch&&(S.hasChildren()||D.length<E.length))return null;const U={};for(let pe=0;pe<D.length;pe++){const Ee=D[pe],bt=E[pe];if(":"===Ee[0])U[Ee.substring(1)]=bt;else if(Ee!==bt.path)return null}return{consumed:E.slice(0,D.length),posParams:U}}function Jn(E,S){const k=E?nr(E):void 0,D=S?nr(S):void 0;if(!k||!D||k.length!=D.length)return!1;let U;for(let pe=0;pe<k.length;pe++)if(U=k[pe],!rr(E[U],S[U]))return!1;return!0}function nr(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function rr(E,S){if(Array.isArray(E)&&Array.isArray(S)){if(E.length!==S.length)return!1;const k=[...E].sort(),D=[...S].sort();return k.every((U,pe)=>D[pe]===U)}return E===S}function tn(E){return E.length>0?E[E.length-1]:null}function Lt(E){return function Se(E){return!!E&&(E instanceof h.c||(0,L.T)(E.lift)&&(0,L.T)(E.subscribe))}(E)?E:(0,c.jNT)(E)?(0,le.H)(Promise.resolve(E)):(0,he.of)(E)}const Ft={exact:function fr(E,S,k){if(!Er(E.segments,S.segments)||!Ir(E.segments,S.segments,k)||E.numberOfChildren!==S.numberOfChildren)return!1;for(const D in S.children)if(!E.children[D]||!fr(E.children[D],S.children[D],k))return!1;return!0},subset:Pn},on={exact:function yr(E,S){return Jn(E,S)},subset:function On(E,S){return Object.keys(S).length<=Object.keys(E).length&&Object.keys(S).every(k=>rr(E[k],S[k]))},ignored:()=>!0};function Ot(E,S,k){return Ft[k.paths](E.root,S.root,k.matrixParams)&&on[k.queryParams](E.queryParams,S.queryParams)&&!("exact"===k.fragment&&E.fragment!==S.fragment)}function Pn(E,S,k){return ur(E,S,S.segments,k)}function ur(E,S,k,D){if(E.segments.length>k.length){const U=E.segments.slice(0,k.length);return!(!Er(U,k)||S.hasChildren()||!Ir(U,k,D))}if(E.segments.length===k.length){if(!Er(E.segments,k)||!Ir(E.segments,k,D))return!1;for(const U in S.children)if(!E.children[U]||!Pn(E.children[U],S.children[U],D))return!1;return!0}{const U=k.slice(0,E.segments.length),pe=k.slice(E.segments.length);return!!(Er(E.segments,U)&&Ir(E.segments,U,D)&&E.children[we])&&ur(E.children[we],S,pe,D)}}function Ir(E,S,k){return S.every((D,U)=>on[k](E[U].parameters,D.parameters))}class Qn{constructor(S=new Kn([],{}),k={},D=null){this.root=S,this.queryParams=k,this.fragment=D}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return Cr.serialize(this)}}class Kn{constructor(S,k){this.segments=S,this.children=k,this.parent=null,Object.values(k).forEach(D=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zr(this)}}class mr{constructor(S,k){this.path=S,this.parameters=k}get parameterMap(){var S;return null!==(S=this._parameterMap)&&void 0!==S||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return rt(this)}}function Er(E,S){return E.length===S.length&&E.every((k,D)=>k.path===S[D].path)}let Ln=(()=>{var E;class S{}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:()=>new si,providedIn:"root"}),S})();class si{parse(S){const k=new fn(S);return new Qn(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(S){const k=`/${$n(S.root,!0)}`,D=function sn(E){const S=Object.entries(E).map(([k,D])=>Array.isArray(D)?D.map(U=>`${Or(k)}=${Or(U)}`).join("&"):`${Or(k)}=${Or(D)}`).filter(k=>k);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${k}${D}${"string"==typeof S.fragment?`#${function vr(E){return encodeURI(E)}(S.fragment)}`:""}`}}const Cr=new si;function Zr(E){return E.segments.map(S=>rt(S)).join("/")}function $n(E,S){if(!E.hasChildren())return Zr(E);if(S){const k=E.children[we]?$n(E.children[we],!1):"",D=[];return Object.entries(E.children).forEach(([U,pe])=>{U!==we&&D.push(`${U}:${$n(pe,!1)}`)}),D.length>0?`${k}(${D.join("//")})`:k}{const k=function Pr(E,S){let k=[];return Object.entries(E.children).forEach(([D,U])=>{D===we&&(k=k.concat(S(U,D)))}),Object.entries(E.children).forEach(([D,U])=>{D!==we&&(k=k.concat(S(U,D)))}),k}(E,(D,U)=>U===we?[$n(E.children[we],!1)]:[`${U}:${$n(D,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[we]?`${Zr(E)}/${k[0]}`:`${Zr(E)}/(${k.join("//")})`}}function Rn(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Or(E){return Rn(E).replace(/%3B/gi,";")}function Tt(E){return Rn(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nt(E){return decodeURIComponent(E)}function kt(E){return nt(E.replace(/\+/g,"%20"))}function rt(E){return`${Tt(E.path)}${function ut(E){return Object.entries(E).map(([S,k])=>`;${Tt(S)}=${Tt(k)}`).join("")}(E.parameters)}`}const Z=/^[^\/()?;#]+/;function P(E){const S=E.match(Z);return S?S[0]:""}const F=/^[^\/()?;=#]+/,ae=/^[^=?&#]+/,Et=/^[^&#]+/;class fn{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(S.length>0||Object.keys(k).length>0)&&(D[we]=new Kn(S,k)),D}parseSegment(){const S=P(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(S),new mr(nt(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const k=function ce(E){const S=E.match(F);return S?S[0]:""}(this.remaining);if(!k)return;this.capture(k);let D="";if(this.consumeOptional("=")){const U=P(this.remaining);U&&(D=U,this.capture(D))}S[nt(k)]=nt(D)}parseQueryParam(S){const k=function Qe(E){const S=E.match(ae);return S?S[0]:""}(this.remaining);if(!k)return;this.capture(k);let D="";if(this.consumeOptional("=")){const Ee=function Ut(E){const S=E.match(Et);return S?S[0]:""}(this.remaining);Ee&&(D=Ee,this.capture(D))}const U=kt(k),pe=kt(D);if(S.hasOwnProperty(U)){let Ee=S[U];Array.isArray(Ee)||(Ee=[Ee],S[U]=Ee),Ee.push(pe)}else S[U]=pe}parseParens(S){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=P(this.remaining),U=this.remaining[D.length];if("/"!==U&&")"!==U&&";"!==U)throw new c.wOt(4010,!1);let pe;D.indexOf(":")>-1?(pe=D.slice(0,D.indexOf(":")),this.capture(pe),this.capture(":")):S&&(pe=we);const Ee=this.parseChildren();k[pe]=1===Object.keys(Ee).length?Ee[we]:new Kn([],Ee),this.consumeOptional("//")}return k}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new c.wOt(4011,!1)}}function un(E){return E.segments.length>0?new Kn([],{[we]:E}):E}function vn(E){const S={};for(const[D,U]of Object.entries(E.children)){const pe=vn(U);if(D===we&&0===pe.segments.length&&pe.hasChildren())for(const[Ee,bt]of Object.entries(pe.children))S[Ee]=bt;else(pe.segments.length>0||pe.hasChildren())&&(S[D]=pe)}return function ln(E){if(1===E.numberOfChildren&&E.children[we]){const S=E.children[we];return new Kn(E.segments.concat(S.segments),S.children)}return E}(new Kn(E.segments,S))}function dr(E){return E instanceof Qn}function Gn(E){var S;let k;const pe=un(function D(Ee){const bt={};for(const Mt of Ee.children){const Hn=D(Mt);bt[Mt.outlet]=Hn}const cn=new Kn(Ee.url,bt);return Ee===E&&(k=cn),cn}(E.root));return null!==(S=k)&&void 0!==S?S:pe}function ni(E,S,k,D){let U=E;for(;U.parent;)U=U.parent;if(0===S.length)return Mi(U,U,U,k,D);const pe=function ie(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Sr(!0,0,E);let S=0,k=!1;const D=E.reduce((U,pe,Ee)=>{if("object"==typeof pe&&null!=pe){if(pe.outlets){const bt={};return Object.entries(pe.outlets).forEach(([cn,Mt])=>{bt[cn]="string"==typeof Mt?Mt.split("/"):Mt}),[...U,{outlets:bt}]}if(pe.segmentPath)return[...U,pe.segmentPath]}return"string"!=typeof pe?[...U,pe]:0===Ee?(pe.split("/").forEach((bt,cn)=>{0==cn&&"."===bt||(0==cn&&""===bt?k=!0:".."===bt?S++:""!=bt&&U.push(bt))}),U):[...U,pe]},[]);return new Sr(k,S,D)}(S);if(pe.toRoot())return Mi(U,U,new Kn([],{}),k,D);const Ee=function Ae(E,S,k){if(E.isAbsolute)return new K(S,!0,0);if(!k)return new K(S,!1,NaN);if(null===k.parent)return new K(k,!0,0);const D=Ai(E.commands[0])?0:1;return function J(E,S,k){let D=E,U=S,pe=k;for(;pe>U;){if(pe-=U,D=D.parent,!D)throw new c.wOt(4005,!1);U=D.segments.length}return new K(D,!1,U-pe)}(k,k.segments.length-1+D,E.numberOfDoubleDots)}(pe,U,E),bt=Ee.processChildren?It(Ee.segmentGroup,Ee.index,pe.commands):xe(Ee.segmentGroup,Ee.index,pe.commands);return Mi(U,Ee.segmentGroup,bt,k,D)}function Ai(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Ci(E){return"object"==typeof E&&null!=E&&E.outlets}function Mi(E,S,k,D,U){let Ee,pe={};D&&Object.entries(D).forEach(([cn,Mt])=>{pe[cn]=Array.isArray(Mt)?Mt.map(Hn=>`${Hn}`):`${Mt}`}),Ee=E===S?k:Gi(E,S,k);const bt=un(vn(Ee));return new Qn(bt,pe,U)}function Gi(E,S,k){const D={};return Object.entries(E.children).forEach(([U,pe])=>{D[U]=pe===S?k:Gi(pe,S,k)}),new Kn(E.segments,D)}class Sr{constructor(S,k,D){if(this.isAbsolute=S,this.numberOfDoubleDots=k,this.commands=D,S&&D.length>0&&Ai(D[0]))throw new c.wOt(4003,!1);const U=D.find(Ci);if(U&&U!==tn(D))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K{constructor(S,k,D){this.segmentGroup=S,this.processChildren=k,this.index=D}}function xe(E,S,k){var D;if(null!==(D=E)&&void 0!==D||(E=new Kn([],{})),0===E.segments.length&&E.hasChildren())return It(E,S,k);const U=function Kt(E,S,k){let D=0,U=S;const pe={match:!1,pathIndex:0,commandIndex:0};for(;U<E.segments.length;){if(D>=k.length)return pe;const Ee=E.segments[U],bt=k[D];if(Ci(bt))break;const cn=`${bt}`,Mt=D<k.length-1?k[D+1]:null;if(U>0&&void 0===cn)break;if(cn&&Mt&&"object"==typeof Mt&&void 0===Mt.outlets){if(!ot(cn,Mt,Ee))return pe;D+=2}else{if(!ot(cn,{},Ee))return pe;D++}U++}return{match:!0,pathIndex:U,commandIndex:D}}(E,S,k),pe=k.slice(U.commandIndex);if(U.match&&U.pathIndex<E.segments.length){const Ee=new Kn(E.segments.slice(0,U.pathIndex),{});return Ee.children[we]=new Kn(E.segments.slice(U.pathIndex),E.children),It(Ee,0,pe)}return U.match&&0===pe.length?new Kn(E.segments,{}):U.match&&!E.hasChildren()?mn(E,S,k):U.match?It(E,0,pe):mn(E,S,k)}function It(E,S,k){if(0===k.length)return new Kn(E.segments,{});{const D=function ee(E){return Ci(E[0])?E[0].outlets:{[we]:E}}(k),U={};if(Object.keys(D).some(pe=>pe!==we)&&E.children[we]&&1===E.numberOfChildren&&0===E.children[we].segments.length){const pe=It(E.children[we],S,k);return new Kn(E.segments,pe.children)}return Object.entries(D).forEach(([pe,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(U[pe]=xe(E.children[pe],S,Ee))}),Object.entries(E.children).forEach(([pe,Ee])=>{void 0===D[pe]&&(U[pe]=Ee)}),new Kn(E.segments,U)}}function mn(E,S,k){const D=E.segments.slice(0,S);let U=0;for(;U<k.length;){const pe=k[U];if(Ci(pe)){const cn=se(pe.outlets);return new Kn(D,cn)}if(0===U&&Ai(k[0])){D.push(new mr(E.segments[S].path,Ne(k[0]))),U++;continue}const Ee=Ci(pe)?pe.outlets[we]:`${pe}`,bt=U<k.length-1?k[U+1]:null;Ee&&bt&&Ai(bt)?(D.push(new mr(Ee,Ne(bt))),U+=2):(D.push(new mr(Ee,{})),U++)}return new Kn(D,{})}function se(E){const S={};return Object.entries(E).forEach(([k,D])=>{"string"==typeof D&&(D=[D]),null!==D&&(S[k]=mn(new Kn([],{}),0,D))}),S}function Ne(E){const S={};return Object.entries(E).forEach(([k,D])=>S[k]=`${D}`),S}function ot(E,S,k){return E==k.path&&Jn(S,k.parameters)}const yt="imperative";var Nt=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(Nt||{});class dn{constructor(S,k){this.id=S,this.url=k}}class Mn extends dn{constructor(S,k,D="imperative",U=null){super(S,k),this.type=Nt.NavigationStart,this.navigationTrigger=D,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class An extends dn{constructor(S,k,D){super(S,k),this.urlAfterRedirects=D,this.type=Nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var cr=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(cr||{}),sr=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(sr||{});class xr extends dn{constructor(S,k,D,U){super(S,k),this.reason=D,this.code=U,this.type=Nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vi extends dn{constructor(S,k,D,U){super(S,k),this.reason=D,this.code=U,this.type=Nt.NavigationSkipped}}class Ri extends dn{constructor(S,k,D,U){super(S,k),this.error=D,this.target=U,this.type=Nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ai extends dn{constructor(S,k,D,U){super(S,k),this.urlAfterRedirects=D,this.state=U,this.type=Nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends dn{constructor(S,k,D,U){super(S,k),this.urlAfterRedirects=D,this.state=U,this.type=Nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class li extends dn{constructor(S,k,D,U,pe){super(S,k),this.urlAfterRedirects=D,this.state=U,this.shouldActivate=pe,this.type=Nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $r extends dn{constructor(S,k,D,U){super(S,k),this.urlAfterRedirects=D,this.state=U,this.type=Nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends dn{constructor(S,k,D,U){super(S,k),this.urlAfterRedirects=D,this.state=U,this.type=Nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bi{constructor(S){this.route=S,this.type=Nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wr{constructor(S){this.route=S,this.type=Nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qr{constructor(S){this.snapshot=S,this.type=Nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(S){this.snapshot=S,this.type=Nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(S){this.snapshot=S,this.type=Nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(S){this.snapshot=S,this.type=Nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(S,k,D){this.routerEvent=S,this.position=k,this.anchor=D,this.type=Nt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vi{}class xo{constructor(S,k){this.url=S,this.navigationBehaviorOptions=k}}function Fi(E){return E.outlet||we}function x(E){var S;if(!E)return null;if(null!==(S=E.routeConfig)&&void 0!==S&&S._injector)return E.routeConfig._injector;for(let k=E.parent;k;k=k.parent){const D=k.routeConfig;if(null!=D&&D._loadedInjector)return D._loadedInjector;if(null!=D&&D._injector)return D._injector}return null}class X{get injector(){var S,k;return null!==(S=x(null===(k=this.route)||void 0===k?void 0:k.snapshot))&&void 0!==S?S:this.rootInjector}set injector(S){}constructor(S){this.rootInjector=S,this.outlet=null,this.route=null,this.children=new _e(this.rootInjector),this.attachRef=null}}let _e=(()=>{var E;class S{constructor(D){this.rootInjector=D,this.contexts=new Map}onChildOutletCreated(D,U){const pe=this.getOrCreateContext(D);pe.outlet=U,this.contexts.set(D,pe)}onChildOutletDestroyed(D){const U=this.getContext(D);U&&(U.outlet=null,U.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let U=this.getContext(D);return U||(U=new X(this.rootInjector),this.contexts.set(D,U)),U}getContext(D){return this.contexts.get(D)||null}}return(E=S).\u0275fac=function(D){return new(D||E)(c.KVO(c.uvJ))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();class y{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const k=this.pathFromRoot(S);return k.length>1?k[k.length-2]:null}children(S){const k=M(S,this._root);return k?k.children.map(D=>D.value):[]}firstChild(S){const k=M(S,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(S){const k=Q(S,this._root);return k.length<2?[]:k[k.length-2].children.map(U=>U.value).filter(U=>U!==S)}pathFromRoot(S){return Q(S,this._root).map(k=>k.value)}}function M(E,S){if(E===S.value)return S;for(const k of S.children){const D=M(E,k);if(D)return D}return null}function Q(E,S){if(E===S.value)return[S];for(const k of S.children){const D=Q(E,k);if(D.length)return D.unshift(S),D}return[]}class Fe{constructor(S,k){this.value=S,this.children=k}toString(){return`TreeNode(${this.value})`}}function ct(E){const S={};return E&&E.children.forEach(k=>S[k.value.outlet]=k),S}class at extends y{constructor(S,k){super(S),this.snapshot=k,Yn(this,S)}toString(){return this.snapshot.toString()}}function en(E){const S=function wt(E){const pe=new Fn([],{},{},"",{},we,E,null,{});return new Wn("",new Fe(pe,[]))}(E),k=new ye.t([new mr("",{})]),D=new ye.t({}),U=new ye.t({}),pe=new ye.t({}),Ee=new ye.t(""),bt=new zt(k,D,pe,Ee,U,we,E,S.root);return bt.snapshot=S.root,new at(new Fe(bt,[]),S)}class zt{constructor(S,k,D,U,pe,Ee,bt,cn){var Mt,Hn;this.urlSubject=S,this.paramsSubject=k,this.queryParamsSubject=D,this.fragmentSubject=U,this.dataSubject=pe,this.outlet=Ee,this.component=bt,this._futureSnapshot=cn,this.title=null!==(Mt=null===(Hn=this.dataSubject)||void 0===Hn?void 0:Hn.pipe((0,ke.T)(Nr=>Nr[jt])))&&void 0!==Mt?Mt:(0,he.of)(void 0),this.url=S,this.params=k,this.queryParams=D,this.fragment=U,this.data=pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=this.params.pipe((0,ke.T)(k=>Vn(k)))),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=this.queryParams.pipe((0,ke.T)(k=>Vn(k)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function an(E,S,k="emptyOnly"){var D;let U;const{routeConfig:pe}=E;var Ee;return U=null===S||"always"!==k&&""!==(null==pe?void 0:pe.path)&&(S.component||null!==(D=S.routeConfig)&&void 0!==D&&D.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...null!==(Ee=E._resolvedData)&&void 0!==Ee?Ee:{}}}:{params:{...S.params,...E.params},data:{...S.data,...E.data},resolve:{...E.data,...S.data,...null==pe?void 0:pe.data,...E._resolvedData}},pe&&wi(pe)&&(U.resolve[jt]=pe.title),U}class Fn{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[jt]}constructor(S,k,D,U,pe,Ee,bt,cn,Mt){this.url=S,this.params=k,this.queryParams=D,this.fragment=U,this.data=pe,this.outlet=Ee,this.component=bt,this.routeConfig=cn,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var S;return null!==(S=this._paramMap)&&void 0!==S||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){var S;return null!==(S=this._queryParamMap)&&void 0!==S||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wn extends y{constructor(S,k){super(k),this.url=S,Yn(this,k)}toString(){return pr(this._root)}}function Yn(E,S){S.value._routerState=E,S.children.forEach(k=>Yn(E,k))}function pr(E){const S=E.children.length>0?` { ${E.children.map(pr).join(", ")} } `:"";return`${E.value}${S}`}function Vr(E){if(E.snapshot){const S=E.snapshot,k=E._futureSnapshot;E.snapshot=k,Jn(S.queryParams,k.queryParams)||E.queryParamsSubject.next(k.queryParams),S.fragment!==k.fragment&&E.fragmentSubject.next(k.fragment),Jn(S.params,k.params)||E.paramsSubject.next(k.params),function qn(E,S){if(E.length!==S.length)return!1;for(let k=0;k<E.length;++k)if(!Jn(E[k],S[k]))return!1;return!0}(S.url,k.url)||E.urlSubject.next(k.url),Jn(S.data,k.data)||E.dataSubject.next(k.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function _i(E,S){const k=Jn(E.params,S.params)&&function Xr(E,S){return Er(E,S)&&E.every((k,D)=>Jn(k.parameters,S[D].parameters))}(E.url,S.url);return k&&!(!E.parent!=!S.parent)&&(!E.parent||_i(E.parent,S.parent))}function wi(E){return"string"==typeof E.title||null===E.title}let hi=(()=>{var E;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(_e),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)($o,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(D){if(D.name){const{firstChange:U,previousValue:pe}=D.name;if(U)return;this.isTrackedInParentContexts(pe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(pe)),this.initializeOutletWithName()}}ngOnDestroy(){var D;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(D=this.inputBinder)||void 0===D||D.unsubscribeFromRouteData(this)}isTrackedInParentContexts(D){var U;return(null===(U=this.parentContexts.getContext(D))||void 0===U?void 0:U.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const D=this.parentContexts.getContext(this.name);null!=D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,U){var pe;this.activated=D,this._activatedRoute=U,this.location.insert(D.hostView),null===(pe=this.inputBinder)||void 0===pe||pe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,U){var pe;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=D;const Ee=this.location,cn=D.snapshot.component,Mt=this.parentContexts.getOrCreateContext(this.name).children,Hn=new Ei(D,Mt,Ee.injector);this.activated=Ee.createComponent(cn,{index:Ee.length,injector:Hn,environmentInjector:U}),this.changeDetector.markForCheck(),null===(pe=this.inputBinder)||void 0===pe||pe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275dir=c.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),S})();class Ei{__ngOutletInjector(S){return new Ei(this.route,this.childContexts,S)}constructor(S,k,D){this.route=S,this.childContexts=k,this.parent=D}get(S,k){return S===zt?this.route:S===_e?this.childContexts:this.parent.get(S,k)}}const $o=new c.nKC("");let Do=(()=>{var E;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(D){this.unsubscribeFromRouteData(D),this.subscribeToRouteData(D)}unsubscribeFromRouteData(D){var U;null===(U=this.outletDataSubscriptions.get(D))||void 0===U||U.unsubscribe(),this.outletDataSubscriptions.delete(D)}subscribeToRouteData(D){const{activatedRoute:U}=D,pe=(0,Le.z)([U.queryParams,U.params,U.data]).pipe((0,it.n)(([Ee,bt,cn],Mt)=>(cn={...Ee,...bt,...cn},0===Mt?(0,he.of)(cn):Promise.resolve(cn)))).subscribe(Ee=>{if(!D.isActivated||!D.activatedComponentRef||D.activatedRoute!==U||null===U.component)return void this.unsubscribeFromRouteData(D);const bt=(0,c.HJs)(U.component);if(bt)for(const{templateName:cn}of bt.inputs)D.activatedComponentRef.setInput(cn,Ee[cn]);else this.unsubscribeFromRouteData(D)});this.outletDataSubscriptions.set(D,pe)}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),S})();function ho(E,S,k){if(k&&E.shouldReuseRoute(S.value,k.value.snapshot)){const D=k.value;D._futureSnapshot=S.value;const U=function Ts(E,S,k){return S.children.map(D=>{for(const U of k.children)if(E.shouldReuseRoute(D.value,U.value.snapshot))return ho(E,D,U);return ho(E,D)})}(E,S,k);return new Fe(D,U)}{if(E.shouldAttach(S.value)){const pe=E.retrieve(S.value);if(null!==pe){const Ee=pe.route;return Ee.value._futureSnapshot=S.value,Ee.children=S.children.map(bt=>ho(E,bt)),Ee}}const D=function Da(E){return new zt(new ye.t(E.url),new ye.t(E.params),new ye.t(E.queryParams),new ye.t(E.fragment),new ye.t(E.data),E.outlet,E.component,E)}(S.value),U=S.children.map(pe=>ho(E,pe));return new Fe(D,U)}}class cs{constructor(S,k){this.redirectTo=S,this.navigationBehaviorOptions=k}}const Ga="ngNavigationCancelingError";function Zo(E,S){const{redirectTo:k,navigationBehaviorOptions:D}=dr(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,U=es(!1,cr.Redirect);return U.url=k,U.navigationBehaviorOptions=D,U}function es(E,S){const k=new Error(`NavigationCancelingError: ${E||""}`);return k[Ga]=!0,k.cancellationCode=S,k}function eo(E){return!!E&&E[Ga]}class ku{constructor(S,k,D,U,pe){this.routeReuseStrategy=S,this.futureState=k,this.currState=D,this.forwardEvent=U,this.inputBindingEnabled=pe}activate(S){const k=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,D,S),Vr(this.futureState.root),this.activateChildRoutes(k,D,S)}deactivateChildRoutes(S,k,D){const U=ct(k);S.children.forEach(pe=>{const Ee=pe.value.outlet;this.deactivateRoutes(pe,U[Ee],D),delete U[Ee]}),Object.values(U).forEach(pe=>{this.deactivateRouteAndItsChildren(pe,D)})}deactivateRoutes(S,k,D){const U=S.value,pe=k?k.value:null;if(U===pe)if(U.component){const Ee=D.getContext(U.outlet);Ee&&this.deactivateChildRoutes(S,k,Ee.children)}else this.deactivateChildRoutes(S,k,D);else pe&&this.deactivateRouteAndItsChildren(k,D)}deactivateRouteAndItsChildren(S,k){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,k):this.deactivateRouteAndOutlet(S,k)}detachAndStoreRouteSubtree(S,k){const D=k.getContext(S.value.outlet),U=D&&S.value.component?D.children:k,pe=ct(S);for(const Ee of Object.values(pe))this.deactivateRouteAndItsChildren(Ee,U);if(D&&D.outlet){const Ee=D.outlet.detach(),bt=D.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Ee,route:S,contexts:bt})}}deactivateRouteAndOutlet(S,k){const D=k.getContext(S.value.outlet),U=D&&S.value.component?D.children:k,pe=ct(S);for(const Ee of Object.values(pe))this.deactivateRouteAndItsChildren(Ee,U);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.route=null)}activateChildRoutes(S,k,D){const U=ct(k);S.children.forEach(pe=>{this.activateRoutes(pe,U[pe.value.outlet],D),this.forwardEvent(new Is(pe.value.snapshot))}),S.children.length&&this.forwardEvent(new er(S.value.snapshot))}activateRoutes(S,k,D){const U=S.value,pe=k?k.value:null;if(Vr(U),U===pe)if(U.component){const Ee=D.getOrCreateContext(U.outlet);this.activateChildRoutes(S,k,Ee.children)}else this.activateChildRoutes(S,k,D);else if(U.component){const Ee=D.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const bt=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),Ee.children.onOutletReAttached(bt.contexts),Ee.attachRef=bt.componentRef,Ee.route=bt.route.value,Ee.outlet&&Ee.outlet.attach(bt.componentRef,bt.route.value),Vr(bt.route.value),this.activateChildRoutes(S,null,Ee.children)}else Ee.attachRef=null,Ee.route=U,Ee.outlet&&Ee.outlet.activateWith(U,Ee.injector),this.activateChildRoutes(S,null,Ee.children)}else this.activateChildRoutes(S,null,D)}}class Wa{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Ui{constructor(S,k){this.component=S,this.route=k}}function ei(E,S,k){const D=E._root;return Zs(D,S?S._root:null,k,[D.value])}function Js(E,S){const k=Symbol(),D=S.get(E,k);return D===k?"function"!=typeof E||(0,c.LfX)(E)?S.get(E):E:D}function Zs(E,S,k,D,U={canDeactivateChecks:[],canActivateChecks:[]}){const pe=ct(S);return E.children.forEach(Ee=>{(function Ra(E,S,k,D,U={canDeactivateChecks:[],canActivateChecks:[]}){const pe=E.value,Ee=S?S.value:null,bt=k?k.getContext(E.value.outlet):null;if(Ee&&pe.routeConfig===Ee.routeConfig){const cn=function vo(E,S,k){if("function"==typeof k)return k(E,S);switch(k){case"pathParamsChange":return!Er(E.url,S.url);case"pathParamsOrQueryParamsChange":return!Er(E.url,S.url)||!Jn(E.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_i(E,S)||!Jn(E.queryParams,S.queryParams);default:return!_i(E,S)}}(Ee,pe,pe.routeConfig.runGuardsAndResolvers);cn?U.canActivateChecks.push(new Wa(D)):(pe.data=Ee.data,pe._resolvedData=Ee._resolvedData),Zs(E,S,pe.component?bt?bt.children:null:k,D,U),cn&&bt&&bt.outlet&&bt.outlet.isActivated&&U.canDeactivateChecks.push(new Ui(bt.outlet.component,Ee))}else Ee&&Oo(S,bt,U),U.canActivateChecks.push(new Wa(D)),Zs(E,null,pe.component?bt?bt.children:null:k,D,U)})(Ee,pe[Ee.value.outlet],k,D.concat([Ee.value]),U),delete pe[Ee.value.outlet]}),Object.entries(pe).forEach(([Ee,bt])=>Oo(bt,k.getContext(Ee),U)),U}function Oo(E,S,k){const D=ct(E),U=E.value;Object.entries(D).forEach(([pe,Ee])=>{Oo(Ee,U.component?S?S.children.getContext(pe):null:S,k)}),k.canDeactivateChecks.push(new Ui(U.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,U))}function Bo(E){return"function"==typeof E}function qa(E){return E instanceof Ge.G||"EmptyError"===(null==E?void 0:E.name)}const ui=Symbol("INITIAL_VALUE");function ds(){return(0,it.n)(E=>(0,Le.z)(E.map(S=>S.pipe((0,vt.s)(1),(0,Dt.Z)(ui)))).pipe((0,ke.T)(S=>{for(const k of S)if(!0!==k){if(k===ui)return ui;if(!1===k||Fu(k))return k}return!0}),(0,ze.p)(S=>S!==ui),(0,vt.s)(1)))}function Fu(E){return dr(E)||E instanceof cs}function pn(E){return(0,He.F)((0,En.M)(S=>{if("boolean"!=typeof S)throw Zo(0,S)}),(0,ke.T)(S=>!0===S))}class Di{constructor(S){this.segmentGroup=S||null}}class to extends Error{constructor(S){super(),this.urlTree=S}}function no(E){return Be(new Di(E))}class Xa{constructor(S,k){this.urlSerializer=S,this.urlTree=k}lineralizeSegments(S,k){let D=[],U=k.root;for(;;){if(D=D.concat(U.segments),0===U.numberOfChildren)return(0,he.of)(D);if(U.numberOfChildren>1||!U.children[we])return Be(new c.wOt(4e3,!1));U=U.children[we]}}applyRedirectCommands(S,k,D,U,pe){if("string"!=typeof k){const bt=k,{queryParams:cn,fragment:Mt,routeConfig:Hn,url:Nr,outlet:gi,params:jr,data:ao,title:ns}=U,Po=(0,c.N4e)(pe,()=>bt({params:jr,data:ao,queryParams:cn,fragment:Mt,routeConfig:Hn,url:Nr,outlet:gi,title:ns}));if(Po instanceof Qn)throw new to(Po);k=Po}const Ee=this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),S,D);if("/"===k[0])throw new to(Ee);return Ee}applyRedirectCreateUrlTree(S,k,D,U){const pe=this.createSegmentGroup(S,k.root,D,U);return new Qn(pe,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(S,k){const D={};return Object.entries(S).forEach(([U,pe])=>{if("string"==typeof pe&&":"===pe[0]){const bt=pe.substring(1);D[U]=k[bt]}else D[U]=pe}),D}createSegmentGroup(S,k,D,U){const pe=this.createSegments(S,k.segments,D,U);let Ee={};return Object.entries(k.children).forEach(([bt,cn])=>{Ee[bt]=this.createSegmentGroup(S,cn,D,U)}),new Kn(pe,Ee)}createSegments(S,k,D,U){return k.map(pe=>":"===pe.path[0]?this.findPosParam(S,pe,U):this.findOrReturn(pe,D))}findPosParam(S,k,D){const U=D[k.path.substring(1)];if(!U)throw new c.wOt(4001,!1);return U}findOrReturn(S,k){let D=0;for(const U of k){if(U.path===S.path)return k.splice(D),U;D++}return S}}const gl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kr(E,S,k,D,U){const pe=fo(E,S,k);return pe.matched?(D=function Es(E,S){var k;return E.providers&&!E._injector&&(E._injector=(0,c.Ol2)(E.providers,S,`Route: ${E.path}`)),null!==(k=E._injector)&&void 0!==k?k:S}(S,D),function Ar(E,S,k,D){const U=S.canMatch;if(!U||0===U.length)return(0,he.of)(!0);const pe=U.map(Ee=>{const bt=Js(Ee,E);return Lt(function ea(E){return E&&Bo(E.canMatch)}(bt)?bt.canMatch(S,k):(0,c.N4e)(E,()=>bt(S,k)))});return(0,he.of)(pe).pipe(ds(),pn())}(D,S,k).pipe((0,ke.T)(Ee=>!0===Ee?pe:{...gl}))):(0,he.of)(pe)}function fo(E,S,k){var D,U;if("**"===S.path)return function Qi(E){return{matched:!0,parameters:E.length>0?tn(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(k);if(""===S.path)return"full"===S.pathMatch&&(E.hasChildren()||k.length>0)?{...gl}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const Ee=(S.matcher||tr)(k,E,S);if(!Ee)return{...gl};const bt={};Object.entries(null!==(D=Ee.posParams)&&void 0!==D?D:{}).forEach(([Mt,Hn])=>{bt[Mt]=Hn.path});const cn=Ee.consumed.length>0?{...bt,...Ee.consumed[Ee.consumed.length-1].parameters}:bt;return{matched:!0,consumedSegments:Ee.consumed,remainingSegments:k.slice(Ee.consumed.length),parameters:cn,positionalParamSegments:null!==(U=Ee.posParams)&&void 0!==U?U:{}}}function na(E,S,k,D){return k.length>0&&function xa(E,S,k){return k.some(D=>Na(E,S,D)&&Fi(D)!==we)}(E,k,D)?{segmentGroup:new Kn(S,Cc(D,new Kn(k,E.children))),slicedSegments:[]}:0===k.length&&function fs(E,S,k){return k.some(D=>Na(E,S,D))}(E,k,D)?{segmentGroup:new Kn(E.segments,_o(E,k,D,E.children)),slicedSegments:k}:{segmentGroup:new Kn(E.segments,E.children),slicedSegments:k}}function _o(E,S,k,D){const U={};for(const pe of k)if(Na(E,S,pe)&&!D[Fi(pe)]){const Ee=new Kn([],{});U[Fi(pe)]=Ee}return{...D,...U}}function Cc(E,S){const k={};k[we]=S;for(const D of E)if(""===D.path&&Fi(D)!==we){const U=new Kn([],{});k[Fi(D)]=U}return k}function Na(E,S,k){return(!(E.hasChildren()||S.length>0)||"full"!==k.pathMatch)&&""===k.path}class Oa{}class Lu{constructor(S,k,D,U,pe,Ee,bt){this.injector=S,this.configLoader=k,this.rootComponentType=D,this.config=U,this.urlTree=pe,this.paramsInheritanceStrategy=Ee,this.urlSerializer=bt,this.applyRedirects=new Xa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new c.wOt(4002,`'${S.segmentGroup}'`)}recognize(){const S=na(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,ke.T)(({children:k,rootSnapshot:D})=>{const U=new Fe(D,k),pe=new Wn("",U),Ee=function Dr(E,S,k=null,D=null){return ni(Gn(E),S,k,D)}(D,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,pe.url=this.urlSerializer.serialize(Ee),{state:pe,tree:Ee}}))}match(S){const k=new Fn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,S,we,k).pipe((0,ke.T)(D=>({children:D,rootSnapshot:k})),Zt(D=>{if(D instanceof to)return this.urlTree=D.urlTree,this.match(D.urlTree.root);throw D instanceof Di?this.noMatchError(D):D}))}processSegmentGroup(S,k,D,U,pe){return 0===D.segments.length&&D.hasChildren()?this.processChildren(S,k,D,pe):this.processSegment(S,k,D,D.segments,U,!0,pe).pipe((0,ke.T)(Ee=>Ee instanceof Fe?[Ee]:[]))}processChildren(S,k,D,U){const pe=[];for(const Ee of Object.keys(D.children))"primary"===Ee?pe.unshift(Ee):pe.push(Ee);return(0,le.H)(pe).pipe((0,Qt.H)(Ee=>{const bt=D.children[Ee],cn=function Us(E,S){const k=E.filter(D=>Fi(D)===S);return k.push(...E.filter(D=>Fi(D)!==S)),k}(k,Ee);return this.processSegmentGroup(S,cn,bt,Ee,U)}),(0,Nn.S)((Ee,bt)=>(Ee.push(...bt),Ee)),(0,_t.U)(null),function de(E,S){const k=arguments.length>=2;return D=>D.pipe(E?(0,ze.p)((U,pe)=>E(U,pe,D)):ne.D,Pe(1),k?(0,_t.U)(S):(0,te.v)(()=>new Ge.G))}(),(0,Ve.Z)(Ee=>{if(null===Ee)return no(D);const bt=ml(Ee);return function Qa(E){E.sort((S,k)=>S.value.outlet===we?-1:k.value.outlet===we?1:S.value.outlet.localeCompare(k.value.outlet))}(bt),(0,he.of)(bt)}))}processSegment(S,k,D,U,pe,Ee,bt){return(0,le.H)(k).pipe((0,Qt.H)(cn=>{var Mt;return this.processSegmentAgainstRoute(null!==(Mt=cn._injector)&&void 0!==Mt?Mt:S,k,cn,D,U,pe,Ee,bt).pipe(Zt(Hn=>{if(Hn instanceof Di)return(0,he.of)(null);throw Hn}))}),(0,$t.$)(cn=>!!cn),Zt(cn=>{if(qa(cn))return function Dd(E,S,k){return 0===S.length&&!E.children[k]}(D,U,pe)?(0,he.of)(new Oa):no(D);throw cn}))}processSegmentAgainstRoute(S,k,D,U,pe,Ee,bt,cn){return Fi(D)===Ee||Ee!==we&&Na(U,pe,D)?void 0===D.redirectTo?this.matchSegmentAgainstRoute(S,U,D,pe,Ee,cn):this.allowRedirects&&bt?this.expandSegmentAgainstRouteUsingRedirect(S,U,k,D,pe,Ee,cn):no(U):no(U)}expandSegmentAgainstRouteUsingRedirect(S,k,D,U,pe,Ee,bt){var cn,Mt;const{matched:Hn,parameters:Nr,consumedSegments:gi,positionalParamSegments:jr,remainingSegments:ao}=fo(k,U,pe);if(!Hn)return no(k);"string"==typeof U.redirectTo&&"/"===U.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ns=new Fn(pe,Nr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,js(U),Fi(U),null!==(cn=null!==(Mt=U.component)&&void 0!==Mt?Mt:U._loadedComponent)&&void 0!==cn?cn:null,U,lu(U)),Po=an(ns,bt,this.paramsInheritanceStrategy);ns.params=Object.freeze(Po.params),ns.data=Object.freeze(Po.data);const El=this.applyRedirects.applyRedirectCommands(gi,U.redirectTo,jr,ns,S);return this.applyRedirects.lineralizeSegments(U,El).pipe((0,Ve.Z)(rs=>this.processSegment(S,D,k,rs.concat(ao),Ee,!1,bt)))}matchSegmentAgainstRoute(S,k,D,U,pe,Ee){const bt=Kr(k,D,U,S);return"**"===D.path&&(k.children={}),bt.pipe((0,it.n)(cn=>{var Mt;return cn.matched?(S=null!==(Mt=D._injector)&&void 0!==Mt?Mt:S,this.getChildConfig(S,D,U).pipe((0,it.n)(({routes:Hn})=>{var Nr,gi,jr;const ao=null!==(Nr=D._loadedInjector)&&void 0!==Nr?Nr:S,{parameters:ns,consumedSegments:Po,remainingSegments:El}=cn,rs=new Fn(Po,ns,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,js(D),Fi(D),null!==(gi=null!==(jr=D.component)&&void 0!==jr?jr:D._loadedComponent)&&void 0!==gi?gi:null,D,lu(D)),Ll=an(rs,Ee,this.paramsInheritanceStrategy);rs.params=Object.freeze(Ll.params),rs.data=Object.freeze(Ll.data);const{segmentGroup:Yi,slicedSegments:cu}=na(k,Po,El,Hn);if(0===cu.length&&Yi.hasChildren())return this.processChildren(ao,Hn,Yi,rs).pipe((0,ke.T)(el=>new Fe(rs,el)));if(0===Hn.length&&0===cu.length)return(0,he.of)(new Fe(rs,[]));const la=Fi(D)===pe;return this.processSegment(ao,Hn,Yi,cu,la?we:pe,!0,rs).pipe((0,ke.T)(el=>new Fe(rs,el instanceof Fe?[el]:[])))}))):no(k)}))}getChildConfig(S,k,D){return k.children?(0,he.of)({routes:k.children,injector:S}):k.loadChildren?void 0!==k._loadedRoutes?(0,he.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function Te(E,S,k,D){const U=S.canLoad;if(void 0===U||0===U.length)return(0,he.of)(!0);const pe=U.map(Ee=>{const bt=Js(Ee,E);return Lt(function Pa(E){return E&&Bo(E.canLoad)}(bt)?bt.canLoad(S,k):(0,c.N4e)(E,()=>bt(S,k)))});return(0,he.of)(pe).pipe(ds(),pn())}(S,k,D).pipe((0,Ve.Z)(U=>U?this.configLoader.loadChildren(S,k).pipe((0,En.M)(pe=>{k._loadedRoutes=pe.routes,k._loadedInjector=pe.injector})):function $s(){return Be(es(!1,cr.GuardRejected))}())):(0,he.of)({routes:[],injector:S})}}function ra(E){const S=E.value.routeConfig;return S&&""===S.path}function ml(E){const S=[],k=new Set;for(const D of E){if(!ra(D)){S.push(D);continue}const U=S.find(pe=>D.value.routeConfig===pe.value.routeConfig);void 0!==U?(U.children.push(...D.children),k.add(U)):S.push(D)}for(const D of k){const U=ml(D.children);S.push(new Fe(D.value,U))}return S.filter(D=>!k.has(D))}function js(E){return E.data||{}}function lu(E){return E.resolve||{}}function vl(E){const S=E.children.map(k=>vl(k)).flat();return[E,...S]}function $i(E){return(0,it.n)(S=>{const k=E(S);return k?(0,le.H)(k).pipe((0,ke.T)(()=>S)):(0,he.of)(S)})}let ia=(()=>{var E;class S{buildTitle(D){let U,pe=D.root;for(;void 0!==pe;){var Ee;U=null!==(Ee=this.getResolvedTitleForRoute(pe))&&void 0!==Ee?Ee:U,pe=pe.children.find(bt=>bt.outlet===we)}return U}getResolvedTitleForRoute(D){return D.data[jt]}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(ro),providedIn:"root"}),S})(),ro=(()=>{var E;class S extends ia{constructor(D){super(),this.title=D}updateTitle(D){const U=this.buildTitle(D);void 0!==U&&this.title.setTitle(U)}}return(E=S).\u0275fac=function(D){return new(D||E)(c.KVO(Rt.hE))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();const ko=new c.nKC("",{providedIn:"root",factory:()=>({})});let _l=(()=>{var E;class S{}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275cmp=c.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(D,U){1&D&&c.nrm(0,"router-outlet")},dependencies:[hi],encapsulation:2}),S})();function Cn(E){const S=E.children&&E.children.map(Cn),k=S?{...E,children:S}:{...E};return!k.component&&!k.loadComponent&&(S||k.loadChildren)&&k.outlet&&k.outlet!==we&&(k.component=_l),k}const xi=new c.nKC("");let So=(()=>{var E;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(D){if(this.componentLoaders.get(D))return this.componentLoaders.get(D);if(D._loadedComponent)return(0,he.of)(D._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(D);const U=Lt(D.loadComponent()).pipe((0,ke.T)(ar),(0,En.M)(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(D),D._loadedComponent=Ee}),(0,ve.j)(()=>{this.componentLoaders.delete(D)})),pe=new Ke(U,()=>new tt.B).pipe(ft());return this.componentLoaders.set(D,pe),pe}loadChildren(D,U){if(this.childrenLoaders.get(U))return this.childrenLoaders.get(U);if(U._loadedRoutes)return(0,he.of)({routes:U._loadedRoutes,injector:U._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(U);const Ee=function oa(E,S,k,D){return Lt(E.loadChildren()).pipe((0,ke.T)(ar),(0,Ve.Z)(U=>U instanceof c.Co$||Array.isArray(U)?(0,he.of)(U):(0,le.H)(S.compileModuleAsync(U))),(0,ke.T)(U=>{D&&D(E);let pe,Ee,bt=!1;return Array.isArray(U)?(Ee=U,!0):(pe=U.create(k).injector,Ee=pe.get(xi,[],{optional:!0,self:!0}).flat()),{routes:Ee.map(Cn),injector:pe}}))}(U,this.compiler,D,this.onLoadEndListener).pipe((0,ve.j)(()=>{this.childrenLoaders.delete(U)})),bt=new Ke(Ee,()=>new tt.B).pipe(ft());return this.childrenLoaders.set(U,bt),bt}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();function ar(E){return function ir(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let yl=(()=>{var E;class S{}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(Un),providedIn:"root"}),S})(),Un=(()=>{var E;class S{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,U){return D}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();const Gt=new c.nKC(""),_n=new c.nKC("");function T(E,S,k){const D=E.get(_n),U=E.get(be.qQ);return E.get(c.SKi).runOutsideAngular(()=>{if(!U.startViewTransition||D.skipNextTransition)return D.skipNextTransition=!1,new Promise(Mt=>setTimeout(Mt));let pe;const Ee=new Promise(Mt=>{pe=Mt}),bt=U.startViewTransition(()=>(pe(),function H(E){return new Promise(S=>{(0,c.mal)({read:()=>setTimeout(S)},{injector:E})})}(E))),{onViewTransitionCreated:cn}=D;return cn&&(0,c.N4e)(E,()=>cn({transition:bt,from:S,to:k})),Ee})}const Oe=new c.nKC("");let B=(()=>{var E;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt.B,this.transitionAbortSubject=new tt.B,this.configLoader=(0,c.WQX)(So),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Ln),this.rootContexts=(0,c.WQX)(_e),this.location=(0,c.WQX)(be.aZ),this.inputBindingEnabled=null!==(0,c.WQX)($o,{optional:!0}),this.titleStrategy=(0,c.WQX)(ia),this.options=(0,c.WQX)(ko,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(yl),this.createViewTransition=(0,c.WQX)(Gt,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(Oe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,he.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=pe=>this.events.next(new Wr(pe)),this.configLoader.onLoadStartListener=pe=>this.events.next(new bi(pe))}complete(){var D;null===(D=this.transitions)||void 0===D||D.complete()}handleNavigationRequest(D){var U;const pe=++this.navigationId;null===(U=this.transitions)||void 0===U||U.next({...this.transitions.value,...D,id:pe})}setupNavigations(D,U,pe){return this.transitions=new ye.t({id:0,currentUrlTree:U,currentRawUrl:U,extractedUrl:this.urlHandlingStrategy.extract(U),urlAfterRedirects:this.urlHandlingStrategy.extract(U),rawUrl:U,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:yt,restoredState:null,currentSnapshot:pe.snapshot,targetSnapshot:null,currentRouterState:pe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ze.p)(Ee=>0!==Ee.id),(0,ke.T)(Ee=>({...Ee,extractedUrl:this.urlHandlingStrategy.extract(Ee.rawUrl)})),(0,it.n)(Ee=>{let bt=!1,cn=!1;return(0,he.of)(Ee).pipe((0,it.n)(Mt=>{var Hn;if(this.navigationId>Ee.id)return this.cancelNavigationTransition(Ee,"",cr.SupersededByNewNavigation),st.w;this.currentTransition=Ee,this.currentNavigation={id:Mt.id,initialUrl:Mt.rawUrl,extractedUrl:Mt.extractedUrl,targetBrowserUrl:"string"==typeof Mt.extras.browserUrl?this.urlSerializer.parse(Mt.extras.browserUrl):Mt.extras.browserUrl,trigger:Mt.source,extras:Mt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Nr=!D.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),gi=null!==(Hn=Mt.extras.onSameUrlNavigation)&&void 0!==Hn?Hn:D.onSameUrlNavigation;if(!Nr&&"reload"!==gi){const jr="";return this.events.next(new vi(Mt.id,this.urlSerializer.serialize(Mt.rawUrl),jr,sr.IgnoredSameUrlNavigation)),Mt.resolve(!1),st.w}if(this.urlHandlingStrategy.shouldProcessUrl(Mt.rawUrl))return(0,he.of)(Mt).pipe((0,it.n)(jr=>{var ao,ns;const Po=null===(ao=this.transitions)||void 0===ao?void 0:ao.getValue();return this.events.next(new Mn(jr.id,this.urlSerializer.serialize(jr.extractedUrl),jr.source,jr.restoredState)),Po!==(null===(ns=this.transitions)||void 0===ns?void 0:ns.getValue())?st.w:Promise.resolve(jr)}),function ka(E,S,k,D,U,pe){return(0,Ve.Z)(Ee=>function Tc(E,S,k,D,U,pe,Ee="emptyOnly"){return new Lu(E,S,k,D,U,Ee,pe).recognize()}(E,S,k,D,Ee.extractedUrl,U,pe).pipe((0,ke.T)(({state:bt,tree:cn})=>({...Ee,targetSnapshot:bt,urlAfterRedirects:cn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,D.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,En.M)(jr=>{Ee.targetSnapshot=jr.targetSnapshot,Ee.urlAfterRedirects=jr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:jr.urlAfterRedirects};const ao=new ai(jr.id,this.urlSerializer.serialize(jr.extractedUrl),this.urlSerializer.serialize(jr.urlAfterRedirects),jr.targetSnapshot);this.events.next(ao)}));if(Nr&&this.urlHandlingStrategy.shouldProcessUrl(Mt.currentRawUrl)){const{id:jr,extractedUrl:ao,source:ns,restoredState:Po,extras:El}=Mt,rs=new Mn(jr,this.urlSerializer.serialize(ao),ns,Po);this.events.next(rs);const Ll=en(this.rootComponentType).snapshot;return this.currentTransition=Ee={...Mt,targetSnapshot:Ll,urlAfterRedirects:ao,extras:{...El,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ao,(0,he.of)(Ee)}{const jr="";return this.events.next(new vi(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),jr,sr.IgnoredByUrlHandlingStrategy)),Mt.resolve(!1),st.w}}),(0,En.M)(Mt=>{const Hn=new ri(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(Hn)}),(0,ke.T)(Mt=>(this.currentTransition=Ee={...Mt,guards:ei(Mt.targetSnapshot,Mt.currentSnapshot,this.rootContexts)},Ee)),function Ac(E,S){return(0,Ve.Z)(k=>{const{targetSnapshot:D,currentSnapshot:U,guards:{canActivateChecks:pe,canDeactivateChecks:Ee}}=k;return 0===Ee.length&&0===pe.length?(0,he.of)({...k,guardsResult:!0}):function ts(E,S,k,D){return(0,le.H)(E).pipe((0,Ve.Z)(U=>function j(E,S,k,D,U){const pe=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!pe||0===pe.length)return(0,he.of)(!0);const Ee=pe.map(bt=>{var cn;const Mt=null!==(cn=x(S))&&void 0!==cn?cn:U,Hn=Js(bt,Mt);return Lt(function Ka(E){return E&&Bo(E.canDeactivate)}(Hn)?Hn.canDeactivate(E,S,k,D):(0,c.N4e)(Mt,()=>Hn(E,S,k,D))).pipe((0,$t.$)())});return(0,he.of)(Ee).pipe(ds())}(U.component,U.route,k,S,D)),(0,$t.$)(U=>!0!==U,!0))}(Ee,D,U,E).pipe((0,Ve.Z)(bt=>bt&&function su(E){return"boolean"==typeof E}(bt)?function au(E,S,k,D){return(0,le.H)(S).pipe((0,Qt.H)(U=>(0,Ce.x)(function G(E,S){return null!==E&&S&&S(new Qr(E)),(0,he.of)(!0)}(U.route.parent,D),function ga(E,S){return null!==E&&S&&S(new Tr(E)),(0,he.of)(!0)}(U.route,D),function oe(E,S,k){const D=S[S.length-1],pe=S.slice(0,S.length-1).reverse().map(Ee=>function Co(E){const S=E.routeConfig?E.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:E,guards:S}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>$e(()=>{const bt=Ee.guards.map(cn=>{var Mt;const Hn=null!==(Mt=x(Ee.node))&&void 0!==Mt?Mt:k,Nr=Js(cn,Hn);return Lt(function Ma(E){return E&&Bo(E.canActivateChild)}(Nr)?Nr.canActivateChild(D,E):(0,c.N4e)(Hn,()=>Nr(D,E))).pipe((0,$t.$)())});return(0,he.of)(bt).pipe(ds())}));return(0,he.of)(pe).pipe(ds())}(E,U.path,k),function N(E,S,k){const D=S.routeConfig?S.routeConfig.canActivate:null;if(!D||0===D.length)return(0,he.of)(!0);const U=D.map(pe=>$e(()=>{var Ee;const bt=null!==(Ee=x(S))&&void 0!==Ee?Ee:k,cn=Js(pe,bt);return Lt(function Ol(E){return E&&Bo(E.canActivate)}(cn)?cn.canActivate(S,E):(0,c.N4e)(bt,()=>cn(S,E))).pipe((0,$t.$)())}));return(0,he.of)(U).pipe(ds())}(E,U.route,k))),(0,$t.$)(U=>!0!==U,!0))}(D,pe,E,S):(0,he.of)(bt)),(0,ke.T)(bt=>({...k,guardsResult:bt})))})}(this.environmentInjector,Mt=>this.events.next(Mt)),(0,En.M)(Mt=>{if(Ee.guardsResult=Mt.guardsResult,Mt.guardsResult&&"boolean"!=typeof Mt.guardsResult)throw Zo(0,Mt.guardsResult);const Hn=new li(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot,!!Mt.guardsResult);this.events.next(Hn)}),(0,ze.p)(Mt=>!!Mt.guardsResult||(this.cancelNavigationTransition(Mt,"",cr.GuardRejected),!1)),$i(Mt=>{if(Mt.guards.canActivateChecks.length)return(0,he.of)(Mt).pipe((0,En.M)(Hn=>{const Nr=new $r(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(Nr)}),(0,it.n)(Hn=>{let Nr=!1;return(0,he.of)(Hn).pipe(function ma(E,S){return(0,Ve.Z)(k=>{const{targetSnapshot:D,guards:{canActivateChecks:U}}=k;if(!U.length)return(0,he.of)(k);const pe=new Set(U.map(cn=>cn.route)),Ee=new Set;for(const cn of pe)if(!Ee.has(cn))for(const Mt of vl(cn))Ee.add(Mt);let bt=0;return(0,le.H)(Ee).pipe((0,Qt.H)(cn=>pe.has(cn)?function kl(E,S,k,D){const U=E.routeConfig,pe=E._resolve;return void 0!==(null==U?void 0:U.title)&&!wi(U)&&(pe[jt]=U.title),function Ya(E,S,k,D){const U=nr(E);if(0===U.length)return(0,he.of)({});const pe={};return(0,le.H)(U).pipe((0,Ve.Z)(Ee=>function bc(E,S,k,D){var U;const pe=null!==(U=x(S))&&void 0!==U?U:D,Ee=Js(E,pe);return Lt(Ee.resolve?Ee.resolve(S,k):(0,c.N4e)(pe,()=>Ee(S,k)))}(E[Ee],S,k,D).pipe((0,$t.$)(),(0,En.M)(bt=>{if(bt instanceof cs)throw Zo(new si,bt);pe[Ee]=bt}))),Pe(1),function me(E){return(0,ke.T)(()=>E)}(pe),Zt(Ee=>qa(Ee)?st.w:Be(Ee)))}(pe,E,S,D).pipe((0,ke.T)(Ee=>(E._resolvedData=Ee,E.data=an(E,E.parent,k).resolve,null)))}(cn,D,E,S):(cn.data=an(cn,cn.parent,E).resolve,(0,he.of)(void 0))),(0,En.M)(()=>bt++),Pe(1),(0,Ve.Z)(cn=>bt===Ee.size?(0,he.of)(k):st.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,En.M)({next:()=>Nr=!0,complete:()=>{Nr||this.cancelNavigationTransition(Hn,"",cr.NoDataFromResolver)}}))}),(0,En.M)(Hn=>{const Nr=new kr(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(Nr)}))}),$i(Mt=>{const Hn=Nr=>{var gi;const jr=[];null!==(gi=Nr.routeConfig)&&void 0!==gi&&gi.loadComponent&&!Nr.routeConfig._loadedComponent&&jr.push(this.configLoader.loadComponent(Nr.routeConfig).pipe((0,En.M)(ao=>{Nr.component=ao}),(0,ke.T)(()=>{})));for(const ao of Nr.children)jr.push(...Hn(ao));return jr};return(0,Le.z)(Hn(Mt.targetSnapshot.root)).pipe((0,_t.U)(null),(0,vt.s)(1))}),$i(()=>this.afterPreactivation()),(0,it.n)(()=>{var Mt;const{currentSnapshot:Hn,targetSnapshot:Nr}=Ee,gi=null===(Mt=this.createViewTransition)||void 0===Mt?void 0:Mt.call(this,this.environmentInjector,Hn.root,Nr.root);return gi?(0,le.H)(gi).pipe((0,ke.T)(()=>Ee)):(0,he.of)(Ee)}),(0,ke.T)(Mt=>{const Hn=function co(E,S,k){const D=ho(E,S._root,k?k._root:void 0);return new at(D,S)}(D.routeReuseStrategy,Mt.targetSnapshot,Mt.currentRouterState);return this.currentTransition=Ee={...Mt,targetRouterState:Hn},this.currentNavigation.targetRouterState=Hn,Ee}),(0,En.M)(()=>{this.events.next(new Vi)}),((E,S,k,D)=>(0,ke.T)(U=>(new ku(S,U.targetRouterState,U.currentRouterState,k,D).activate(E),U)))(this.rootContexts,D.routeReuseStrategy,Mt=>this.events.next(Mt),this.inputBindingEnabled),(0,vt.s)(1),(0,En.M)({next:Mt=>{var Hn;bt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new An(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects))),null===(Hn=this.titleStrategy)||void 0===Hn||Hn.updateTitle(Mt.targetRouterState.snapshot),Mt.resolve(!0)},complete:()=>{bt=!0}}),function Ye(E){return(0,lt.N)((S,k)=>{(0,fe.Tg)(E).subscribe((0,et._)(k,()=>k.complete(),Me.l)),!k.closed&&S.subscribe(k)})}(this.transitionAbortSubject.pipe((0,En.M)(Mt=>{throw Mt}))),(0,ve.j)(()=>{var Mt;!bt&&!cn&&this.cancelNavigationTransition(Ee,"",cr.SupersededByNewNavigation),(null===(Mt=this.currentTransition)||void 0===Mt?void 0:Mt.id)===Ee.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zt(Mt=>{if(cn=!0,eo(Mt))this.events.next(new xr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Mt.message,Mt.cancellationCode)),function fa(E){return eo(E)&&dr(E.url)}(Mt)?this.events.next(new xo(Mt.url,Mt.navigationBehaviorOptions)):Ee.resolve(!1);else{var Hn;const Nr=new Ri(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Mt,null!==(Hn=Ee.targetSnapshot)&&void 0!==Hn?Hn:void 0);try{const gi=(0,c.N4e)(this.environmentInjector,()=>{var jr;return null===(jr=this.navigationErrorHandler)||void 0===jr?void 0:jr.call(this,Nr)});if(gi instanceof cs){const{message:jr,cancellationCode:ao}=Zo(0,gi);this.events.next(new xr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),jr,ao)),this.events.next(new xo(gi.redirectTo,gi.navigationBehaviorOptions))}else{this.events.next(Nr);const jr=D.errorHandler(Mt);Ee.resolve(!!jr)}}catch(gi){this.options.resolveNavigationPromiseOnError?Ee.resolve(!1):Ee.reject(gi)}}return st.w}))}))}cancelNavigationTransition(D,U,pe){const Ee=new xr(D.id,this.urlSerializer.serialize(D.extractedUrl),U,pe);this.events.next(Ee),D.resolve(!1)}isUpdatingInternalState(){var D,U;return(null===(D=this.currentTransition)||void 0===D?void 0:D.extractedUrl.toString())!==(null===(U=this.currentTransition)||void 0===U?void 0:U.currentUrlTree.toString())}isUpdatedBrowserUrl(){var D,U,pe,Ee;const bt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),cn=null!==(D=null===(U=this.currentNavigation)||void 0===U?void 0:U.targetBrowserUrl)&&void 0!==D?D:null===(pe=this.currentNavigation)||void 0===pe?void 0:pe.extractedUrl;return bt.toString()!==(null==cn?void 0:cn.toString())&&!(null!==(Ee=this.currentNavigation)&&void 0!==Ee&&Ee.extras.skipLocationChange)}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();function ge(E){return E!==yt}let je=(()=>{var E;class S{}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(Tn),providedIn:"root"}),S})();class qt{shouldDetach(S){return!1}store(S,k){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,k){return S.routeConfig===k.routeConfig}}let Tn=(()=>{var E;class S extends qt{}return(E=S).\u0275fac=(()=>{let k;return function(U){return(k||(k=c.xGo(E)))(U||E)}})(),E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),br=(()=>{var E;class S{}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:()=>(0,c.WQX)(ci),providedIn:"root"}),S})(),ci=(()=>{var E;class S extends br{constructor(){super(...arguments),this.location=(0,c.WQX)(be.aZ),this.urlSerializer=(0,c.WQX)(Ln),this.options=(0,c.WQX)(ko,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(yl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=en(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var D,U;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(D=null===(U=this.restoredState())||void 0===U?void 0:U.\u0275routerPageId)&&void 0!==D?D:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(D){return this.location.subscribe(U=>{"popstate"===U.type&&D(U.url,U.state)})}handleRouterEvent(D,U){if(D instanceof Mn)this.stateMemento=this.createStateMemento();else if(D instanceof vi)this.rawUrlTree=U.initialUrl;else if(D instanceof ai){if("eager"===this.urlUpdateStrategy&&!U.extras.skipLocationChange){var pe;const bt=this.urlHandlingStrategy.merge(U.finalUrl,U.initialUrl);this.setBrowserUrl(null!==(pe=U.targetBrowserUrl)&&void 0!==pe?pe:bt,U)}}else if(D instanceof Vi){var Ee;this.currentUrlTree=U.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(U.finalUrl,U.initialUrl),this.routerState=U.targetRouterState,"deferred"!==this.urlUpdateStrategy||U.extras.skipLocationChange||this.setBrowserUrl(null!==(Ee=U.targetBrowserUrl)&&void 0!==Ee?Ee:this.rawUrlTree,U)}else D instanceof xr&&(D.code===cr.GuardRejected||D.code===cr.NoDataFromResolver)?this.restoreHistory(U):D instanceof Ri?this.restoreHistory(U,!0):D instanceof An&&(this.lastSuccessfulId=D.id,this.currentPageId=this.browserPageId)}setBrowserUrl(D,U){const pe=D instanceof Qn?this.urlSerializer.serialize(D):D;if(this.location.isCurrentPathEqualTo(pe)||U.extras.replaceUrl){const bt={...U.extras.state,...this.generateNgRouterState(U.id,this.browserPageId)};this.location.replaceState(pe,"",bt)}else{const Ee={...U.extras.state,...this.generateNgRouterState(U.id,this.browserPageId+1)};this.location.go(pe,"",Ee)}}restoreHistory(D,U=!1){if("computed"===this.canceledNavigationResolution){const Ee=this.currentPageId-this.browserPageId;0!==Ee?this.location.historyGo(Ee):this.currentUrlTree===D.finalUrl&&0===Ee&&(this.resetState(D),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){var U;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(U=D.finalUrl)&&void 0!==U?U:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(D,U){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:U}:{navigationId:D}}}return(E=S).\u0275fac=(()=>{let k;return function(U){return(k||(k=c.xGo(E)))(U||E)}})(),E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();var ii=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(ii||{});function qr(E,S){E.events.pipe((0,ze.p)(k=>k instanceof An||k instanceof xr||k instanceof Ri||k instanceof vi),(0,ke.T)(k=>k instanceof An||k instanceof vi?ii.COMPLETE:k instanceof xr&&(k.code===cr.Redirect||k.code===cr.SupersededByNewNavigation)?ii.REDIRECTING:ii.FAILED),(0,ze.p)(k=>k!==ii.REDIRECTING),(0,vt.s)(1)).subscribe(()=>{S()})}function Zn(E){throw E}const oi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ni={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{var E;class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var D,U;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(br),this.options=(0,c.WQX)(ko,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(B),this.urlSerializer=(0,c.WQX)(Ln),this.location=(0,c.WQX)(be.aZ),this.urlHandlingStrategy=(0,c.WQX)(yl),this._events=new tt.B,this.errorHandler=this.options.errorHandler||Zn,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(je),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(D=null===(U=(0,c.WQX)(xi,{optional:!0}))||void 0===U?void 0:U.flat())&&void 0!==D?D:[],this.componentInputBindingEnabled=!!(0,c.WQX)($o,{optional:!0}),this.eventsSubscription=new dt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:pe=>{this.console.warn(pe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const D=this.navigationTransitions.events.subscribe(U=>{try{const pe=this.navigationTransitions.currentTransition,Ee=this.navigationTransitions.currentNavigation;if(null!==pe&&null!==Ee)if(this.stateManager.handleRouterEvent(U,Ee),U instanceof xr&&U.code!==cr.Redirect&&U.code!==cr.SupersededByNewNavigation)this.navigated=!0;else if(U instanceof An)this.navigated=!0;else if(U instanceof xo){const bt=U.navigationBehaviorOptions,cn=this.urlHandlingStrategy.merge(U.url,pe.currentRawUrl),Mt={browserUrl:pe.extras.browserUrl,info:pe.extras.info,skipLocationChange:pe.extras.skipLocationChange,replaceUrl:pe.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ge(pe.source),...bt};this.scheduleNavigation(cn,yt,null,Mt,{resolve:pe.resolve,reject:pe.reject,promise:pe.promise})}(function wn(E){return!(E instanceof Vi||E instanceof xo)})(U)&&this._events.next(U)}catch(pe){this.navigationTransitions.transitionAbortSubject.next(pe)}});this.eventsSubscription.add(D)}resetRootComponentType(D){this.routerState.root.component=D,this.navigationTransitions.rootComponentType=D}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yt,this.stateManager.restoredState())}setUpLocationChangeListener(){var D;null!==(D=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==D||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((U,pe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(U,"popstate",pe)},0)}))}navigateToSyncWithBrowser(D,U,pe){const Ee={replaceUrl:!0},bt=null!=pe&&pe.navigationId?pe:null;if(pe){const Mt={...pe};delete Mt.navigationId,delete Mt.\u0275routerPageId,0!==Object.keys(Mt).length&&(Ee.state=Mt)}const cn=this.parseUrl(D);this.scheduleNavigation(cn,U,bt,Ee)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(D){this.config=D.map(Cn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(D,U={}){const{relativeTo:pe,queryParams:Ee,fragment:bt,queryParamsHandling:cn,preserveFragment:Mt}=U,Hn=Mt?this.currentUrlTree.fragment:bt;let gi,Nr=null;switch(null!=cn?cn:this.options.defaultQueryParamsHandling){case"merge":Nr={...this.currentUrlTree.queryParams,...Ee};break;case"preserve":Nr=this.currentUrlTree.queryParams;break;default:Nr=Ee||null}null!==Nr&&(Nr=this.removeEmptyProps(Nr));try{gi=Gn(pe?pe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof D[0]||"/"!==D[0][0])&&(D=[]),gi=this.currentUrlTree.root}return ni(gi,D,Nr,null!=Hn?Hn:null)}navigateByUrl(D,U={skipLocationChange:!1}){const pe=dr(D)?D:this.parseUrl(D),Ee=this.urlHandlingStrategy.merge(pe,this.rawUrlTree);return this.scheduleNavigation(Ee,yt,null,U)}navigate(D,U={skipLocationChange:!1}){return function kn(E){for(let S=0;S<E.length;S++)if(null==E[S])throw new c.wOt(4008,!1)}(D),this.navigateByUrl(this.createUrlTree(D,U),U)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){try{return this.urlSerializer.parse(D)}catch{return this.urlSerializer.parse("/")}}isActive(D,U){let pe;if(pe=!0===U?{...oi}:!1===U?{...Ni}:U,dr(D))return Ot(this.currentUrlTree,D,pe);const Ee=this.parseUrl(D);return Ot(this.currentUrlTree,Ee,pe)}removeEmptyProps(D){return Object.entries(D).reduce((U,[pe,Ee])=>(null!=Ee&&(U[pe]=Ee),U),{})}scheduleNavigation(D,U,pe,Ee,bt){if(this.disposed)return Promise.resolve(!1);let cn,Mt,Hn;bt?(cn=bt.resolve,Mt=bt.reject,Hn=bt.promise):Hn=new Promise((gi,jr)=>{cn=gi,Mt=jr});const Nr=this.pendingTasks.add();return qr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Nr))}),this.navigationTransitions.handleNavigationRequest({source:U,restoredState:pe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:D,extras:Ee,resolve:cn,reject:Mt,promise:Hn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Hn.catch(gi=>Promise.reject(gi))}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),Sn=(()=>{var E;class S{constructor(D,U,pe,Ee,bt,cn){var Mt;this.router=D,this.route=U,this.tabIndexAttribute=pe,this.renderer=Ee,this.el=bt,this.locationStrategy=cn,this.href=null,this.onChanges=new tt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Hn=null===(Mt=bt.nativeElement.tagName)||void 0===Mt?void 0:Mt.toLowerCase();this.isAnchorElement="a"===Hn||"area"===Hn,this.isAnchorElement?this.subscription=D.events.subscribe(Nr=>{Nr instanceof An&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",D)}ngOnChanges(D){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(D){null==D?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=dr(D)||Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0"))}onClick(D,U,pe,Ee,bt){const cn=this.urlTree;return!!(null===cn||this.isAnchorElement&&(0!==D||U||pe||Ee||bt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(cn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var D;null===(D=this.subscription)||void 0===D||D.unsubscribe()}updateHref(){var D;const U=this.urlTree;this.href=null!==U&&this.locationStrategy?null===(D=this.locationStrategy)||void 0===D?void 0:D.prepareExternalUrl(this.router.serializeUrl(U)):null;const pe=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",pe)}applyAttributeValue(D,U){const pe=this.renderer,Ee=this.el.nativeElement;null!==U?pe.setAttribute(Ee,D,U):pe.removeAttribute(Ee,D)}get urlTree(){return null===this.routerLinkInput?null:dr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(E=S).\u0275fac=function(D){return new(D||E)(c.rXU(wr),c.rXU(zt),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(be.hb))},E.\u0275dir=c.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(D,U){1&D&&c.bIt("click",function(Ee){return U.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&D&&c.BMQ("target",U.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),S})();class Dn{}let Wi=(()=>{var E;class S{preload(D,U){return U().pipe(Zt(()=>(0,he.of)(null)))}}return(E=S).\u0275fac=function(D){return new(D||E)},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),pi=(()=>{var E;class S{constructor(D,U,pe,Ee,bt){this.router=D,this.injector=pe,this.preloadingStrategy=Ee,this.loader=bt}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.p)(D=>D instanceof An),(0,Qt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,U){const pe=[];for(const Mt of U){var Ee,bt;Mt.providers&&!Mt._injector&&(Mt._injector=(0,c.Ol2)(Mt.providers,D,`Route: ${Mt.path}`));const Hn=null!==(Ee=Mt._injector)&&void 0!==Ee?Ee:D,Nr=null!==(bt=Mt._loadedInjector)&&void 0!==bt?bt:Hn;var cn;(Mt.loadChildren&&!Mt._loadedRoutes&&void 0===Mt.canLoad||Mt.loadComponent&&!Mt._loadedComponent)&&pe.push(this.preloadConfig(Hn,Mt)),(Mt.children||Mt._loadedRoutes)&&pe.push(this.processRoutes(Nr,null!==(cn=Mt.children)&&void 0!==cn?cn:Mt._loadedRoutes))}return(0,le.H)(pe).pipe((0,Xe.U)())}preloadConfig(D,U){return this.preloadingStrategy.preload(U,()=>{let pe;pe=U.loadChildren&&void 0===U.canLoad?this.loader.loadChildren(D,U):(0,he.of)(null);const Ee=pe.pipe((0,Ve.Z)(bt=>{var cn;return null===bt?(0,he.of)(void 0):(U._loadedRoutes=bt.routes,U._loadedInjector=bt.injector,this.processRoutes(null!==(cn=bt.injector)&&void 0!==cn?cn:D,bt.routes))}));if(U.loadComponent&&!U._loadedComponent){const bt=this.loader.loadComponent(U);return(0,le.H)([Ee,bt]).pipe((0,Xe.U)())}return Ee})}}return(E=S).\u0275fac=function(D){return new(D||E)(c.KVO(wr),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Dn),c.KVO(So))},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();const io=new c.nKC("");let yo=(()=>{var E;class S{constructor(D,U,pe,Ee,bt={}){this.urlSerializer=D,this.transitions=U,this.viewportScroller=pe,this.zone=Ee,this.options=bt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},bt.scrollPositionRestoration||(bt.scrollPositionRestoration="disabled"),bt.anchorScrolling||(bt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Mn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof An?(this.lastId=D.id,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.urlAfterRedirects).fragment)):D instanceof vi&&D.code===sr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(D,this.urlSerializer.parse(D.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(D=>{D instanceof Jo&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,U){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jo(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))})},0)})}ngOnDestroy(){var D,U;null===(D=this.routerEventsSubscription)||void 0===D||D.unsubscribe(),null===(U=this.scrollEventsSubscription)||void 0===U||U.unsubscribe()}}return(E=S).\u0275fac=function(D){c.QTQ()},E.\u0275prov=c.jDH({token:E,factory:E.\u0275fac}),S})();function Hs(E,S){return{\u0275kind:E,\u0275providers:S}}function zs(){const E=(0,c.WQX)(c.zZn);return S=>{var k,D;const U=E.get(c.o8S);if(S!==U.components[0])return;const pe=E.get(wr),Ee=E.get(gs);1===E.get(va)&&pe.initialNavigation(),null===(k=E.get(hr,null,c.$GK.Optional))||void 0===k||k.setUpPreloading(),null===(D=E.get(io,null,c.$GK.Optional))||void 0===D||D.init(),pe.resetRootComponentType(U.componentTypes[0]),Ee.closed||(Ee.next(),Ee.complete(),Ee.unsubscribe())}}const gs=new c.nKC("",{factory:()=>new tt.B}),va=new c.nKC("",{providedIn:"root",factory:()=>1}),hr=new c.nKC("");function wc(E){return Hs(0,[{provide:hr,useExisting:pi},{provide:Dn,useExisting:E}])}function oo(E){return Hs(9,[{provide:Gt,useValue:T},{provide:_n,useValue:{skipNextTransition:!(null==E||!E.skipInitialTransition),...E}}])}const po=new c.nKC("ROUTER_FORROOT_GUARD"),Eo=[be.aZ,{provide:Ln,useClass:si},wr,_e,{provide:zt,useFactory:function sa(E){return E.routerState.root},deps:[wr]},So,[]];let Ro=(()=>{var E;class S{constructor(D){}static forRoot(D,U){return{ngModule:S,providers:[Eo,[],{provide:xi,multi:!0,useValue:D},{provide:po,useFactory:so,deps:[[wr,new c.Xx1,new c.kdw]]},{provide:ko,useValue:U||{}},null!=U&&U.useHash?{provide:be.hb,useClass:be.fw}:{provide:be.hb,useClass:be.Sm},{provide:io,useFactory:()=>{const E=(0,c.WQX)(be.Xr),S=(0,c.WQX)(c.SKi),k=(0,c.WQX)(ko),D=(0,c.WQX)(B),U=(0,c.WQX)(Ln);return k.scrollOffset&&E.setOffset(k.scrollOffset),new yo(U,D,E,S,k)}},null!=U&&U.preloadingStrategy?wc(U.preloadingStrategy).\u0275providers:[],null!=U&&U.initialNavigation?Rd(U):[],null!=U&&U.bindToComponentInputs?Hs(8,[Do,{provide:$o,useExisting:Do}]).\u0275providers:[],null!=U&&U.enableViewTransitions?oo().\u0275providers:[],[{provide:uu,useFactory:zs},{provide:c.iLQ,multi:!0,useExisting:uu}]]}}static forChild(D){return{ngModule:S,providers:[{provide:xi,multi:!0,useValue:D}]}}}return(E=S).\u0275fac=function(D){return new(D||E)(c.KVO(po,8))},E.\u0275mod=c.$C({type:E}),E.\u0275inj=c.G2t({}),S})();function so(E){return"guarded"}function Rd(E){return["disabled"===E.initialNavigation?Hs(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const S=(0,c.WQX)(wr);return()=>{S.setUpLocationChangeListener()}}},{provide:va,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Hs(2,[{provide:va,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:S=>{const k=S.get(be.hj,Promise.resolve());return()=>k.then(()=>new Promise(D=>{const U=S.get(wr),pe=S.get(gs);qr(U,()=>{D(!0)}),S.get(B).afterPreactivation=()=>(D(!0),pe.closed?(0,he.of)(void 0):pe),U.initialNavigation()}))}}]).\u0275providers:[]]}const uu=new c.nKC("")},3345:(bn,ht,O)=>{"use strict";O.d(ht,{A:()=>st});var c=O(1076),h=O(1362),L=O(7852),Se=O(8041);class le{constructor(lt,et){this._delegate=lt,this.firebase=et,(0,L._addComponent)(lt,new h.uA("app-compat",()=>this,"PUBLIC")),this.container=lt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this._delegate.automaticDataCollectionEnabled=lt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(lt=>{this._delegate.checkDestroyed(),lt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(lt,et=L._DEFAULT_ENTRY_NAME){var ft;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(lt);return!Ke.isInitialized()&&"EXPLICIT"===(null===(ft=Ke.getComponent())||void 0===ft?void 0:ft.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:et})}_removeServiceInstance(lt,et=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(lt).clearInstance(et)}_addComponent(lt){(0,L._addComponent)(this._delegate,lt)}_addOrOverwriteComponent(lt){(0,L._addOrOverwriteComponent)(this._delegate,lt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function Ge(){const dt=function Le(dt){const lt={},et={__esModule:!0,initializeApp:function tt(vt,Dt={}){const ze=L.initializeApp(vt,Dt);if((0,c.gR)(lt,ze.name))return lt[ze.name];const Ve=new dt(ze,et);return lt[ze.name]=Ve,Ve},app:Ke,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ke(vt){const Dt=vt.name,ze=Dt.replace("-compat","");if(L._registerComponent(vt)&&"PUBLIC"===vt.type){const Ve=($t=Ke())=>{if("function"!=typeof $t[ze])throw ye.create("invalid-app-argument",{appName:Dt});return $t[ze]()};void 0!==vt.serviceProps&&(0,c.zw)(Ve,vt.serviceProps),et[ze]=Ve,dt.prototype[ze]=function(...$t){return this._getService.bind(this,Dt).apply(this,vt.multipleInstances?$t:[])}}return"PUBLIC"===vt.type?et[ze]:null},removeApp:function ft(vt){delete lt[vt]},useAsService:function it(vt,Dt){return"serverAuth"===Dt?null:Dt},modularAPIs:L}};function Ke(vt){if(!(0,c.gR)(lt,vt=vt||L._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:vt});return lt[vt]}return et.default=et,Object.defineProperty(et,"apps",{get:function be(){return Object.keys(lt).map(vt=>lt[vt])}}),Ke.App=dt,et}(le);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function lt(et){(0,c.zw)(dt,et)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),dt}(),fe=new Se.Vy("@firebase/app-compat");try{const dt=(0,c.mS)();if(void 0!==dt.firebase){fe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const lt=dt.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&fe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const st=Ce;!function Be(dt){(0,L.registerVersion)("@firebase/app-compat","0.2.43",dt)}()},7852:(bn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{FirebaseError:()=>Se.g,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>On,_addComponent:()=>Kn,_addOrOverwriteComponent:()=>mr,_apps:()=>ur,_clearComponents:()=>Cr,_components:()=>Qn,_getProvider:()=>Er,_isFirebaseApp:()=>Ln,_isFirebaseServerApp:()=>si,_registerComponent:()=>Xr,_removeServiceInstance:()=>Pr,_serverApps:()=>Ir,deleteApp:()=>ut,getApp:()=>kt,getApps:()=>rt,initializeApp:()=>Tt,initializeServerApp:()=>nt,onLog:()=>P,registerVersion:()=>Z,setLogLevel:()=>F});var c=O(467),h=O(1362),L=O(8041),Se=O(1076);const le=(ie,K)=>K.some(Ae=>ie instanceof Ae);let he,ye;const Ce=new WeakMap,fe=new WeakMap,$e=new WeakMap,He=new WeakMap,Be=new WeakMap;let lt={get(ie,K,Ae){if(ie instanceof IDBTransaction){if("done"===K)return fe.get(ie);if("objectStoreNames"===K)return ie.objectStoreNames||$e.get(ie);if("store"===K)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return tt(ie[K])},set:(ie,K,Ae)=>(ie[K]=Ae,!0),has:(ie,K)=>ie instanceof IDBTransaction&&("done"===K||"store"===K)||K in ie};function Ke(ie){return"function"==typeof ie?function ft(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...K){return ie.apply(be(this),K),tt(Ce.get(this))}:function(...K){return tt(ie.apply(be(this),K))}:function(K,...Ae){const J=ie.call(be(this),K,...Ae);return $e.set(J,K.sort?K.sort():[K]),tt(J)}}(ie):(ie instanceof IDBTransaction&&function dt(ie){if(fe.has(ie))return;const K=new Promise((Ae,J)=>{const ee=()=>{ie.removeEventListener("complete",xe),ie.removeEventListener("error",It),ie.removeEventListener("abort",It)},xe=()=>{Ae(),ee()},It=()=>{J(ie.error||new DOMException("AbortError","AbortError")),ee()};ie.addEventListener("complete",xe),ie.addEventListener("error",It),ie.addEventListener("abort",It)});fe.set(ie,K)}(ie),le(ie,function Le(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,lt):ie)}function tt(ie){if(ie instanceof IDBRequest)return function st(ie){const K=new Promise((Ae,J)=>{const ee=()=>{ie.removeEventListener("success",xe),ie.removeEventListener("error",It)},xe=()=>{Ae(tt(ie.result)),ee()},It=()=>{J(ie.error),ee()};ie.addEventListener("success",xe),ie.addEventListener("error",It)});return K.then(Ae=>{Ae instanceof IDBCursor&&Ce.set(Ae,ie)}).catch(()=>{}),Be.set(K,ie),K}(ie);if(He.has(ie))return He.get(ie);const K=Ke(ie);return K!==ie&&(He.set(ie,K),Be.set(K,ie)),K}const be=ie=>Be.get(ie),vt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],ze=new Map;function Ve(ie,K){if(!(ie instanceof IDBDatabase)||K in ie||"string"!=typeof K)return;if(ze.get(K))return ze.get(K);const Ae=K.replace(/FromIndex$/,""),J=K!==Ae,ee=Dt.includes(Ae);if(!(Ae in(J?IDBIndex:IDBObjectStore).prototype)||!ee&&!vt.includes(Ae))return;const xe=function(){var It=(0,c.A)(function*(Kt,...mn){const se=this.transaction(Kt,ee?"readwrite":"readonly");let Ne=se.store;return J&&(Ne=Ne.index(mn.shift())),(yield Promise.all([Ne[Ae](...mn),ee&&se.done]))[0]});return function(mn){return It.apply(this,arguments)}}();return ze.set(K,xe),xe}!function et(ie){lt=ie(lt)}(ie=>({...ie,get:(K,Ae,J)=>Ve(K,Ae)||ie.get(K,Ae,J),has:(K,Ae)=>!!Ve(K,Ae)||ie.has(K,Ae)}));class $t{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(function Qt(ie){const K=ie.getComponent();return"VERSION"===(null==K?void 0:K.type)}(Ae)){const J=Ae.getImmediate();return`${J.library}/${J.version}`}return null}).filter(Ae=>Ae).join(" ")}}const En="@firebase/app",Zt="0.10.13",Nn=new L.Vy("@firebase/app"),_t="@firebase/app-compat",Pe="@firebase/analytics-compat",te="@firebase/analytics",ne="@firebase/app-check-compat",de="@firebase/app-check",me="@firebase/auth",ve="@firebase/auth-compat",Me="@firebase/database",Ye="@firebase/data-connect",Xe="@firebase/database-compat",Rt="@firebase/functions",we="@firebase/functions-compat",jt="@firebase/installations",In="@firebase/installations-compat",Vn="@firebase/messaging",tr="@firebase/messaging-compat",qn="@firebase/performance",Jn="@firebase/performance-compat",nr="@firebase/remote-config",rr="@firebase/remote-config-compat",tn="@firebase/storage",Lt="@firebase/storage-compat",Ft="@firebase/firestore",on="@firebase/vertexai-preview",Ot="@firebase/firestore-compat",yr="firebase",On="[DEFAULT]",Pn={[En]:"fire-core",[_t]:"fire-core-compat",[te]:"fire-analytics",[Pe]:"fire-analytics-compat",[de]:"fire-app-check",[ne]:"fire-app-check-compat",[me]:"fire-auth",[ve]:"fire-auth-compat",[Me]:"fire-rtdb",[Ye]:"fire-data-connect",[Xe]:"fire-rtdb-compat",[Rt]:"fire-fn",[we]:"fire-fn-compat",[jt]:"fire-iid",[In]:"fire-iid-compat",[Vn]:"fire-fcm",[tr]:"fire-fcm-compat",[qn]:"fire-perf",[Jn]:"fire-perf-compat",[nr]:"fire-rc",[rr]:"fire-rc-compat",[tn]:"fire-gcs",[Lt]:"fire-gcs-compat",[Ft]:"fire-fst",[Ot]:"fire-fst-compat",[on]:"fire-vertex","fire-js":"fire-js",[yr]:"fire-js-all"},ur=new Map,Ir=new Map,Qn=new Map;function Kn(ie,K){try{ie.container.addComponent(K)}catch(Ae){Nn.debug(`Component ${K.name} failed to register with FirebaseApp ${ie.name}`,Ae)}}function mr(ie,K){ie.container.addOrOverwriteComponent(K)}function Xr(ie){const K=ie.name;if(Qn.has(K))return Nn.debug(`There were multiple attempts to register component ${K}.`),!1;Qn.set(K,ie);for(const Ae of ur.values())Kn(Ae,ie);for(const Ae of Ir.values())Kn(Ae,ie);return!0}function Er(ie,K){const Ae=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),ie.container.getProvider(K)}function Pr(ie,K,Ae=On){Er(ie,K).clearInstance(Ae)}function Ln(ie){return void 0!==ie.options}function si(ie){return void 0!==ie.settings}function Cr(){Qn.clear()}const $n=new Se.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Rn{constructor(K,Ae,J){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new h.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}class Or extends Rn{constructor(K,Ae,J,ee){const xe=void 0!==Ae.automaticDataCollectionEnabled&&Ae.automaticDataCollectionEnabled,It={name:J,automaticDataCollectionEnabled:xe};super(void 0!==K.apiKey?K:K.options,It,ee),this._serverConfig=Object.assign({automaticDataCollectionEnabled:xe},Ae),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ae.releaseOnDeref=void 0,Z(En,Zt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(K){this.isDeleted||(this._refCount++,void 0!==K&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(K,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ut(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $n.create("server-app-deleted")}}const vr="10.14.1";function Tt(ie,K={}){let Ae=ie;"object"!=typeof K&&(K={name:K});const J=Object.assign({name:On,automaticDataCollectionEnabled:!1},K),ee=J.name;if("string"!=typeof ee||!ee)throw $n.create("bad-app-name",{appName:String(ee)});if(Ae||(Ae=(0,Se.T9)()),!Ae)throw $n.create("no-options");const xe=ur.get(ee);if(xe){if((0,Se.bD)(Ae,xe.options)&&(0,Se.bD)(J,xe.config))return xe;throw $n.create("duplicate-app",{appName:ee})}const It=new h.h1(ee);for(const mn of Qn.values())It.addComponent(mn);const Kt=new Rn(Ae,J,It);return ur.set(ee,Kt),Kt}function nt(ie,K){if((0,Se.Bd)()&&!(0,Se.p7)())throw $n.create("invalid-server-app-environment");let Ae;void 0===K.automaticDataCollectionEnabled&&(K.automaticDataCollectionEnabled=!1),Ae=Ln(ie)?ie.options:ie;const J=Object.assign(Object.assign({},K),Ae);if(void 0!==J.releaseOnDeref&&delete J.releaseOnDeref,void 0!==K.releaseOnDeref&&typeof FinalizationRegistry>"u")throw $n.create("finalization-registry-not-supported",{});const xe=""+(se=JSON.stringify(J),[...se].reduce((Ne,ot)=>Math.imul(31,Ne)+ot.charCodeAt(0)|0,0)),It=Ir.get(xe);var se;if(It)return It.incRefCount(K.releaseOnDeref),It;const Kt=new h.h1(xe);for(const se of Qn.values())Kt.addComponent(se);const mn=new Or(Ae,K,xe,Kt);return Ir.set(xe,mn),mn}function kt(ie=On){const K=ur.get(ie);if(!K&&ie===On&&(0,Se.T9)())return Tt();if(!K)throw $n.create("no-app",{appName:ie});return K}function rt(){return Array.from(ur.values())}function ut(ie){return sn.apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(ie){let K=!1;const Ae=ie.name;ur.has(Ae)?(K=!0,ur.delete(Ae)):Ir.has(Ae)&&ie.decRefCount()<=0&&(Ir.delete(Ae),K=!0),K&&(yield Promise.all(ie.container.getProviders().map(J=>J.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function Z(ie,K,Ae){var J;let ee=null!==(J=Pn[ie])&&void 0!==J?J:ie;Ae&&(ee+=`-${Ae}`);const xe=ee.match(/\s|\//),It=K.match(/\s|\//);if(xe||It){const Kt=[`Unable to register library "${ee}" with version "${K}":`];return xe&&Kt.push(`library name "${ee}" contains illegal characters (whitespace or "/")`),xe&&It&&Kt.push("and"),It&&Kt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void Nn.warn(Kt.join(" "))}Xr(new h.uA(`${ee}-version`,()=>({library:ee,version:K}),"VERSION"))}function P(ie,K){if(null!==ie&&"function"!=typeof ie)throw $n.create("invalid-log-argument");(0,L.Ey)(ie,K)}function F(ie){(0,L.He)(ie)}const ce="firebase-heartbeat-database",ae=1,Qe="firebase-heartbeat-store";let Et=null;function Ut(){return Et||(Et=function ke(ie,K,{blocked:Ae,upgrade:J,blocking:ee,terminated:xe}={}){const It=indexedDB.open(ie,K),Kt=tt(It);return J&&It.addEventListener("upgradeneeded",mn=>{J(tt(It.result),mn.oldVersion,mn.newVersion,tt(It.transaction),mn)}),Ae&&It.addEventListener("blocked",mn=>Ae(mn.oldVersion,mn.newVersion,mn)),Kt.then(mn=>{xe&&mn.addEventListener("close",()=>xe()),ee&&mn.addEventListener("versionchange",se=>ee(se.oldVersion,se.newVersion,se))}).catch(()=>{}),Kt}(ce,ae,{upgrade:(ie,K)=>{if(0===K)try{ie.createObjectStore(Qe)}catch(Ae){console.warn(Ae)}}}).catch(ie=>{throw $n.create("idb-open",{originalErrorMessage:ie.message})})),Et}function un(){return(un=(0,c.A)(function*(ie){try{const Ae=(yield Ut()).transaction(Qe),J=yield Ae.objectStore(Qe).get(dr(ie));return yield Ae.done,J}catch(K){if(K instanceof Se.g)Nn.warn(K.message);else{const Ae=$n.create("idb-get",{originalErrorMessage:null==K?void 0:K.message});Nn.warn(Ae.message)}}})).apply(this,arguments)}function vn(ie,K){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*(ie,K){try{const J=(yield Ut()).transaction(Qe,"readwrite");yield J.objectStore(Qe).put(K,dr(ie)),yield J.done}catch(Ae){if(Ae instanceof Se.g)Nn.warn(Ae.message);else{const J=$n.create("idb-set",{originalErrorMessage:null==Ae?void 0:Ae.message});Nn.warn(J.message)}}})).apply(this,arguments)}function dr(ie){return`${ie.name}!${ie.options.appId}`}class ni{constructor(K){this.container=K,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new Mi(Ae),this._heartbeatsCachePromise=this._storage.read().then(J=>(this._heartbeatsCache=J,J))}triggerHeartbeat(){var K=this;return(0,c.A)(function*(){var Ae,J;try{const xe=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Ai();return null==(null===(Ae=K._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)&&(K._heartbeatsCache=yield K._heartbeatsCachePromise,null==(null===(J=K._heartbeatsCache)||void 0===J?void 0:J.heartbeats))||K._heartbeatsCache.lastSentHeartbeatDate===It||K._heartbeatsCache.heartbeats.some(Kt=>Kt.date===It)?void 0:(K._heartbeatsCache.heartbeats.push({date:It,agent:xe}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(Kt=>{const mn=new Date(Kt.date).valueOf();return Date.now()-mn<=2592e6}),K._storage.overwrite(K._heartbeatsCache))}catch(ee){Nn.warn(ee)}})()}getHeartbeatsHeader(){var K=this;return(0,c.A)(function*(){var Ae;try{if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null==(null===(Ae=K._heartbeatsCache)||void 0===Ae?void 0:Ae.heartbeats)||0===K._heartbeatsCache.heartbeats.length)return"";const J=Ai(),{heartbeatsToSend:ee,unsentEntries:xe}=function Ci(ie,K=1024){const Ae=[];let J=ie.slice();for(const ee of ie){const xe=Ae.find(It=>It.agent===ee.agent);if(xe){if(xe.dates.push(ee.date),Gi(Ae)>K){xe.dates.pop();break}}else if(Ae.push({agent:ee.agent,dates:[ee.date]}),Gi(Ae)>K){Ae.pop();break}J=J.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:J}}(K._heartbeatsCache.heartbeats),It=(0,Se.Uj)(JSON.stringify({version:2,heartbeats:ee}));return K._heartbeatsCache.lastSentHeartbeatDate=J,xe.length>0?(K._heartbeatsCache.heartbeats=xe,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),It}catch(J){return Nn.warn(J),""}})()}}function Ai(){return(new Date).toISOString().substring(0,10)}class Mi{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Se.zW)()&&(0,Se.eX)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,c.A)(function*(){if(yield K._canUseIndexedDBPromise){const J=yield function fn(ie){return un.apply(this,arguments)}(K.app);return null!=J&&J.heartbeats?J:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(K){var Ae=this;return(0,c.A)(function*(){var J;if(yield Ae._canUseIndexedDBPromise){const xe=yield Ae.read();return vn(Ae.app,{lastSentHeartbeatDate:null!==(J=K.lastSentHeartbeatDate)&&void 0!==J?J:xe.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var Ae=this;return(0,c.A)(function*(){var J;if(yield Ae._canUseIndexedDBPromise){const xe=yield Ae.read();return vn(Ae.app,{lastSentHeartbeatDate:null!==(J=K.lastSentHeartbeatDate)&&void 0!==J?J:xe.lastSentHeartbeatDate,heartbeats:[...xe.heartbeats,...K.heartbeats]})}})()}}function Gi(ie){return(0,Se.Uj)(JSON.stringify({version:2,heartbeats:ie})).length}!function Sr(ie){Xr(new h.uA("platform-logger",K=>new $t(K),"PRIVATE")),Xr(new h.uA("heartbeat",K=>new ni(K),"PRIVATE")),Z(En,Zt,ie),Z(En,Zt,"esm2017"),Z("fire-js","")}("")},1362:(bn,ht,O)=>{"use strict";O.d(ht,{h1:()=>Le,uA:()=>L});var c=O(467),h=O(1076);class L{constructor(Ce,fe,$e){this.name=Ce,this.instanceFactory=fe,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const Se="[DEFAULT]";class le{constructor(Ce,fe){this.name=Ce,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const fe=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(fe)){const $e=new h.cY;if(this.instancesDeferred.set(fe,$e),this.isInitialized(fe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:fe});He&&$e.resolve(He)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(Ce){var fe;const $e=this.normalizeInstanceIdentifier(null==Ce?void 0:Ce.identifier),He=null!==(fe=null==Ce?void 0:Ce.optional)&&void 0!==fe&&fe;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(Be){if(He)return null;throw Be}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function ye(Ge){return"EAGER"===Ge.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:Se})}catch{}for(const[fe,$e]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(fe);try{const Be=this.getOrInitializeService({instanceIdentifier:He});$e.resolve(Be)}catch{}}}}clearInstance(Ce=Se){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,c.A)(function*(){const fe=Array.from(Ce.instances.values());yield Promise.all([...fe.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...fe.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=Se){return this.instances.has(Ce)}getOptions(Ce=Se){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:fe={}}=Ce,$e=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:$e,options:fe});for(const[Be,st]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(Be)&&st.resolve(He);return He}onInit(Ce,fe){var $e;const He=this.normalizeInstanceIdentifier(fe),Be=null!==($e=this.onInitCallbacks.get(He))&&void 0!==$e?$e:new Set;Be.add(Ce),this.onInitCallbacks.set(He,Be);const st=this.instances.get(He);return st&&Ce(st,He),()=>{Be.delete(Ce)}}invokeOnInitCallbacks(Ce,fe){const $e=this.onInitCallbacks.get(fe);if($e)for(const He of $e)try{He(Ce,fe)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:fe={}}){let $e=this.instances.get(Ce);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=Ce,Ge===Se?void 0:Ge),options:fe}),this.instances.set(Ce,$e),this.instancesOptions.set(Ce,fe),this.invokeOnInitCallbacks($e,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,$e)}catch{}var Ge;return $e||null}normalizeInstanceIdentifier(Ce=Se){return this.component?this.component.multipleInstances?Ce:Se:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const fe=this.getProvider(Ce.name);if(fe.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);fe.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const fe=new le(Ce,this);return this.providers.set(Ce,fe),fe}getProviders(){return Array.from(this.providers.values())}}},8041:(bn,ht,O)=>{"use strict";O.d(ht,{$b:()=>h,Ey:()=>Ge,He:()=>Le,Vy:()=>ye});const c=[];var h=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(h||{});const L={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Se=h.INFO,le={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},he=(Ce,fe,...$e)=>{if(fe<Ce.logLevel)return;const He=(new Date).toISOString(),Be=le[fe];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Be](`[${He}]  ${Ce.name}:`,...$e)};class ye{constructor(fe){this.name=fe,this._logLevel=Se,this._logHandler=he,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in h))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?L[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...fe),this._logHandler(this,h.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...fe),this._logHandler(this,h.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,h.INFO,...fe),this._logHandler(this,h.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,h.WARN,...fe),this._logHandler(this,h.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...fe),this._logHandler(this,h.ERROR,...fe)}}function Le(Ce){c.forEach(fe=>{fe.setLogLevel(Ce)})}function Ge(Ce,fe){for(const $e of c){let He=null;fe&&fe.level&&(He=L[fe.level]),$e.userLogHandler=null===Ce?null:(Be,st,...dt)=>{const lt=dt.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch{return null}}).filter(et=>et).join(" ");st>=(null!=He?He:Be.logLevel)&&Ce({level:h[st].toLowerCase(),message:lt,args:dt,type:Be.name})}}}},2872:(bn,ht,O)=>{"use strict";O.d(ht,{Yq:()=>tn,TS:()=>qn,sR:()=>Jn,el:()=>Et,Sb:()=>Ln,QE:()=>ln,CF:()=>Xr,Rg:()=>sn,p4:()=>dr,jM:()=>Gi,q9:()=>jt,Kb:()=>Sr,CE:()=>Ut,pF:()=>fn,fL:()=>Gn,YV:()=>ce,er:()=>Dr,z3:()=>ni});var c=O(467),h=O(9842),L=O(4438),Se=O(9384),le=O(177),he=O(5531),ye=O(4442);var $t=O(1413),Qt=O(3726),En=O(4412),Zt=O(4572),Nn=O(7673),_t=O(1635),Pe=O(5964),te=O(5558),ne=O(3294),de=O(4341);const me=["tabsInner"];let Xe=(()=>{var ie;class K{constructor(J,ee){(0,h.A)(this,"doc",void 0),(0,h.A)(this,"_readyPromise",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"backButton",new $t.B),(0,h.A)(this,"keyboardDidShow",new $t.B),(0,h.A)(this,"keyboardDidHide",new $t.B),(0,h.A)(this,"pause",new $t.B),(0,h.A)(this,"resume",new $t.B),(0,h.A)(this,"resize",new $t.B),this.doc=J,ee.run(()=>{var xe;let It;this.win=J.defaultView,this.backButton.subscribeWithPriority=function(Kt,mn){return this.subscribe(se=>se.register(Kt,Ne=>ee.run(()=>mn(Ne))))},we(this.pause,J,"pause",ee),we(this.resume,J,"resume",ee),we(this.backButton,J,"ionBackButton",ee),we(this.resize,this.win,"resize",ee),we(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ee),we(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ee),this._readyPromise=new Promise(Kt=>{It=Kt}),null!==(xe=this.win)&&void 0!==xe&&xe.cordova?J.addEventListener("deviceready",()=>{It("cordova")},{once:!0}):It("dom")})}is(J){return(0,he.a)(this.win,J)}platforms(){return(0,he.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(J){return Rt(this.win.location.href,J)}isLandscape(){return!this.isPortrait()}isPortrait(){var J,ee;return null===(J=(ee=this.win).matchMedia)||void 0===J?void 0:J.call(ee,"(orientation: portrait)").matches}testUserAgent(J){const ee=this.win.navigator;return!!(null!=ee&&ee.userAgent&&ee.userAgent.indexOf(J)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.KVO(le.qQ),L.KVO(L.SKi))}),(0,h.A)(K,"\u0275prov",L.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})),K})();const Rt=(ie,K)=>{K=K.replace(/[[\]\\]/g,"\\$&");const J=new RegExp("[\\?&]"+K+"=([^&#]*)").exec(ie);return J?decodeURIComponent(J[1].replace(/\+/g," ")):null},we=(ie,K,Ae,J)=>{K&&K.addEventListener(Ae,ee=>{J.run(()=>{ie.next(null!=ee?ee.detail:void 0)})})};let jt=(()=>{var ie;class K{constructor(J,ee,xe,It){(0,h.A)(this,"location",void 0),(0,h.A)(this,"serializer",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"topOutlet",void 0),(0,h.A)(this,"direction",Vn),(0,h.A)(this,"animated",tr),(0,h.A)(this,"animationBuilder",void 0),(0,h.A)(this,"guessDirection","forward"),(0,h.A)(this,"guessAnimation",void 0),(0,h.A)(this,"lastNavId",-1),this.location=ee,this.serializer=xe,this.router=It,It&&It.events.subscribe(Kt=>{if(Kt instanceof Se.Z){const mn=Kt.restoredState?Kt.restoredState.navigationId:Kt.id;this.guessDirection=this.guessAnimation=mn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Kt.id:mn}}),J.backButton.subscribeWithPriority(0,Kt=>{this.pop(),Kt()})}navigateForward(J,ee={}){return this.setDirection("forward",ee.animated,ee.animationDirection,ee.animation),this.navigate(J,ee)}navigateBack(J,ee={}){return this.setDirection("back",ee.animated,ee.animationDirection,ee.animation),this.navigate(J,ee)}navigateRoot(J,ee={}){return this.setDirection("root",ee.animated,ee.animationDirection,ee.animation),this.navigate(J,ee)}back(J={animated:!0,animationDirection:"back"}){return this.setDirection("back",J.animated,J.animationDirection,J.animation),this.location.back()}pop(){var J=this;return(0,c.A)(function*(){let ee=J.topOutlet;for(;ee;){if(yield ee.pop())return!0;ee=ee.parentOutlet}return!1})()}setDirection(J,ee,xe,It){this.direction=J,this.animated=In(J,ee,xe),this.animationBuilder=It}setTopOutlet(J){this.topOutlet=J}consumeTransition(){let ee,J="root";const xe=this.animationBuilder;return"auto"===this.direction?(J=this.guessDirection,ee=this.guessAnimation):(ee=this.animated,J=this.direction),this.direction=Vn,this.animated=tr,this.animationBuilder=void 0,{direction:J,animation:ee,animationBuilder:xe}}navigate(J,ee){if(Array.isArray(J))return this.router.navigate(J,ee);{const xe=this.serializer.parse(J.toString());return void 0!==ee.queryParams&&(xe.queryParams={...ee.queryParams}),void 0!==ee.fragment&&(xe.fragment=ee.fragment),this.router.navigateByUrl(xe,ee)}}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.KVO(Xe),L.KVO(le.aZ),L.KVO(Se.Sd),L.KVO(Se.Ix,8))}),(0,h.A)(K,"\u0275prov",L.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})),K})();const In=(ie,K,Ae)=>{if(!1!==K){if(void 0!==Ae)return Ae;if("forward"===ie||"back"===ie)return ie;if("root"===ie&&!0===K)return"forward"}},Vn="auto",tr=void 0;let qn=(()=>{var ie;class K{get(J,ee){const xe=nr();return xe?xe.get(J,ee):null}getBoolean(J,ee){const xe=nr();return!!xe&&xe.getBoolean(J,ee)}getNumber(J,ee){const xe=nr();return xe?xe.getNumber(J,ee):0}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)}),(0,h.A)(K,"\u0275prov",L.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})),K})();const Jn=new L.nKC("USERCONFIG"),nr=()=>{if(typeof window<"u"){const ie=window.Ionic;if(null!=ie&&ie.config)return ie.config}return null};class rr{constructor(K={}){(0,h.A)(this,"data",void 0),this.data=K,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(K){return this.data[K]}}let tn=(()=>{var ie;class K{constructor(){(0,h.A)(this,"zone",(0,L.WQX)(L.SKi)),(0,h.A)(this,"applicationRef",(0,L.WQX)(L.o8S)),(0,h.A)(this,"config",(0,L.WQX)(Jn))}create(J,ee,xe){var It;return new Lt(J,ee,this.applicationRef,this.zone,xe,null!==(It=this.config.useSetInputAPI)&&void 0!==It&&It)}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)}),(0,h.A)(K,"\u0275prov",L.jDH({token:ie,factory:ie.\u0275fac})),K})();class Lt{constructor(K,Ae,J,ee,xe,It){(0,h.A)(this,"environmentInjector",void 0),(0,h.A)(this,"injector",void 0),(0,h.A)(this,"applicationRef",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"elementReferenceKey",void 0),(0,h.A)(this,"enableSignalsSupport",void 0),(0,h.A)(this,"elRefMap",new WeakMap),(0,h.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=K,this.injector=Ae,this.applicationRef=J,this.zone=ee,this.elementReferenceKey=xe,this.enableSignalsSupport=It}attachViewToDom(K,Ae,J,ee){return this.zone.run(()=>new Promise(xe=>{const It={...J};void 0!==this.elementReferenceKey&&(It[this.elementReferenceKey]=K),xe(Ft(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,K,Ae,It,ee,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(K,Ae){return this.zone.run(()=>new Promise(J=>{const ee=this.elRefMap.get(Ae);if(ee){ee.destroy(),this.elRefMap.delete(Ae);const xe=this.elEventsMap.get(Ae);xe&&(xe(),this.elEventsMap.delete(Ae))}J()}))}}const Ft=(ie,K,Ae,J,ee,xe,It,Kt,mn,se,Ne,ot)=>{const yt=L.zZn.create({providers:fr(mn),parent:Ae}),Nt=(0,L.a0P)(Kt,{environmentInjector:K,elementInjector:yt}),dn=Nt.instance,Mn=Nt.location.nativeElement;if(mn)if(Ne&&void 0!==dn[Ne]&&console.error(`[Ionic Error]: ${Ne} is a reserved property when using ${It.tagName.toLowerCase()}. Rename or remove the "${Ne}" property from ${Kt.name}.`),!0===ot&&void 0!==Nt.setInput){const{modal:cr,popover:sr,...xr}=mn;for(const vi in xr)Nt.setInput(vi,xr[vi]);void 0!==cr&&Object.assign(dn,{modal:cr}),void 0!==sr&&Object.assign(dn,{popover:sr})}else Object.assign(dn,mn);if(se)for(const cr of se)Mn.classList.add(cr);const An=Ot(ie,dn,Mn);return It.appendChild(Mn),J.attachView(Nt.hostView),ee.set(Mn,Nt),xe.set(Mn,An),Mn},on=[ye.L,ye.a,ye.b,ye.c,ye.d],Ot=(ie,K,Ae)=>ie.run(()=>{const J=on.filter(ee=>"function"==typeof K[ee]).map(ee=>{const xe=It=>K[ee](It.detail);return Ae.addEventListener(ee,xe),()=>Ae.removeEventListener(ee,xe)});return()=>J.forEach(ee=>ee())}),yr=new L.nKC("NavParamsToken"),fr=ie=>[{provide:yr,useValue:ie},{provide:rr,useFactory:On,deps:[yr]}],On=ie=>new rr(ie),Pn=(ie,K)=>{const Ae=ie.prototype;K.forEach(J=>{Object.defineProperty(Ae,J,{get(){return this.el[J]},set(ee){this.z.runOutsideAngular(()=>this.el[J]=ee)}})})},ur=(ie,K)=>{const Ae=ie.prototype;K.forEach(J=>{Ae[J]=function(){const ee=arguments;return this.z.runOutsideAngular(()=>this.el[J].apply(this.el,ee))}})},Ir=(ie,K,Ae)=>{Ae.forEach(J=>ie[J]=(0,Qt.R)(K,J))};function Qn(ie){return function(Ae){const{defineCustomElementFn:J,inputs:ee,methods:xe}=ie;return void 0!==J&&J(),ee&&Pn(Ae,ee),xe&&ur(Ae,xe),Ae}}const Kn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],mr=["present","dismiss","onDidDismiss","onWillDismiss"];let Xr=(()=>{var ie;let K=((0,h.A)(ie=class{constructor(J,ee,xe){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=xe,this.el=ee.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,J.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,J.detectChanges()}),Ir(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(J){return new(J||ie)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))}),(0,h.A)(ie,"\u0275dir",L.FsC({type:ie,selectors:[["ion-popover"]],contentQueries:function(J,ee,xe){if(1&J&&L.wni(xe,L.C4Q,5),2&J){let It;L.mGM(It=L.lsd())&&(ee.template=It.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ie);return K=(0,_t.Cg)([Qn({inputs:Kn,methods:mr})],K),K})();const Er=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Pr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ln=(()=>{var ie;let K=((0,h.A)(ie=class{constructor(J,ee,xe){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=xe,this.el=ee.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,J.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,J.detectChanges()}),Ir(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(J){return new(J||ie)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))}),(0,h.A)(ie,"\u0275dir",L.FsC({type:ie,selectors:[["ion-modal"]],contentQueries:function(J,ee,xe){if(1&J&&L.wni(xe,L.C4Q,5),2&J){let It;L.mGM(It=L.lsd())&&(ee.template=It.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ie);return K=(0,_t.Cg)([Qn({inputs:Er,methods:Pr})],K),K})();const Cr=(ie,K)=>((ie=ie.filter(Ae=>Ae.stackId!==K.stackId)).push(K),ie),Rn=(ie,K)=>{const Ae=ie.createUrlTree(["."],{relativeTo:K});return ie.serializeUrl(Ae)},Or=(ie,K)=>!K||ie.stackId!==K.stackId,vr=(ie,K)=>{if(!ie)return;const Ae=Tt(K);for(let J=0;J<Ae.length;J++){if(J>=ie.length)return Ae[J];if(Ae[J]!==ie[J])return}},Tt=ie=>ie.split("/").map(K=>K.trim()).filter(K=>""!==K),nt=ie=>{ie&&(ie.ref.destroy(),ie.unlistenEvents())};class kt{constructor(K,Ae,J,ee,xe,It){(0,h.A)(this,"containerEl",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"location",void 0),(0,h.A)(this,"views",[]),(0,h.A)(this,"runningTask",void 0),(0,h.A)(this,"skipTransition",!1),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"activeView",void 0),(0,h.A)(this,"nextId",0),this.containerEl=Ae,this.router=J,this.navCtrl=ee,this.zone=xe,this.location=It,this.tabsPrefix=void 0!==K?Tt(K):void 0}createView(K,Ae){var J;const ee=Rn(this.router,Ae),xe=null==K||null===(J=K.location)||void 0===J?void 0:J.nativeElement,It=Ot(this.zone,K.instance,xe);return{id:this.nextId++,stackId:vr(this.tabsPrefix,ee),unlistenEvents:It,element:xe,ref:K,url:ee}}getExistingView(K){const Ae=Rn(this.router,K),J=this.views.find(ee=>ee.url===Ae);return J&&J.ref.changeDetectorRef.reattach(),J}setActive(K){var Ae,J;const ee=this.navCtrl.consumeTransition();let{direction:xe,animation:It,animationBuilder:Kt}=ee;const mn=this.activeView,se=Or(K,mn);se&&(xe="back",It=void 0);const Ne=this.views.slice();let ot;const yt=this.router;yt.getCurrentNavigation?ot=yt.getCurrentNavigation():null!==(Ae=yt.navigations)&&void 0!==Ae&&Ae.value&&(ot=yt.navigations.value),null!==(J=ot)&&void 0!==J&&null!==(J=J.extras)&&void 0!==J&&J.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Nt=this.views.includes(K),dn=this.insertView(K,xe);Nt||K.ref.changeDetectorRef.detectChanges();const Mn=K.animationBuilder;return void 0===Kt&&"back"===xe&&!se&&void 0!==Mn&&(Kt=Mn),mn&&(mn.animationBuilder=Kt),this.zone.runOutsideAngular(()=>this.wait(()=>(mn&&mn.ref.changeDetectorRef.detach(),K.ref.changeDetectorRef.reattach(),this.transition(K,mn,It,this.canGoBack(1),!1,Kt).then(()=>rt(K,dn,Ne,this.location,this.zone)).then(()=>({enteringView:K,direction:xe,animation:It,tabSwitch:se})))))}canGoBack(K,Ae=this.getActiveStackId()){return this.getStack(Ae).length>K}pop(K,Ae=this.getActiveStackId()){return this.zone.run(()=>{const J=this.getStack(Ae);if(J.length<=K)return Promise.resolve(!1);const ee=J[J.length-K-1];let xe=ee.url;const It=ee.savedData;if(It){var Kt;const se=It.get("primary");null!=se&&null!==(Kt=se.route)&&void 0!==Kt&&null!==(Kt=Kt._routerState)&&void 0!==Kt&&Kt.snapshot.url&&(xe=se.route._routerState.snapshot.url)}const{animationBuilder:mn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(xe,{...ee.savedExtras,animation:mn}).then(()=>!0)})}startBackTransition(){const K=this.activeView;if(K){const Ae=this.getStack(K.stackId),J=Ae[Ae.length-2],ee=J.animationBuilder;return this.wait(()=>this.transition(J,K,"back",this.canGoBack(2),!0,ee))}return Promise.resolve()}endBackTransition(K){K?(this.skipTransition=!0,this.pop(1)):this.activeView&&ut(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(K){const Ae=this.getStack(K);return Ae.length>0?Ae[Ae.length-1]:void 0}getRootUrl(K){const Ae=this.getStack(K);return Ae.length>0?Ae[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(nt),this.activeView=void 0,this.views=[]}getStack(K){return this.views.filter(Ae=>Ae.stackId===K)}insertView(K,Ae){return this.activeView=K,this.views=((ie,K,Ae)=>"root"===Ae?Cr(ie,K):"forward"===Ae?((ie,K)=>(ie.indexOf(K)>=0?ie=ie.filter(J=>J.stackId!==K.stackId||J.id<=K.id):ie.push(K),ie))(ie,K):((ie,K)=>ie.indexOf(K)>=0?ie.filter(J=>J.stackId!==K.stackId||J.id<=K.id):Cr(ie,K))(ie,K))(this.views,K,Ae),this.views.slice()}transition(K,Ae,J,ee,xe,It){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ae===K)return Promise.resolve(!1);const Kt=K?K.element:void 0,mn=Ae?Ae.element:void 0,se=this.containerEl;return Kt&&Kt!==mn&&(Kt.classList.add("ion-page"),Kt.classList.add("ion-page-invisible"),se.commit)?se.commit(Kt,mn,{duration:void 0===J?0:void 0,direction:J,showGoBack:ee,progressAnimation:xe,animationBuilder:It}):Promise.resolve(!1)}wait(K){var Ae=this;return(0,c.A)(function*(){void 0!==Ae.runningTask&&(yield Ae.runningTask,Ae.runningTask=void 0);const J=Ae.runningTask=K();return J.finally(()=>Ae.runningTask=void 0),J})()}}const rt=(ie,K,Ae,J,ee)=>"function"==typeof requestAnimationFrame?new Promise(xe=>{requestAnimationFrame(()=>{ut(ie,K,Ae,J,ee),xe()})}):Promise.resolve(),ut=(ie,K,Ae,J,ee)=>{ee.run(()=>Ae.filter(xe=>!K.includes(xe)).forEach(nt)),K.forEach(xe=>{const Kt=J.path().split("?")[0].split("#")[0];if(xe!==ie&&xe.url!==Kt){const mn=xe.element;mn.setAttribute("aria-hidden","true"),mn.classList.add("ion-page-hidden"),xe.ref.changeDetectorRef.detach()}})};let sn=(()=>{var ie;class K{get activatedComponentRef(){return this.activated}set animation(J){this.nativeEl.animation=J}set animated(J){this.nativeEl.animated=J}set swipeGesture(J){this._swipeGesture=J,this.nativeEl.swipeHandler=J?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ee=>this.stackCtrl.endBackTransition(ee)}:void 0}constructor(J,ee,xe,It,Kt,mn,se,Ne){(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"nativeEl",void 0),(0,h.A)(this,"activatedView",null),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"_swipeGesture",void 0),(0,h.A)(this,"stackCtrl",void 0),(0,h.A)(this,"proxyMap",new WeakMap),(0,h.A)(this,"currentActivatedRoute$",new En.t(null)),(0,h.A)(this,"activated",null),(0,h.A)(this,"_activatedRoute",null),(0,h.A)(this,"name",Se.Xk),(0,h.A)(this,"stackWillChange",new L.bkB),(0,h.A)(this,"stackDidChange",new L.bkB),(0,h.A)(this,"activateEvents",new L.bkB),(0,h.A)(this,"deactivateEvents",new L.bkB),(0,h.A)(this,"parentContexts",(0,L.WQX)(Se.Zp)),(0,h.A)(this,"location",(0,L.WQX)(L.c1b)),(0,h.A)(this,"environmentInjector",(0,L.WQX)(L.uvJ)),(0,h.A)(this,"inputBinder",(0,L.WQX)(P,{optional:!0})),(0,h.A)(this,"supportsBindingToComponentInputs",!0),(0,h.A)(this,"config",(0,L.WQX)(qn)),(0,h.A)(this,"navCtrl",(0,L.WQX)(jt)),this.parentOutlet=Ne,this.nativeEl=It.nativeElement,this.name=J||Se.Xk,this.tabsPrefix="true"===ee?Rn(Kt,se):void 0,this.stackCtrl=new kt(this.tabsPrefix,this.nativeEl,Kt,this.navCtrl,mn,xe),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var J;this.stackCtrl.destroy(),null===(J=this.inputBinder)||void 0===J||J.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const J=this.getContext();null!=J&&J.route&&this.activateWith(J.route,J.injector)}new Promise(J=>((ie,K)=>{ie.componentOnReady?ie.componentOnReady().then(Ae=>K(Ae)):(ie=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie)})(()=>K(ie))})(this.nativeEl,J)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(J,ee){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ee=this.getContext();this.activatedView.savedData=new Map(ee.children.contexts);const xe=this.activatedView.savedData.get("primary");if(xe&&ee.route&&(xe.route={...ee.route}),this.activatedView.savedExtras={},ee.route){const It=ee.route.snapshot;this.activatedView.savedExtras.queryParams=It.queryParams,this.activatedView.savedExtras.fragment=It.fragment}}const J=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(J)}}activateWith(J,ee){var xe;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=J;let It,Kt=this.stackCtrl.getExistingView(J);if(Kt){It=this.activated=Kt.ref;const Ne=Kt.savedData;Ne&&(this.getContext().children.contexts=Ne),this.updateActivatedRouteProxy(It.instance,J)}else{var mn;const Ne=J._futureSnapshot,ot=this.parentContexts.getOrCreateContext(this.name).children,yt=new En.t(null),Nt=this.createActivatedRouteProxy(yt,J),dn=new Z(Nt,ot,this.location.injector),Mn=null!==(mn=Ne.routeConfig.component)&&void 0!==mn?mn:Ne.component;It=this.activated=this.outletContent.createComponent(Mn,{index:this.outletContent.length,injector:dn,environmentInjector:null!=ee?ee:this.environmentInjector}),yt.next(It.instance),Kt=this.stackCtrl.createView(this.activated,J),this.proxyMap.set(It.instance,Nt),this.currentActivatedRoute$.next({component:It.instance,activatedRoute:J})}null===(xe=this.inputBinder)||void 0===xe||xe.bindActivatedRouteToOutletComponent(this),this.activatedView=Kt,this.navCtrl.setTopOutlet(this);const se=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Kt,tabSwitch:Or(Kt,se)}),this.stackCtrl.setActive(Kt).then(Ne=>{this.activateEvents.emit(It.instance),this.stackDidChange.emit(Ne)})}canGoBack(J=1,ee){return this.stackCtrl.canGoBack(J,ee)}pop(J=1,ee){return this.stackCtrl.pop(J,ee)}getLastUrl(J){const ee=this.stackCtrl.getLastUrl(J);return ee?ee.url:void 0}getLastRouteView(J){return this.stackCtrl.getLastUrl(J)}getRootView(J){return this.stackCtrl.getRootUrl(J)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(J,ee){const xe=new Se.nX;return xe._futureSnapshot=ee._futureSnapshot,xe._routerState=ee._routerState,xe.snapshot=ee.snapshot,xe.outlet=ee.outlet,xe.component=ee.component,xe._paramMap=this.proxyObservable(J,"paramMap"),xe._queryParamMap=this.proxyObservable(J,"queryParamMap"),xe.url=this.proxyObservable(J,"url"),xe.params=this.proxyObservable(J,"params"),xe.queryParams=this.proxyObservable(J,"queryParams"),xe.fragment=this.proxyObservable(J,"fragment"),xe.data=this.proxyObservable(J,"data"),xe}proxyObservable(J,ee){return J.pipe((0,Pe.p)(xe=>!!xe),(0,te.n)(xe=>this.currentActivatedRoute$.pipe((0,Pe.p)(It=>null!==It&&It.component===xe),(0,te.n)(It=>It&&It.activatedRoute[ee]),(0,ne.F)())))}updateActivatedRouteProxy(J,ee){const xe=this.proxyMap.get(J);if(!xe)throw new Error("Could not find activated route proxy for view");xe._futureSnapshot=ee._futureSnapshot,xe._routerState=ee._routerState,xe.snapshot=ee.snapshot,xe.outlet=ee.outlet,xe.component=ee.component,this.currentActivatedRoute$.next({component:J,activatedRoute:ee})}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.kS0("name"),L.kS0("tabs"),L.rXU(le.aZ),L.rXU(L.aKT),L.rXU(Se.Ix),L.rXU(L.SKi),L.rXU(Se.nX),L.rXU(ie,12))}),(0,h.A)(K,"\u0275dir",L.FsC({type:ie,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),K})();class Z{constructor(K,Ae,J){(0,h.A)(this,"route",void 0),(0,h.A)(this,"childContexts",void 0),(0,h.A)(this,"parent",void 0),this.route=K,this.childContexts=Ae,this.parent=J}get(K,Ae){return K===Se.nX?this.route:K===Se.Zp?this.childContexts:this.parent.get(K,Ae)}}const P=new L.nKC("");let F=(()=>{var ie;class K{constructor(){(0,h.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(J){this.unsubscribeFromRouteData(J),this.subscribeToRouteData(J)}unsubscribeFromRouteData(J){var ee;null===(ee=this.outletDataSubscriptions.get(J))||void 0===ee||ee.unsubscribe(),this.outletDataSubscriptions.delete(J)}subscribeToRouteData(J){const{activatedRoute:ee}=J,xe=(0,Zt.z)([ee.queryParams,ee.params,ee.data]).pipe((0,te.n)(([It,Kt,mn],se)=>(mn={...It,...Kt,...mn},0===se?(0,Nn.of)(mn):Promise.resolve(mn)))).subscribe(It=>{if(!J.isActivated||!J.activatedComponentRef||J.activatedRoute!==ee||null===ee.component)return void this.unsubscribeFromRouteData(J);const Kt=(0,L.HJs)(ee.component);if(Kt)for(const{templateName:mn}of Kt.inputs)J.activatedComponentRef.setInput(mn,It[mn]);else this.unsubscribeFromRouteData(J)});this.outletDataSubscriptions.set(J,xe)}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)}),(0,h.A)(K,"\u0275prov",L.jDH({token:ie,factory:ie.\u0275fac})),K})();const ce=()=>({provide:P,useFactory:ae,deps:[Se.Ix]});function ae(ie){return null!=ie&&ie.componentInputBindingEnabled?new F:null}const Qe=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Et=(()=>{var ie;let K=((0,h.A)(ie=class{constructor(J,ee,xe,It,Kt,mn){(0,h.A)(this,"routerOutlet",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"config",void 0),(0,h.A)(this,"r",void 0),(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.routerOutlet=J,this.navCtrl=ee,this.config=xe,this.r=It,this.z=Kt,mn.detach(),this.el=this.r.nativeElement}onClick(J){var ee;const xe=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ee=this.routerOutlet)&&void 0!==ee&&ee.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),J.preventDefault()):null!=xe&&(this.navCtrl.navigateBack(xe,{animation:this.routerAnimation}),J.preventDefault())}},"\u0275fac",function(J){return new(J||ie)(L.rXU(sn,8),L.rXU(jt),L.rXU(qn),L.rXU(L.aKT),L.rXU(L.SKi),L.rXU(L.gRc))}),(0,h.A)(ie,"\u0275dir",L.FsC({type:ie,hostBindings:function(J,ee){1&J&&L.bIt("click",function(It){return ee.onClick(It)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ie);return K=(0,_t.Cg)([Qn({inputs:Qe})],K),K})(),Ut=(()=>{var ie;class K{constructor(J,ee,xe,It,Kt){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=J,this.navCtrl=ee,this.elementRef=xe,this.router=It,this.routerLink=Kt}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const ee=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(ee.tagName)&&"0"===ee.getAttribute("tabindex")&&ee.removeAttribute("tabindex")}updateTargetUrlAndHref(){var J;if(null!==(J=this.routerLink)&&void 0!==J&&J.urlTree){const ee=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ee}}onClick(J){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),J.preventDefault()}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.rXU(le.hb),L.rXU(jt),L.rXU(L.aKT),L.rXU(Se.Ix),L.rXU(Se.Wk,8))}),(0,h.A)(K,"\u0275dir",L.FsC({type:ie,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(J,ee){1&J&&L.bIt("click",function(It){return ee.onClick(It)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})),K})(),fn=(()=>{var ie;class K{constructor(J,ee,xe,It,Kt){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=J,this.navCtrl=ee,this.elementRef=xe,this.router=It,this.routerLink=Kt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var J;if(null!==(J=this.routerLink)&&void 0!==J&&J.urlTree){const ee=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ee}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.rXU(le.hb),L.rXU(jt),L.rXU(L.aKT),L.rXU(Se.Ix),L.rXU(Se.Wk,8))}),(0,h.A)(K,"\u0275dir",L.FsC({type:ie,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(J,ee){1&J&&L.bIt("click",function(){return ee.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})),K})();const un=["animated","animation","root","rootParams","swipeGesture"],vn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let ln=(()=>{var ie;let K=((0,h.A)(ie=class{constructor(J,ee,xe,It,Kt,mn){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=Kt,mn.detach(),this.el=J.nativeElement,J.nativeElement.delegate=It.create(ee,xe),Ir(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(J){return new(J||ie)(L.rXU(L.aKT),L.rXU(L.uvJ),L.rXU(L.zZn),L.rXU(tn),L.rXU(L.SKi),L.rXU(L.gRc))}),(0,h.A)(ie,"\u0275dir",L.FsC({type:ie,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ie);return K=(0,_t.Cg)([Qn({inputs:un,methods:vn})],K),K})(),dr=(()=>{var ie;class K{constructor(J){(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"tabsInner",void 0),(0,h.A)(this,"ionTabsWillChange",new L.bkB),(0,h.A)(this,"ionTabsDidChange",new L.bkB),(0,h.A)(this,"tabBarSlot","bottom"),(0,h.A)(this,"hasTab",!1),(0,h.A)(this,"selectedTab",void 0),(0,h.A)(this,"leavingTab",void 0),this.navCtrl=J}ngAfterViewInit(){const J=this.tabs.length>0?this.tabs.first:void 0;J&&(this.hasTab=!0,this.setActiveTab(J.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:J,tabSwitch:ee}){const xe=J.stackId;ee&&void 0!==xe&&this.ionTabsWillChange.emit({tab:xe})}onStackDidChange({enteringView:J,tabSwitch:ee}){const xe=J.stackId;ee&&void 0!==xe&&(this.tabBar&&(this.tabBar.selectedTab=xe),this.ionTabsDidChange.emit({tab:xe}))}select(J){const ee="string"==typeof J,xe=ee?J:J.detail.tab;if(this.hasTab)return this.setActiveTab(xe),void this.tabSwitch();const It=this.outlet.getActiveStackId()===xe,Kt=`${this.outlet.tabsPrefix}/${xe}`;if(ee||J.stopPropagation(),It){const mn=this.outlet.getActiveStackId(),se=this.outlet.getLastRouteView(mn);if((null==se?void 0:se.url)===Kt)return;const Ne=this.outlet.getRootView(xe);return this.navCtrl.navigateRoot(Kt,{...Ne&&Kt===Ne.url&&Ne.savedExtras,animated:!0,animationDirection:"back"})}{const mn=this.outlet.getLastRouteView(xe);return this.navCtrl.navigateRoot((null==mn?void 0:mn.url)||Kt,{...null==mn?void 0:mn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(J){const xe=this.tabs.find(It=>It.tab===J);xe?(this.leavingTab=this.selectedTab,this.selectedTab=xe,this.ionTabsWillChange.emit({tab:J}),xe.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${J}" does not exist`)}tabSwitch(){const{selectedTab:J,leavingTab:ee}=this;this.tabBar&&J&&(this.tabBar.selectedTab=J.tab),(null==ee?void 0:ee.tab)!==(null==J?void 0:J.tab)&&null!=ee&&ee.el&&(ee.el.active=!1),J&&this.ionTabsDidChange.emit({tab:J.tab})}getSelected(){var J;return this.hasTab?null===(J=this.selectedTab)||void 0===J?void 0:J.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(J=>{const ee=J.el.getAttribute("slot");ee!==this.tabBarSlot&&(this.tabBarSlot=ee,this.relocateTabBar())})}relocateTabBar(){const J=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(J):this.tabsInner.nativeElement.after(J)}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.rXU(jt))}),(0,h.A)(K,"\u0275dir",L.FsC({type:ie,selectors:[["ion-tabs"]],viewQuery:function(J,ee){if(1&J&&L.GBs(me,7,L.aKT),2&J){let xe;L.mGM(xe=L.lsd())&&(ee.tabsInner=xe.first)}},hostBindings:function(J,ee){1&J&&L.bIt("ionTabButtonClick",function(It){return ee.select(It)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),K})();const Dr=ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie);let Gn=(()=>{var ie;class K{constructor(J,ee){(0,h.A)(this,"injector",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"onChange",()=>{}),(0,h.A)(this,"onTouched",()=>{}),(0,h.A)(this,"lastValue",void 0),(0,h.A)(this,"statusChanges",void 0),this.injector=J,this.elementRef=ee}writeValue(J){this.elementRef.nativeElement.value=this.lastValue=J,ni(this.elementRef)}handleValueChange(J,ee){J===this.elementRef.nativeElement&&(ee!==this.lastValue&&(this.lastValue=ee,this.onChange(ee)),ni(this.elementRef))}_handleBlurEvent(J){J===this.elementRef.nativeElement&&(this.onTouched(),ni(this.elementRef))}registerOnChange(J){this.onChange=J}registerOnTouched(J){this.onTouched=J}setDisabledState(J){this.elementRef.nativeElement.disabled=J}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let J;try{J=this.injector.get(de.vO)}catch{}if(!J)return;J.statusChanges&&(this.statusChanges=J.statusChanges.subscribe(()=>ni(this.elementRef)));const ee=J.control;ee&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(It=>{if(typeof ee[It]<"u"){const Kt=ee[It].bind(ee);ee[It]=(...mn)=>{Kt(...mn),ni(this.elementRef)}}})}}return ie=K,(0,h.A)(K,"\u0275fac",function(J){return new(J||ie)(L.rXU(L.zZn),L.rXU(L.aKT))}),(0,h.A)(K,"\u0275dir",L.FsC({type:ie,hostBindings:function(J,ee){1&J&&L.bIt("ionBlur",function(It){return ee._handleBlurEvent(It.target)})}})),K})();const ni=ie=>{Dr(()=>{const K=ie.nativeElement,Ae=null!=K.value&&K.value.toString().length>0,J=Ai(K);Ci(K,J);const ee=K.closest("ion-item");ee&&Ci(ee,Ae?[...J,"item-has-value"]:J)})},Ai=ie=>{const K=ie.classList,Ae=[];for(let J=0;J<K.length;J++){const ee=K.item(J);null!==ee&&Mi(ee,"ng-")&&Ae.push(`ion-${ee.substring(3)}`)}return Ae},Ci=(ie,K)=>{const Ae=ie.classList;Ae.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ae.add(...K)},Mi=(ie,K)=>ie.substring(0,K.length)===K;class Gi{shouldDetach(K){return!1}shouldAttach(K){return!1}store(K,Ae){}retrieve(K){return null}shouldReuseRoute(K,Ae){if(K.routeConfig!==Ae.routeConfig)return!1;const J=K.params,ee=Ae.params,xe=Object.keys(J),It=Object.keys(ee);if(xe.length!==It.length)return!1;for(const Kt of xe)if(ee[Kt]!==J[Kt])return!1;return!0}}class Sr{constructor(K){(0,h.A)(this,"ctrl",void 0),this.ctrl=K}create(K){return this.ctrl.create(K||{})}dismiss(K,Ae,J){return this.ctrl.dismiss(K,Ae,J)}getTop(){return this.ctrl.getTop()}}},4742:(bn,ht,O)=>{"use strict";O.d(ht,{hG:()=>Vi,Hx:()=>xo,U1:()=>qn,mC:()=>Jn,el:()=>li,Jm:()=>Ft,QW:()=>on,W9:()=>Kn,M0:()=>si,eU:()=>Zr,iq:()=>$n,$w:()=>Tt,uz:()=>kt,he:()=>F,nf:()=>ce,oS:()=>Et,MC:()=>Ut,cA:()=>fn,Rg:()=>ai,S1:()=>ee,BC:()=>sr,ai:()=>Ri,bv:()=>Us,Xi:()=>Fr,W3:()=>Uo,N7:()=>kr,Gw:()=>ve,K_:()=>Cs});var c=O(9842),h=O(4438),L=O(4341),Se=O(2872),le=O(1635),he=O(3726),ye=O(177),Le=O(9384),Ge=O(9986),He=(O(3604),O(5022),O(3615),O(3351)),st=(O(8607),O(9483)),dt=O(464),et=(O(9568),O(9440)),Ke=(O(8476),O(4261));O(1970),O(7192);var vt=O(467);const Dt=st.i,ze=function(){var x=(0,vt.A)(function*(X,_e){if(!(typeof window>"u"))return yield Dt(),(0,Ke.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),_e)});return function(_e,y){return x.apply(this,arguments)}}(),Ve=["*"],$t=["outletContent"];let ve=(()=>{var x;class X extends Se.fL{constructor(y,M){super(y,M)}_handleInputEvent(y){this.handleValueChange(y,y.value)}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(X,"\u0275dir",h.FsC({type:x,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(y,M){1&y&&h.bIt("ionInput",function(Fe){return M._handleInputEvent(Fe.target)})},features:[h.Jv_([{provide:L.kq,useExisting:x,multi:!0}]),h.Vt3]})),X})();const Me=(x,X)=>{const _e=x.prototype;X.forEach(y=>{Object.defineProperty(_e,y,{get(){return this.el[y]},set(M){this.z.runOutsideAngular(()=>this.el[y]=M)},configurable:!0})})},Ye=(x,X)=>{const _e=x.prototype;X.forEach(y=>{_e[y]=function(){const M=arguments;return this.z.runOutsideAngular(()=>this.el[y].apply(this.el,M))}})},Xe=(x,X,_e)=>{_e.forEach(y=>x[y]=(0,he.R)(X,y))};function we(x){return function(_e){const{defineCustomElementFn:y,inputs:M,methods:Q}=x;return void 0!==y&&y(),M&&Me(_e,M),Q&&Ye(_e,Q),_e}}let qn=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-app"]],ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({methods:["setFocus"]})],X),X})(),Jn=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-avatar"]],ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({})],X),X})(),Ft=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement,Xe(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],X),X})(),on=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["collapse"]})],X),X})(),Kn=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement,Xe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],X),X})(),si=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["collapse","mode","translucent"]})],X),X})(),Zr=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["collapse","mode","translucent"]})],X),X})(),$n=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],X),X})(),Tt=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement,Xe(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],X),X})(),kt=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),F=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["color","mode","position"]})],X),X})(),ce=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],X),X})(),Et=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement,Xe(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],X),X})(),Ut=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["autoHide","color","disabled","menu","mode","type"]})],X),X})(),fn=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["autoHide","menu"]})],X),X})(),ee=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement,Xe(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],X),X})(),sr=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["color","size"]})],X),X})(),Ri=(()=>{var x;let X=((0,c.A)(x=class{constructor(y,M,Q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=Q,y.detach(),this.el=M.nativeElement}},"\u0275fac",function(y){return new(y||x)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(x,"\u0275cmp",h.VBU({type:x,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),x);return X=(0,le.Cg)([we({inputs:["color","mode"]})],X),X})(),ai=(()=>{var x;class X extends Se.Rg{constructor(y,M,Q,Fe,ct,at,en,wt){super(y,M,Q,Fe,ct,at,en,wt),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=wt}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)(h.kS0("name"),h.kS0("tabs"),h.rXU(ye.aZ),h.rXU(h.aKT),h.rXU(Le.Ix),h.rXU(h.SKi),h.rXU(Le.nX),h.rXU(x,12))}),(0,c.A)(X,"\u0275cmp",h.VBU({type:x,selectors:[["ion-router-outlet"]],viewQuery:function(y,M){if(1&y&&h.GBs($t,7,h.c1b),2&y){let Q;h.mGM(Q=h.lsd())&&(M.outletContent=Q.first)}},features:[h.Vt3],ngContentSelectors:Ve,decls:3,vars:0,consts:[["outletContent",""]],template:function(y,M){1&y&&(h.NAR(),h.qex(0,null,0),h.SdG(2),h.bVm())},encapsulation:2})),X})(),li=(()=>{var x;class X extends Se.el{constructor(y,M,Q,Fe,ct,at){super(y,M,Q,Fe,ct,at)}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)(h.rXU(ai,8),h.rXU(Se.q9),h.rXU(Se.TS),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(h.gRc))}),(0,c.A)(X,"\u0275cmp",h.VBU({type:x,selectors:[["ion-back-button"]],features:[h.Vt3],ngContentSelectors:Ve,decls:1,vars:0,template:function(y,M){1&y&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),X})(),kr=(()=>{var x;class X extends Se.CE{}return x=X,(0,c.A)(X,"\u0275fac",(()=>{let _e;return function(M){return(_e||(_e=h.xGo(x)))(M||x)}})()),(0,c.A)(X,"\u0275dir",h.FsC({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],features:[h.Vt3]})),X})();const er={provide:L.cz,useExisting:(0,h.Rfq)(()=>Tr),multi:!0};let Tr=(()=>{var x;class X extends L.zX{}return x=X,(0,c.A)(X,"\u0275fac",(()=>{let _e;return function(M){return(_e||(_e=h.xGo(x)))(M||x)}})()),(0,c.A)(X,"\u0275dir",h.FsC({type:x,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(y,M){2&y&&h.BMQ("max",M._enabled?M.max:null)},features:[h.Jv_([er]),h.Vt3]})),X})();const Is={provide:L.cz,useExisting:(0,h.Rfq)(()=>Jo),multi:!0};let Jo=(()=>{var x;class X extends L.VZ{}return x=X,(0,c.A)(X,"\u0275fac",(()=>{let _e;return function(M){return(_e||(_e=h.xGo(x)))(M||x)}})()),(0,c.A)(X,"\u0275dir",h.FsC({type:x,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(y,M){2&y&&h.BMQ("min",M._enabled?M.min:null)},features:[h.Jv_([Is]),h.Vt3]})),X})(),Vi=(()=>{var x;class X extends Se.Kb{constructor(){super(et.a)}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)}),(0,c.A)(X,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})),X})(),xo=(()=>{var x;class X{create(y){return(0,Ge.c)(y)}easingTime(y,M,Q,Fe,ct){return(0,He.g)(y,M,Q,Fe,ct)}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)}),(0,c.A)(X,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})),X})(),Fr=(()=>{var x;class X extends Se.Kb{constructor(){super(et.l)}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)}),(0,c.A)(X,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})),X})(),Uo=(()=>{var x;class X extends Se.Kb{constructor(){super(et.m),(0,c.A)(this,"angularDelegate",(0,h.WQX)(Se.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(y){return super.create({...y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)}),(0,c.A)(X,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac})),X})();class ls extends Se.Kb{constructor(){super(et.c),(0,c.A)(this,"angularDelegate",(0,h.WQX)(Se.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(X){return super.create({...X,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Cs=(()=>{var x;class X extends Se.Kb{constructor(){super(et.t)}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)}),(0,c.A)(X,"\u0275prov",h.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})),X})();const us=(x,X,_e)=>()=>{const y=X.defaultView;if(y&&typeof window<"u"){(0,dt.s)({...x,_zoneGate:Q=>_e.run(Q)});const M="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function it(){var x=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&x.push(O.e(7278).then(O.t.bind(O,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var y=new URL("b","http://a");return y.pathname="c%20d","http://a/c%20d"===y.href&&y.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&x.push(O.e(9329).then(O.t.bind(O,7783,23)))}return Promise.all(x)}().then(()=>ze(y,{exclude:["ion-tabs"],syncQueue:!0,raf:Se.er,jmp:Q=>_e.runOutsideAngular(Q),ael(Q,Fe,ct,at){Q[M](Fe,ct,at)},rel(Q,Fe,ct,at){Q.removeEventListener(Fe,ct,at)}}))}};let Us=(()=>{var x;class X{static forRoot(y={}){return{ngModule:X,providers:[{provide:Se.sR,useValue:y},{provide:h.hnV,useFactory:us,multi:!0,deps:[Se.sR,ye.qQ,h.SKi]},Se.Yq,(0,Se.YV)()]}}}return x=X,(0,c.A)(X,"\u0275fac",function(y){return new(y||x)}),(0,c.A)(X,"\u0275mod",h.$C({type:x})),(0,c.A)(X,"\u0275inj",h.G2t({providers:[Uo,ls],imports:[ye.MD]})),X})()},2214:(bn,ht,O)=>{"use strict";O.d(ht,{Dk:()=>c.getApps,Sx:()=>c.getApp});var c=O(7852);(0,c.registerVersion)("firebase","10.14.1","app")},7935:(bn,ht,O)=>{"use strict";O.d(ht,{A:()=>c.A});var c=O(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},2438:(bn,ht,O)=>{"use strict";var c=O(467),h=O(3345),L=O(5504),Se=O(1076),ye=(O(7852),O(8041),O(1362));function Le(){return window}function fe(){return fe=(0,c.A)(function*(Z,P,F){var ce;const{BuildInfo:ae}=Le();(0,L.au)(P.sessionId,"AuthEvent did not contain a session ID");const Qe=yield function et(Z){return ft.apply(this,arguments)}(P.sessionId),Et={};return(0,L.av)()?Et.ibi=ae.packageName:(0,L.aw)()?Et.apn=ae.packageName:(0,L.ax)(Z,"operation-not-supported-in-this-environment"),ae.displayName&&(Et.appDisplayName=ae.displayName),Et.sessionId=Qe,(0,L.ay)(Z,F,P.type,void 0,null!==(ce=P.eventId)&&void 0!==ce?ce:void 0,Et)}),fe.apply(this,arguments)}function He(){return(He=(0,c.A)(function*(Z){const{BuildInfo:P}=Le(),F={};(0,L.av)()?F.iosBundleId=P.packageName:(0,L.aw)()?F.androidPackageName=P.packageName:(0,L.ax)(Z,"operation-not-supported-in-this-environment"),yield(0,L.az)(Z,F)})).apply(this,arguments)}function dt(){return(dt=(0,c.A)(function*(Z,P,F){const{cordova:ce}=Le();let ae=()=>{};try{yield new Promise((Qe,Et)=>{let Ut=null;function fn(){var ln;Qe();const dr=null===(ln=ce.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof dr&&dr(),"function"==typeof(null==F?void 0:F.close)&&F.close()}function un(){Ut||(Ut=window.setTimeout(()=>{Et((0,L.aB)(Z,"redirect-cancelled-by-user"))},2e3))}function vn(){"visible"===(null==document?void 0:document.visibilityState)&&un()}P.addPassiveListener(fn),document.addEventListener("resume",un,!1),(0,L.aw)()&&document.addEventListener("visibilitychange",vn,!1),ae=()=>{P.removePassiveListener(fn),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",vn,!1),Ut&&window.clearTimeout(Ut)}})}finally{ae()}})).apply(this,arguments)}function ft(){return(ft=(0,c.A)(function*(Z){const P=function Ke(Z){if((0,L.au)(/[0-9a-zA-Z]+/.test(Z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Z);const P=new ArrayBuffer(Z.length),F=new Uint8Array(P);for(let ce=0;ce<Z.length;ce++)F[ce]=Z.charCodeAt(ce);return F}(Z),F=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(F)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class be extends L.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInitialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInitialized(),this.passiveListeners.forEach(F=>F(P)),super.onEvent(P)}initialized(){var P=this;return(0,c.A)(function*(){yield P.initPromise})()}}function vt(Z){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.A)(function*(Z){const P=yield $t()._get(Qt(Z));return P&&(yield $t()._remove(Qt(Z))),P})).apply(this,arguments)}function Ve(){const Z=[];for(let F=0;F<20;F++){const ce=Math.floor(62*Math.random());Z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ce))}return Z.join("")}function $t(){return(0,L.aE)(L.b)}function Qt(Z){return(0,L.aF)("authEvent",Z.config.apiKey,Z.name)}function Nn(Z){if(null==Z||!Z.includes("?"))return{};const[P,...F]=Z.split("?");return(0,Se.I9)(F.join("?"))}const te=class Pe{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(P){var F=this;return(0,c.A)(function*(){const ce=P._key();let ae=F.eventManagers.get(ce);return ae||(ae=new be(P),F.eventManagers.set(ce,ae),F.attachCallbackListeners(P,ae)),ae})()}_openPopup(P){(0,L.ax)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,F,ce,ae){var Qe=this;return(0,c.A)(function*(){!function lt(Z){var P,F,ce,ae,Qe,Et,Ut,fn,un,vn;const ln=Le();(0,L.aC)("function"==typeof(null===(P=null==ln?void 0:ln.universalLinks)||void 0===P?void 0:P.subscribe),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aC)(typeof(null===(F=null==ln?void 0:ln.BuildInfo)||void 0===F?void 0:F.packageName)<"u",Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aC)("function"==typeof(null===(Qe=null===(ae=null===(ce=null==ln?void 0:ln.cordova)||void 0===ce?void 0:ce.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Qe?void 0:Qe.openUrl),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(fn=null===(Ut=null===(Et=null==ln?void 0:ln.cordova)||void 0===Et?void 0:Et.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===fn?void 0:fn.isAvailable),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aC)("function"==typeof(null===(vn=null===(un=null==ln?void 0:ln.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===vn?void 0:vn.open),Z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Et=yield Qe._initialize(P);yield Et.initialized(),Et.resetRedirect(),(0,L.aI)(),yield Qe._originValidation(P);const Ut=function ke(Z,P,F=null){return{type:P,eventId:F,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:Z.tenantId,error:(0,L.aB)(Z,"no-auth-event")}}(P,ce,ae);yield function it(Z,P){return $t()._set(Qt(Z),P)}(P,Ut);const fn=yield function Ce(Z,P,F){return fe.apply(this,arguments)}(P,Ut,F),un=yield function Be(Z){const{cordova:P}=Le();return new Promise(F=>{P.plugins.browsertab.isAvailable(ce=>{let ae=null;ce?P.plugins.browsertab.openUrl(Z):ae=P.InAppBrowser.open(Z,(0,L.aA)()?"_blank":"_system","location=yes"),F(ae)})})}(fn);return function st(Z,P,F){return dt.apply(this,arguments)}(P,Et,un)})()}_isIframeWebStorageSupported(P,F){throw new Error("Method not implemented.")}_originValidation(P){const F=P._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function $e(Z){return He.apply(this,arguments)}(P)),this.originValidationPromises[F]}attachCallbackListeners(P,F){const{universalLinks:ce,handleOpenURL:ae,BuildInfo:Qe}=Le(),Et=setTimeout((0,c.A)(function*(){yield vt(P),F.onEvent(ne())}),500),Ut=function(){var vn=(0,c.A)(function*(ln){clearTimeout(Et);const dr=yield vt(P);let Dr=null;dr&&null!=ln&&ln.url&&(Dr=function ze(Z,P){var F,ce;const ae=function Zt(Z){const P=Nn(Z),F=P.link?decodeURIComponent(P.link):void 0,ce=Nn(F).link,ae=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return Nn(ae).link||ae||ce||F||Z}(P);if(ae.includes("/__/auth/callback")){const Qe=Nn(ae),Et=Qe.firebaseError?function En(Z){try{return JSON.parse(Z)}catch{return null}}(decodeURIComponent(Qe.firebaseError)):null,Ut=null===(ce=null===(F=null==Et?void 0:Et.code)||void 0===F?void 0:F.split("auth/"))||void 0===ce?void 0:ce[1],fn=Ut?(0,L.aB)(Ut):null;return fn?{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,error:fn,urlResponse:null,sessionId:null,postBody:null}:{type:Z.type,eventId:Z.eventId,tenantId:Z.tenantId,sessionId:Z.sessionId,urlResponse:ae,postBody:null}}return null}(dr,ln.url)),F.onEvent(Dr||ne())});return function(dr){return vn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,Ut);const fn=ae,un=`${Qe.packageName.toLowerCase()}://`;Le().handleOpenURL=function(){var vn=(0,c.A)(function*(ln){if(ln.toLowerCase().startsWith(un)&&Ut({url:ln}),"function"==typeof fn)try{fn(ln)}catch(dr){console.error(dr)}});return function(ln){return vn.apply(this,arguments)}}()}};function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aB)("no-auth-event")}}function Ye(){var Z;return(null===(Z=null==self?void 0:self.location)||void 0===Z?void 0:Z.protocol)||null}function Rt(Z=(0,Se.ZQ)()){return!("file:"!==Ye()&&"ionic:"!==Ye()&&"capacitor:"!==Ye()||!Z.toLowerCase().match(/iphone|ipad|ipod|android/))}function tr(){try{const Z=self.localStorage,P=L.aN();if(Z)return Z.setItem(P,"1"),Z.removeItem(P),!function Vn(Z=(0,Se.ZQ)()){return function jt(){return(0,Se.lT)()&&11===(null==document?void 0:document.documentMode)}()||function In(Z=(0,Se.ZQ)()){return/Edge\/\d+/.test(Z)}(Z)}()||(0,Se.zW)()}catch{return qn()&&(0,Se.zW)()}return!1}function qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jn(){return(function Xe(){return"http:"===Ye()||"https:"===Ye()}()||(0,Se.sr)()||Rt())&&!function we(){return(0,Se.lV)()||(0,Se.Ll)()}()&&tr()&&!qn()}function nr(){return Rt()&&typeof document<"u"}function tn(){return(tn=(0,c.A)(function*(){return!!nr()&&new Promise(Z=>{const P=setTimeout(()=>{Z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),Z(!0)})})})).apply(this,arguments)}const Ft={LOCAL:"local",NONE:"none",SESSION:"session"},on=L.aC,Ot="persistence";function fr(Z){return On.apply(this,arguments)}function On(){return(On=(0,c.A)(function*(Z){yield Z._initializationPromise;const P=ur(),F=L.aF(Ot,Z.config.apiKey,Z.name);P&&P.setItem(F,Z._getPersistence())})).apply(this,arguments)}function ur(){var Z;try{return(null===(Z=function Lt(){return typeof window<"u"?window:null}())||void 0===Z?void 0:Z.sessionStorage)||null}catch{return null}}const Ir=L.aC;class Qn{constructor(){this.browserResolver=L.aE(L.k),this.cordovaResolver=L.aE(te),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aG,this._overrideRedirectResult=L.aH}_initialize(P){var F=this;return(0,c.A)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,F,ce,ae){var Qe=this;return(0,c.A)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openPopup(P,F,ce,ae)})()}_openRedirect(P,F,ce,ae){var Qe=this;return(0,c.A)(function*(){return yield Qe.selectUnderlyingResolver(),Qe.assertedUnderlyingResolver._openRedirect(P,F,ce,ae)})()}_isIframeWebStorageSupported(P,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,F)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ir(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,c.A)(function*(){if(P.underlyingResolver)return;const F=yield function rr(){return tn.apply(this,arguments)}();P.underlyingResolver=F?P.cordovaResolver:P.browserResolver})()}}function Kn(Z){return Z.unwrap()}function Xr(Z){return Pr(Z)}function Pr(Z){const{_tokenResponse:P}=Z instanceof Se.g?Z.customData:Z;if(!P)return null;if(!(Z instanceof Se.g)&&"temporaryProof"in P&&"phoneNumber"in P)return L.P.credentialFromResult(Z);const F=P.providerId;if(!F||F===L.p.PASSWORD)return null;let ce;switch(F){case L.p.GOOGLE:ce=L.X;break;case L.p.FACEBOOK:ce=L.W;break;case L.p.GITHUB:ce=L.Y;break;case L.p.TWITTER:ce=L.$;break;default:const{oauthIdToken:ae,oauthAccessToken:Qe,oauthTokenSecret:Et,pendingToken:Ut,nonce:fn}=P;return Qe||Et||ae||Ut?Ut?F.startsWith("saml.")?L.aQ._create(F,Ut):L.N._fromParams({providerId:F,signInMethod:F,pendingToken:Ut,idToken:ae,accessToken:Qe}):new L.Z(F).credential({idToken:ae,accessToken:Qe,rawNonce:fn}):null}return Z instanceof Se.g?ce.credentialFromError(Z):ce.credentialFromResult(Z)}function Ln(Z,P){return P.catch(F=>{throw F instanceof Se.g&&function Er(Z,P){var F;const ce=null===(F=P.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===(null==P?void 0:P.code))P.resolver=new Zr(Z,L.as(Z,P));else if(ce){const ae=Pr(P),Qe=P;ae&&(Qe.credential=ae,Qe.tenantId=ce.tenantId||void 0,Qe.email=ce.email||void 0,Qe.phoneNumber=ce.phoneNumber||void 0)}}(Z,F),F}).then(F=>{const ae=F.user;return{operationType:F.operationType,credential:Xr(F),additionalUserInfo:L.aq(F),user:$n.getOrCreate(ae)}})}function si(Z,P){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,c.A)(function*(Z,P){const F=yield P;return{verificationId:F.verificationId,confirm:ce=>Ln(Z,F.confirm(ce))}})).apply(this,arguments)}class Zr{constructor(P,F){this.resolver=F,this.auth=function mr(Z){return Z.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Ln(Kn(this.auth),this.resolver.resolveSignIn(P))}}class $n{constructor(P){this._delegate=P,this.multiFactor=L.at(P)}static getOrCreate(P){return $n.USER_MAP.has(P)||$n.USER_MAP.set(P,new $n(P)),$n.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var F=this;return(0,c.A)(function*(){return Ln(F.auth,L.a2(F._delegate,P))})()}linkWithPhoneNumber(P,F){var ce=this;return(0,c.A)(function*(){return si(ce.auth,L.l(ce._delegate,P,F))})()}linkWithPopup(P){var F=this;return(0,c.A)(function*(){return Ln(F.auth,L.d(F._delegate,P,Qn))})()}linkWithRedirect(P){var F=this;return(0,c.A)(function*(){return yield fr(L.aJ(F.auth)),L.g(F._delegate,P,Qn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var F=this;return(0,c.A)(function*(){return Ln(F.auth,L.a3(F._delegate,P))})()}reauthenticateWithPhoneNumber(P,F){return si(this.auth,L.r(this._delegate,P,F))}reauthenticateWithPopup(P){return Ln(this.auth,L.e(this._delegate,P,Qn))}reauthenticateWithRedirect(P){var F=this;return(0,c.A)(function*(){return yield fr(L.aJ(F.auth)),L.h(F._delegate,P,Qn)})()}sendEmailVerification(P){return L.ag(this._delegate,P)}unlink(P){var F=this;return(0,c.A)(function*(){return yield L.ap(F._delegate,P),F})()}updateEmail(P){return L.al(this._delegate,P)}updatePassword(P){return L.am(this._delegate,P)}updatePhoneNumber(P){return L.u(this._delegate,P)}updateProfile(P){return L.ak(this._delegate,P)}verifyBeforeUpdateEmail(P,F){return L.ah(this._delegate,P,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$n.USER_MAP=new WeakMap;const Rn=L.aC;let Or=(()=>{class Z{constructor(F,ce){if(this.app=F,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=F.options;Rn(ae,"invalid-api-key",{appName:F.name}),Rn(ae,"invalid-api-key",{appName:F.name});const Qe=typeof window<"u"?Qn:void 0;this._delegate=ce.initialize({options:{persistence:Tt(ae,F.name),popupRedirectResolver:Qe}}),this._delegate._updateErrorMap(L.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$n.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,ce){L.K(this._delegate,F,ce)}applyActionCode(F){return L.a7(this._delegate,F)}checkActionCode(F){return L.a8(this._delegate,F)}confirmPasswordReset(F,ce){return L.a6(this._delegate,F,ce)}createUserWithEmailAndPassword(F,ce){var ae=this;return(0,c.A)(function*(){return Ln(ae._delegate,L.aa(ae._delegate,F,ce))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return L.af(this._delegate,F)}isSignInWithEmailLink(F){return L.ad(this._delegate,F)}getRedirectResult(){var F=this;return(0,c.A)(function*(){Rn(Jn(),F._delegate,"operation-not-supported-in-this-environment");const ce=yield L.j(F._delegate,Qn);return ce?Ln(F._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function de(Z,P){(0,L.aJ)(Z)._logFramework(P)}(this._delegate,F)}onAuthStateChanged(F,ce,ae){const{next:Qe,error:Et,complete:Ut}=vr(F,ce,ae);return this._delegate.onAuthStateChanged(Qe,Et,Ut)}onIdTokenChanged(F,ce,ae){const{next:Qe,error:Et,complete:Ut}=vr(F,ce,ae);return this._delegate.onIdTokenChanged(Qe,Et,Ut)}sendSignInLinkToEmail(F,ce){return L.ac(this._delegate,F,ce)}sendPasswordResetEmail(F,ce){return L.a5(this._delegate,F,ce||void 0)}setPersistence(F){var ce=this;return(0,c.A)(function*(){let ae;switch(function yr(Z,P){on(Object.values(Ft).includes(P),Z,"invalid-persistence-type"),(0,Se.lV)()?on(P!==Ft.SESSION,Z,"unsupported-persistence-type"):(0,Se.Ll)()?on(P===Ft.NONE,Z,"unsupported-persistence-type"):qn()?on(P===Ft.NONE||P===Ft.LOCAL&&(0,Se.zW)(),Z,"unsupported-persistence-type"):on(P===Ft.NONE||tr(),Z,"unsupported-persistence-type")}(ce._delegate,F),F){case Ft.SESSION:ae=L.a;break;case Ft.LOCAL:ae=(yield L.aE(L.i)._isAvailable())?L.i:L.b;break;case Ft.NONE:ae=L.U;break;default:return L.ax("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return Ln(this._delegate,L.a0(this._delegate))}signInWithCredential(F){return Ln(this._delegate,L.a1(this._delegate,F))}signInWithCustomToken(F){return Ln(this._delegate,L.a4(this._delegate,F))}signInWithEmailAndPassword(F,ce){return Ln(this._delegate,L.ab(this._delegate,F,ce))}signInWithEmailLink(F,ce){return Ln(this._delegate,L.ae(this._delegate,F,ce))}signInWithPhoneNumber(F,ce){return si(this._delegate,L.s(this._delegate,F,ce))}signInWithPopup(F){var ce=this;return(0,c.A)(function*(){return Rn(Jn(),ce._delegate,"operation-not-supported-in-this-environment"),Ln(ce._delegate,L.c(ce._delegate,F,Qn))})()}signInWithRedirect(F){var ce=this;return(0,c.A)(function*(){return Rn(Jn(),ce._delegate,"operation-not-supported-in-this-environment"),yield fr(ce._delegate),L.f(ce._delegate,F,Qn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return L.a9(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Z.Persistence=Ft,Z})();function vr(Z,P,F){let ce=Z;"function"!=typeof Z&&({next:ce,error:P,complete:F}=Z);const ae=ce;return{next:Et=>ae(Et&&$n.getOrCreate(Et)),error:P,complete:F}}function Tt(Z,P){const F=function Pn(Z,P){const F=ur();if(!F)return[];const ce=L.aF(Ot,Z,P);switch(F.getItem(ce)){case Ft.NONE:return[L.U];case Ft.LOCAL:return[L.i,L.a];case Ft.SESSION:return[L.a];default:return[]}}(Z,P);if(typeof self<"u"&&!F.includes(L.i)&&F.push(L.i),typeof window<"u")for(const ce of[L.b,L.a])F.includes(ce)||F.push(ce);return F.includes(L.U)||F.push(L.U),F}class nt{constructor(){this.providerId="phone",this._delegate=new L.P(Kn(h.A.auth()))}static credential(P,F){return L.P.credential(P,F)}verifyPhoneNumber(P,F){return this._delegate.verifyPhoneNumber(P,F)}unwrap(){return this._delegate}}nt.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,nt.PROVIDER_ID=L.P.PROVIDER_ID;const kt=L.aC;class rt{constructor(P,F,ce=h.A.app()){var ae;kt(null===(ae=ce.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new L.R(ce.auth(),P,F),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sn(Z){Z.INTERNAL.registerComponent(new ye.uA("auth-compat",P=>{const F=P.getProvider("app-compat").getImmediate(),ce=P.getProvider("auth");return new Or(F,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.V,FacebookAuthProvider:L.W,GithubAuthProvider:L.Y,GoogleAuthProvider:L.X,OAuthProvider:L.Z,SAMLAuthProvider:L._,PhoneAuthProvider:nt,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:rt,TwitterAuthProvider:L.$,Auth:Or,AuthCredential:L.L,Error:Se.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Z.registerVersion("@firebase/auth-compat","0.5.14")}(h.A)},467:(bn,ht,O)=>{"use strict";function c(L,Se,le,he,ye,Le,Ge){try{var Ce=L[Le](Ge),fe=Ce.value}catch($e){return void le($e)}Ce.done?Se(fe):Promise.resolve(fe).then(he,ye)}function h(L){return function(){var Se=this,le=arguments;return new Promise(function(he,ye){var Le=L.apply(Se,le);function Ge(fe){c(Le,he,ye,Ge,Ce,"next",fe)}function Ce(fe){c(Le,he,ye,Ge,Ce,"throw",fe)}Ge(void 0)})}}O.d(ht,{A:()=>h})},9842:(bn,ht,O)=>{"use strict";function c(le){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(le)}function Se(le,he,ye){return(he=function L(le){var he=function h(le,he){if("object"!=c(le)||!le)return le;var ye=le[Symbol.toPrimitive];if(void 0!==ye){var Le=ye.call(le,he||"default");if("object"!=c(Le))return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===he?String:Number)(le)}(le,"string");return"symbol"==c(he)?he:he+""}(he))in le?Object.defineProperty(le,he,{value:ye,enumerable:!0,configurable:!0,writable:!0}):le[he]=ye,le}O.d(ht,{A:()=>Se})},1635:(bn,ht,O)=>{"use strict";function Se(te,ne){var de={};for(var me in te)Object.prototype.hasOwnProperty.call(te,me)&&ne.indexOf(me)<0&&(de[me]=te[me]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(me=Object.getOwnPropertySymbols(te);ve<me.length;ve++)ne.indexOf(me[ve])<0&&Object.prototype.propertyIsEnumerable.call(te,me[ve])&&(de[me[ve]]=te[me[ve]])}return de}function le(te,ne,de,me){var Ye,ve=arguments.length,Me=ve<3?ne:null===me?me=Object.getOwnPropertyDescriptor(ne,de):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Me=Reflect.decorate(te,ne,de,me);else for(var Xe=te.length-1;Xe>=0;Xe--)(Ye=te[Xe])&&(Me=(ve<3?Ye(Me):ve>3?Ye(ne,de,Me):Ye(ne,de))||Me);return ve>3&&Me&&Object.defineProperty(ne,de,Me),Me}function $e(te,ne,de,me){return new(de||(de=Promise))(function(Me,Ye){function Xe(jt){try{we(me.next(jt))}catch(In){Ye(In)}}function Rt(jt){try{we(me.throw(jt))}catch(In){Ye(In)}}function we(jt){jt.done?Me(jt.value):function ve(Me){return Me instanceof de?Me:new de(function(Ye){Ye(Me)})}(jt.value).then(Xe,Rt)}we((me=me.apply(te,ne||[])).next())})}function tt(te){return this instanceof tt?(this.v=te,this):new tt(te)}function be(te,ne,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,me=de.apply(te,ne||[]),Me=[];return ve=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Xe("next"),Xe("throw"),Xe("return",function Ye(tr){return function(qn){return Promise.resolve(qn).then(tr,In)}}),ve[Symbol.asyncIterator]=function(){return this},ve;function Xe(tr,qn){me[tr]&&(ve[tr]=function(Jn){return new Promise(function(nr,rr){Me.push([tr,Jn,nr,rr])>1||Rt(tr,Jn)})},qn&&(ve[tr]=qn(ve[tr])))}function Rt(tr,qn){try{!function we(tr){tr.value instanceof tt?Promise.resolve(tr.value.v).then(jt,In):Vn(Me[0][2],tr)}(me[tr](qn))}catch(Jn){Vn(Me[0][3],Jn)}}function jt(tr){Rt("next",tr)}function In(tr){Rt("throw",tr)}function Vn(tr,qn){tr(qn),Me.shift(),Me.length&&Rt(Me[0][0],Me[0][1])}}function it(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ne=te[Symbol.asyncIterator];return ne?ne.call(te):(te=function dt(te){var ne="function"==typeof Symbol&&Symbol.iterator,de=ne&&te[ne],me=0;if(de)return de.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&me>=te.length&&(te=void 0),{value:te&&te[me++],done:!te}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),de={},me("next"),me("throw"),me("return"),de[Symbol.asyncIterator]=function(){return this},de);function me(Me){de[Me]=te[Me]&&function(Ye){return new Promise(function(Xe,Rt){!function ve(Me,Ye,Xe,Rt){Promise.resolve(Rt).then(function(we){Me({value:we,done:Xe})},Ye)}(Xe,Rt,(Ye=te[Me](Ye)).done,Ye.value)})}}}O.d(ht,{AQ:()=>be,Cg:()=>le,N3:()=>tt,Tt:()=>Se,sH:()=>$e,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},bn=>{bn(bn.s=1094)}]);