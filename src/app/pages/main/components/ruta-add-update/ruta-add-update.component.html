<app-header [isModal]="true" [title]="ruta ? 'Actualizar Ruta' : 'Agregar Ruta'"></app-header>
<ion-content>
    <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()" (keypress.enter)="submit()">

        <app-custom-input
        
        autocomplete="posicionInicial" 
        [control]="form.controls.posicionInicial"
        type="text"
        label="Posición inicial" 
        label-placement="floating"
        ></app-custom-input>
        <div class="validators" *ngIf="form.controls.posicionInicial.errors && form.controls.posicionInicial.touched">
        
          <div *ngIf="form.controls.posicionInicial.errors?.['required']">La posición inicial es requerida</div>

        </div>

        <app-custom-input
        
        autocomplete="nombreDestino" 
        [control]="form.controls.nombreDestino"
        type="text"
        label="Comuna de destino" 
        label-placement="floating"
        ></app-custom-input>
        <div class="validators" *ngIf="form.controls.nombreDestino.errors && form.controls.nombreDestino.touched">
        
          <div *ngIf="form.controls.nombreDestino.errors?.['required']">La comuna de destino es requerida</div>

        </div>

        <app-custom-input
        
        autocomplete="precio" 
        [control]="form.controls.precio"
        type="number"
        label="Precio" 
        label-placement="floating"
        ></app-custom-input>
        <div class="validators" *ngIf="form.controls.precio.errors && form.controls.precio.touched">
        
          <div *ngIf="form.controls.precio.errors?.['required']">El precio es requerido</div>
          <div *ngIf="form.controls.precio.errors?.['min']">El precio debe ser desde 1000 en adelante</div>

        </div>

        <ion-button mode="ios" class="ion-margin" type="submit" [disabled]="form.invalid">
            {{ ruta ? 'Actualizar' : 'Agregar' }}
            <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
        </ion-button>
    
    </form>
</ion-content>
